<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 5.4.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-hello-world" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/05/20/hello-world/" class="article-date">
  <time class="dt-published" datetime="2021-05-20T03:35:45.470Z" itemprop="datePublished">2021-05-20</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/05/20/hello-world/">Hello World</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>Welcome to <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a target="_blank" rel="noopener" href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a target="_blank" rel="noopener" href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/05/20/hello-world/" data-id="ckowcdwme0000ngne5en1gqx7" data-title="Hello World" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-yuque/homebrew" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/05/20/yuque/homebrew/" class="article-date">
  <time class="dt-published" datetime="2021-05-20T03:35:11.000Z" itemprop="datePublished">2021-05-20</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/05/20/yuque/homebrew/">homebrew</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/05/20/yuque/homebrew/" data-id="ckowcdwmm0002ngnegubz669a" data-title="homebrew" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-yuque/software" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/05/17/yuque/software/" class="article-date">
  <time class="dt-published" datetime="2021-05-17T07:23:53.000Z" itemprop="datePublished">2021-05-17</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/05/17/yuque/software/">software</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="常用软件列表"><a href="#常用软件列表" class="headerlink" title="常用软件列表"></a>常用软件列表</h1><h2 id="adobe"><a href="#adobe" class="headerlink" title="adobe"></a>adobe</h2><h3 id="acrobat-DC-pro"><a href="#acrobat-DC-pro" class="headerlink" title="acrobat DC pro"></a>acrobat DC pro</h3><p>pdf 查看制作工具</p>
<h3 id="photoshop"><a href="#photoshop" class="headerlink" title="photoshop"></a>photoshop</h3><h3 id="premiere"><a href="#premiere" class="headerlink" title="premiere"></a>premiere</h3><h2 id="PDF-Expert"><a href="#PDF-Expert" class="headerlink" title="PDF Expert"></a>PDF Expert</h2><p>mac 系统 pdf 查看和编辑工具</p>
<h2 id="ali"><a href="#ali" class="headerlink" title="ali"></a>ali</h2><h3 id="dingding"><a href="#dingding" class="headerlink" title="dingding"></a>dingding</h3><h3 id="yuque"><a href="#yuque" class="headerlink" title="yuque"></a>yuque</h3><h2 id="office"><a href="#office" class="headerlink" title="office"></a>office</h2><h2 id="MathType"><a href="#MathType" class="headerlink" title="MathType"></a>MathType</h2><p>数学公式编辑工具<br>使用技巧：<br>调整工作区的大小，预置-工作区预置-工具栏大小<br>转换 word 中的公式：<br>选中要转换的公式，点击 mathtype 中的转换公式，要转换的公式类型选择：MathType 或 Equation Editor 公式、Microsoft Word EQ 域、Word2007 及以上（OMML）公式<br>mathtype 中的公式复制到 markdown 中，预置-剪切和复制预置-选择 MathEL 或 TeX-下拉框选择默认 LaTeX 2.09 and later<br>​</p>
<h2 id="LaTeX"><a href="#LaTeX" class="headerlink" title="LaTeX"></a>LaTeX</h2><p>最基本的 TeX 程序只是由一些很原始的命令组成，它们可以完成简单的排版操作和程序设计功能。然而，TeX 也允许用这些原始命令定义一些更复杂的高级命令。这样就可以利用低级的块结构，形成一个用户界面相当友好的环境。<br>Leslie Lamport 开发的 LaTeX 是当今世界上最流行和使用最为广泛的 TeX 宏集。它构筑在 Plain TeX 的基础之上，并加进了很多的功能以使得使用者可以更为方便的利用 TeX 的强大功能。<br>texlive 安装：<br><a target="_blank" rel="noopener" href="https://www.tug.org/texlive/">https://www.tug.org/texlive/</a><br>点击 on DVD<br>点击 downloading the TeX Live ISO image and burning your own DVD<br>点击 download from a nearby CTAN mirror<br>得到 texlive2020.iso 文件，解压到指定的文件夹下，<br>点击 install-tl-windows.bat 运行程序安装<br><img src="https://cdn.nlark.com/yuque/0/2021/png/1430920/1621236241493-182010c4-98ab-4bd5-a991-e5e03e3f978a.png#clientId=u994ec273-fb26-4&from=paste&height=183&id=u0eda1062&margin=%5Bobject%20Object%5D&originHeight=365&originWidth=539&originalType=url&status=done&style=none&taskId=udb50e75a-a642-488d-8891-d57ee99ee1b&width=269.5"><br>安装成功界面<br><img src="https://cdn.nlark.com/yuque/0/2021/png/1430920/1621236241482-beeac4eb-364d-4d07-8e07-81f68c95553a.png#clientId=u994ec273-fb26-4&from=paste&height=89&id=u26dd2195&margin=%5Bobject%20Object%5D&originHeight=177&originWidth=1889&originalType=url&status=done&style=none&taskId=ufde9430b-0b0d-4cbd-a272-f3d5a4a4c83&width=944.5"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">// 运行命令检查是否安装成功</span><br><span class="line">goinhn :: ~ » tex -version</span><br><span class="line">TeX 3.14159265 (TeX Live 2020/W32TeX)</span><br><span class="line">kpathsea version 6.3.2</span><br><span class="line">Copyright 2020 D.E. Knuth.</span><br><span class="line">There is NO warranty.  Redistribution of this software is</span><br><span class="line">covered by the terms of both the TeX copyright and</span><br><span class="line">the Lesser GNU General Public License.</span><br><span class="line">For more information about these matters, see the file</span><br><span class="line">named COPYING and the TeX <span class="built_in">source</span>.</span><br><span class="line">Primary author of TeX: D.E. Knuth.</span><br><span class="line">goinhn :: ~ » latex -v</span><br><span class="line">pdfTeX 3.14159265-2.6-1.40.21 (TeX Live 2020/W32TeX)</span><br><span class="line">kpathsea version 6.3.2</span><br><span class="line">Copyright 2020 Han The Thanh (pdfTeX) et al.</span><br><span class="line">There is NO warranty.  Redistribution of this software is</span><br><span class="line">covered by the terms of both the pdfTeX copyright and</span><br><span class="line">the Lesser GNU General Public License.</span><br><span class="line">For more information about these matters, see the file</span><br><span class="line">named COPYING and the pdfTeX <span class="built_in">source</span>.</span><br><span class="line">Primary author of pdfTeX: Han The Thanh (pdfTeX) et al.</span><br><span class="line">Compiled with libpng 1.6.37; using libpng 1.6.37</span><br><span class="line">Compiled with zlib 1.2.11; using zlib 1.2.11</span><br><span class="line">Compiled with xpdf version 4.02</span><br></pre></td></tr></table></figure>

<p>运行自带的 texworks editor 软件，进行编辑<br>添加语法检查，下载字典库<br><a target="_blank" rel="noopener" href="https://extensions.openoffice.org/en/project/english-dictionaries-apache-openoffice">https://extensions.openoffice.org/en/project/english-dictionaries-apache-openoffice</a><br>将后缀.oxt 修改为.zip，解压到指定文件夹，<br>查看 texwroks 的资源目录，帮助-Texworks 配置和资源<br>在资源目录下新建文件夹，命名为 dictionaries，将解压出来的后缀名为.aff 和.dic 放置在该文件夹下，重新启动 texworks，设置拼写的选项<br>​</p>
<p>常见问题：<br>在 Latex 中，非数学环境中不能使用下划线，否则会看做是数学环境<br>一般 file ended while scanning use of \frame 等错误 是由于少了 }</p>
<h2 id=""><a href="#" class="headerlink" title=""></a></h2><h2 id="netsarang"><a href="#netsarang" class="headerlink" title="netsarang"></a>netsarang</h2><h3 id="xshell"><a href="#xshell" class="headerlink" title="xshell"></a>xshell</h3><h3 id="xftp"><a href="#xftp" class="headerlink" title="xftp"></a>xftp</h3><h3 id="xmanager"><a href="#xmanager" class="headerlink" title="xmanager"></a>xmanager</h3><h2 id="winscp"><a href="#winscp" class="headerlink" title="winscp"></a>winscp</h2><blockquote>
<p>​<a target="_blank" rel="noopener" href="https://winscp.net/eng/docs/lang:chs">https://winscp.net/eng/docs/lang:chs</a></p>
</blockquote>
<p>Windows 上的 sftp 工具</p>
<h2 id="secureCRT"><a href="#secureCRT" class="headerlink" title="secureCRT"></a>secureCRT</h2><blockquote>
<p>​<a target="_blank" rel="noopener" href="https://www.vandyke.com/index.php">https://www.vandyke.com/index.php</a></p>
</blockquote>
<p>ssh 连接<br>​</p>
<h2 id="MobaXterm"><a href="#MobaXterm" class="headerlink" title="MobaXterm"></a>MobaXterm</h2><blockquote>
<p>​<a target="_blank" rel="noopener" href="https://mobaxterm.mobatek.net/">https://mobaxterm.mobatek.net/</a></p>
</blockquote>
<p>X-server 服务器软件<br>​</p>
<h2 id="Filezila"><a href="#Filezila" class="headerlink" title="Filezila"></a>Filezila</h2><blockquote>
<p>​<a target="_blank" rel="noopener" href="https://www.filezilla.cn/">https://www.filezilla.cn/</a></p>
</blockquote>
<p>ftp 连接工具</p>
<h2 id="火绒"><a href="#火绒" class="headerlink" title="火绒"></a>火绒</h2><p>安全工具</p>
<h3 id="设置禁止-windows-更新"><a href="#设置禁止-windows-更新" class="headerlink" title="设置禁止 windows 更新"></a>设置禁止 windows 更新</h3><p>1、进入设置 —— 高级防护 —— 自定义防护 —— 点击添加规则<br><img src="https://cdn.nlark.com/yuque/0/2021/png/1430920/1621236241461-bc10eed3-5270-4e38-a3d2-d74eaf4d206a.png#clientId=u994ec273-fb26-4&from=paste&height=272&id=u2a20ea1e&margin=%5Bobject%20Object%5D&originHeight=543&originWidth=822&originalType=url&status=done&style=none&taskId=ud5bcaeb2-f51c-4c3d-8a59-2fda11c5f76&width=411"><br>2、规则名称自定义 —— 发起程序设置为 C:\Windows\System32\svchost.exe —— 添加保护对象中设置为 C:\Windows\SoftwareDistribution 文件夹，勾选创建、读取、修改<br><img src="https://cdn.nlark.com/yuque/0/2021/png/1430920/1621236241467-65da1285-de6b-4149-a4d2-15f21e0e32d2.png#clientId=u994ec273-fb26-4&from=paste&height=268&id=u18b06880&margin=%5Bobject%20Object%5D&originHeight=535&originWidth=819&originalType=url&status=done&style=none&taskId=u34c54e06-90da-4258-96b8-ca6ecca92ec&width=409.5"><br>3、选择规则何时执行的时候可以直接点击直接阻止，最后保存即可<br>​</p>
<h2 id="JetBrains"><a href="#JetBrains" class="headerlink" title="JetBrains"></a>JetBrains</h2><h3 id="IntelliJ-IDEA"><a href="#IntelliJ-IDEA" class="headerlink" title="IntelliJ IDEA"></a>IntelliJ IDEA</h3><p><strong>自动补全功能</strong><br>// var 声明<br>“this is var”.var</p>
<p>// null 判空<br>s.null</p>
<p>// notnull 判非空<br>s.notnull</p>
<p>// nn 判非空<br>s.nn</p>
<p>// for 循环<br>list.for</p>
<p>// fori 带索引的循环<br>list.fori</p>
<p>// not 取反<br>isSuccess.not</p>
<p>// if 条件判断<br>str.length() &gt; 0.if</p>
<p>// cast 强转<br>object.cast</p>
<p>// return 返回值<br>str.return<br><strong>maven</strong></p>
<ol>
<li>在 File-&gt;settings-&gt;搜索 maven</li>
<li>Mavan home directory–设置 maven 安装包的 bin 文件夹所在的位置</li>
<li>User settings file–设置 setting.xml 文件所在的位置</li>
<li>Local repository–设置本地仓库</li>
</ol>
<p><strong>设置代码行的宽度</strong></p>
<ol>
<li>在 File-&gt;settings-&gt;Code Style 中，点击 General 选项卡，选中 Wrap on typping</li>
<li>在 File-&gt;settings-&gt;Code Style-&gt;Java 中，选中“Wrapping and Braces”选项卡，在“Keep when reformatting”中有一个“Ensure rigth margin is not exceeded”，</li>
</ol>
<p><strong>用*标识编辑过的文件</strong></p>
<ol>
<li>Editor–&gt;General –&gt; Editor Tabs</li>
<li>在 IDEA 中，你需要做以下设置, 这样被修改的文件会以*号标识出来，你可以及时保存相关的文件。</li>
<li>Mark modifyied tabs with asterisk</li>
</ol>
<p><strong>编码设置</strong></p>
<ol>
<li>FILE -&gt; SETTINGS -&gt; FILE ENCODINGS =&gt; IDE ENCODING</li>
<li>FILE -&gt; SETTINGS -&gt; FILE ENCODINGS =&gt; Project Encoding</li>
<li>FILE -&gt; SETTINGS -&gt; FILE ENCODINGS =&gt; Default encoding for properties files</li>
<li>FILE -&gt; SETTINGS -&gt; FILE ENCODINGS =&gt; Transparent native-to-ascii conversion</li>
</ol>
<p><strong>Inject language</strong><br>快速将编写的内容转义为 Java 中的字符串<br>以编写 json 字符串为例子<br>先将焦点定位到双引号里面，使用 alt+enter 快捷键弹出 inject language 视图，并选中 Inject language or reference。选择后,切记，要直接按下 enter 回车键，才能弹出 inject language 列表。在列表中选择 json 组件。选择完后。鼠标焦点自动会定位在双引号里面，这个时候你再次使用 alt+enter，选中 Edit JSON Fragment 并回车，就可以看到编辑 JSON 文件的视图了。可以看到 IDEA 确实帮我们自动转义双引号了。如果要退出编辑 JSON 信息的视图，只需要使用 ctrl+F4 快捷键即可。</p>
<h3 id="WebStorm"><a href="#WebStorm" class="headerlink" title="WebStorm"></a>WebStorm</h3><h3 id="pycharm"><a href="#pycharm" class="headerlink" title="pycharm"></a>pycharm</h3><h3 id="datagrip"><a href="#datagrip" class="headerlink" title="datagrip"></a>datagrip</h3><h2 id="VSCode"><a href="#VSCode" class="headerlink" title="VSCode"></a>VSCode</h2><h2 id="Tencent"><a href="#Tencent" class="headerlink" title="Tencent"></a>Tencent</h2><h3 id="foxmail"><a href="#foxmail" class="headerlink" title="foxmail"></a>foxmail</h3><h3 id="QQ"><a href="#QQ" class="headerlink" title="QQ"></a>QQ</h3><h3 id="QQMusic"><a href="#QQMusic" class="headerlink" title="QQMusic"></a>QQMusic</h3><h3 id="TIM"><a href="#TIM" class="headerlink" title="TIM"></a>TIM</h3><h3 id="WeChat"><a href="#WeChat" class="headerlink" title="WeChat"></a>WeChat</h3><h3 id="微信开发者工具"><a href="#微信开发者工具" class="headerlink" title="微信开发者工具"></a>微信开发者工具</h3><h3 id="腾讯会议"><a href="#腾讯会议" class="headerlink" title="腾讯会议"></a>腾讯会议</h3><h2 id="Telegram"><a href="#Telegram" class="headerlink" title="Telegram"></a>Telegram</h2><p>chrome app<br>mobie phone<br>​</p>
<h2 id="Itunes"><a href="#Itunes" class="headerlink" title="Itunes"></a>Itunes</h2><blockquote>
<p>​<a target="_blank" rel="noopener" href="https://www.apple.com.cn/itunes/">https://www.apple.com.cn/itunes/</a></p>
</blockquote>
<h2 id="Typora"><a href="#Typora" class="headerlink" title="Typora"></a>Typora</h2><p>帮助文档</p>
<blockquote>
<p>​<a target="_blank" rel="noopener" href="https://support.typora.io/">https://support.typora.io/</a></p>
</blockquote>
<h2 id="PicGo"><a href="#PicGo" class="headerlink" title="PicGo"></a>PicGo</h2><p>图床工具，内置 PicGo-Core<br>​</p>
<h2 id="uPic"><a href="#uPic" class="headerlink" title="uPic"></a>uPic</h2><p>图床工具<br>安装：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew intall -cask upic</span><br></pre></td></tr></table></figure>

<p>手动下载源码：</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://github.com/gee1k/uPic/releases">https://github.com/gee1k/uPic/releases</a></p>
</blockquote>
<p>主页：</p>
<blockquote>
<p>svend.cc</p>
</blockquote>
<p>配置过程：<br>打开 finder 中的扩展权限：系统偏好设置-扩展-访达扩展，设置勾选的状态。<br>添加 gitee 作为图床为例子，申请 gitee 中的 token 作为访问即可<br>使用方式：</p>
<ul>
<li>选择文件上传</li>
<li>复制文件上传</li>
<li>截图上传</li>
<li>拖拽本地文件上传</li>
<li>拖拽浏览器图片上传</li>
<li>Finder 中右键上传</li>
<li>命令行上传</li>
</ul>
<p>​</p>
<h2 id="vmware"><a href="#vmware" class="headerlink" title="vmware"></a>vmware</h2><blockquote>
<p>​<a target="_blank" rel="noopener" href="https://www.vmware.com/">https://www.vmware.com/</a></p>
</blockquote>
<h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><p>计算机缺少所需要的库，点击进行下载<br><a target="_blank" rel="noopener" href="https://support.microsoft.com/en-us/help/2977003/the-latest-supported-visual-c-downloads">https://support.microsoft.com/en-us/help/2977003/the-latest-supported-visual-c-downloads</a><br><img src="https://cdn.nlark.com/yuque/0/2021/png/1430920/1621236241493-0f77c18e-685a-419e-bce6-babd568b7457.png#clientId=u994ec273-fb26-4&from=paste&height=144&id=u4c043644&margin=%5Bobject%20Object%5D&originHeight=288&originWidth=527&originalType=url&status=done&style=none&taskId=u752e3dff-e816-4874-b718-9366a682075&width=263.5"><br>安装过程<br><img src="https://cdn.nlark.com/yuque/0/2021/png/1430920/1621236242220-561c4af9-11eb-405a-af05-2a2c112cd3f4.png#clientId=u994ec273-fb26-4&from=paste&height=149&id=u935aaa96&margin=%5Bobject%20Object%5D&originHeight=297&originWidth=482&originalType=url&status=done&style=none&taskId=u1b8a2cbf-88a2-4ef6-8395-b42f119620e&width=241"><br>接着就可以点击软件直接进行安装</p>
<h3 id="错误"><a href="#错误" class="headerlink" title="错误"></a>错误</h3><p>// 您的主机不满足在启用 Hyper-V 或 Device/Credential Guard 的情况下运行 VMware Workstation 的最低要求。</p>
<p>关闭 Hyper-V 和 Device/Credential Guard 程序<br>bcdedit /set hypervisorlaunchtype off</p>
<h2 id="virtualbox"><a href="#virtualbox" class="headerlink" title="virtualbox"></a>virtualbox</h2><h2 id="Tortoise"><a href="#Tortoise" class="headerlink" title="Tortoise"></a>Tortoise</h2><p>安装时要下载对应的语言包</p>
<h3 id="tortoiseGit"><a href="#tortoiseGit" class="headerlink" title="tortoiseGit"></a>tortoiseGit</h3><p>官网<br><a target="_blank" rel="noopener" href="https://tortoisegit.org/">https://tortoisegit.org/</a></p>
<h3 id="tortoiseSVN"><a href="#tortoiseSVN" class="headerlink" title="tortoiseSVN"></a>tortoiseSVN</h3><p>官网<br><a target="_blank" rel="noopener" href="https://tortoisesvn.net/">https://tortoisesvn.net/</a><br>​</p>
<h2 id="NotePad"><a href="#NotePad" class="headerlink" title="NotePad++"></a>NotePad++</h2><h2 id="Emacs"><a href="#Emacs" class="headerlink" title="Emacs"></a>Emacs</h2><p><a target="_blank" rel="noopener" href="https://www.gnu.org/software/emacs/">https://www.gnu.org/software/emacs/</a><br>著名的集成开发环境和文本编辑器，宏文本编辑器<br>Emacs 是目前世界上最具可移植性的重要软件之一，能够在当前大多数操作系统上运行，包括类 Unix 系统（GNU/Linux、各种 BSD、Solaris、AIX、IRIX 等等）、MS-DOS、Microsoft Window 以及 OpenVMS 等，还有移动 Android 平台以及 iOS。<br>安装：<br>GNU Emacs for Windows can be downloaded from a <a target="_blank" rel="noopener" href="http://ftpmirror.gnu.org/emacs/windows">nearby GNU mirror</a>; or the <a target="_blank" rel="noopener" href="http://ftp.gnu.org/gnu/emacs/windows/">main GNU FTP server</a>.Unzip the zip file preserving the directory structure, and run bin\runemacs.exe. Alternatively, create a desktop shortcut to bin\runemacs.exe, and start Emacs by double-clicking on that shortcut’s icon.<br>The Windows binaries are signed by Phillip Lord 8E64 B119 FE4B AC58 C767 D5EC E095 C1A6 3FB1 EAD2.<br>MSYS2 users can install Emacs (64bits build) with the following:<br>pacman -S mingw-w64-x86_64-emacs<br>For the 32bits build, evaluate:<br>pacman -S mingw-w64-i686-emacs<br>​</p>
<h2 id="Sublime"><a href="#Sublime" class="headerlink" title="Sublime"></a>Sublime</h2><h2 id="Gedit"><a href="#Gedit" class="headerlink" title="Gedit"></a>Gedit</h2><p>编辑软件</p>
<h2 id="-1"><a href="#-1" class="headerlink" title=""></a></h2><h2 id="Kate"><a href="#Kate" class="headerlink" title="Kate"></a>Kate</h2><p>编辑软件<br>​</p>
<h2 id="手心输入法"><a href="#手心输入法" class="headerlink" title="手心输入法"></a>手心输入法</h2><h2 id="Fiddler"><a href="#Fiddler" class="headerlink" title="Fiddler"></a>Fiddler</h2><p>官网<br><a target="_blank" rel="noopener" href="https://www.telerik.com/download/fiddler">https://www.telerik.com/download/fiddler</a></p>
<h3 id="windows-设置浏览器监听"><a href="#windows-设置浏览器监听" class="headerlink" title="windows 设置浏览器监听"></a>windows 设置浏览器监听</h3><p>1、打开 tools &gt; options &gt; HTTPS &gt; Decrypt HTTPS traffic<br><img src="https://cdn.nlark.com/yuque/0/2021/png/1430920/1621236242290-6c9b76da-ab99-4433-badb-9caf078f2172.png#clientId=u994ec273-fb26-4&from=paste&height=185&id=u8aa68ec6&margin=%5Bobject%20Object%5D&originHeight=369&originWidth=545&originalType=url&status=done&style=none&taskId=u00f065ea-f6f6-4c66-a41d-829949f4900&width=272.5"><br>2、安装证书，有两种方法</p>
<ul>
<li>勾选后点击右边的 Actions 按钮选择<strong>“Trust Root Certificate”</strong>选项，然后全部选择是就行了。</li>
<li>勾选后点击右边的 Actions 按钮选择第二个选项将证书导出到桌面，然后再在对应的浏览器里面添加即可。</li>
</ul>
<h2 id="浏览器"><a href="#浏览器" class="headerlink" title="浏览器"></a>浏览器</h2><h3 id="chrome"><a href="#chrome" class="headerlink" title="chrome"></a>chrome</h3><p><strong>开启网址转换为二维码</strong><br>chrome://flags/#sharing-qr-code-generator<br>将<strong>Enable sharing page via QR Code</strong>的选项切换为<strong>Enabled</strong>，然后重启浏览器。<br><strong>下载加速</strong><br>chrome://flags/#enable-parallel-downloading<br>在<strong>Parallel downloading</strong>的选项切换为<strong>Enabled</strong>，然后重启浏览器。<br><strong>悬停预览标签</strong><br>chrome://flags/#tab-hover-cards<br>然后将 Tab Hover Cards 和 Tab Hover Cards Images 后面的选项都切换为<strong>Enabled</strong>，然后重启浏览器。</p>
<h3 id="firefox"><a href="#firefox" class="headerlink" title="firefox"></a>firefox</h3><h3 id="edge"><a href="#edge" class="headerlink" title="edge"></a>edge</h3><h2 id="pdman"><a href="#pdman" class="headerlink" title="pdman"></a>pdman</h2><p>数据库建模工具<br>​</p>
<h2 id="gunpg"><a href="#gunpg" class="headerlink" title="gunpg"></a>gunpg</h2><p>加密工具，为 pgp 的代替品，GnuPG，简称 GPG</p>
<blockquote>
<p>​<a target="_blank" rel="noopener" href="https://www.gnupg.org/download/index.en.html">https://www.gnupg.org/download/index.en.html</a></p>
</blockquote>
<h3 id="安装-1"><a href="#安装-1" class="headerlink" title="安装"></a>安装</h3><h4 id="windows"><a href="#windows" class="headerlink" title="windows"></a>windows</h4><p>window 为 gpg4win 实现方式<br>官网下载地址</p>
<blockquote>
<p>​<a target="_blank" rel="noopener" href="https://gpg4win.org/">https://gpg4win.org/</a></p>
</blockquote>
<h2 id="-2"><a href="#-2" class="headerlink" title=""></a></h2><h2 id="Wireshark"><a href="#Wireshark" class="headerlink" title="Wireshark"></a>Wireshark</h2><h2 id="Xmind"><a href="#Xmind" class="headerlink" title="Xmind"></a>Xmind</h2><h2 id="录音精灵"><a href="#录音精灵" class="headerlink" title="录音精灵"></a>录音精灵</h2><h2 id="Potplayer"><a href="#Potplayer" class="headerlink" title="Potplayer"></a>Potplayer</h2><p>官网地址<br><a target="_blank" rel="noopener" href="http://potplayer.daum.net/?lang=zh_CN">http://potplayer.daum.net/?lang=zh_CN</a><a target="_blank" rel="noopener" href="http://www.potplayercn.com/">http://www.potplayercn.com/</a><br>下载地址<br><a target="_blank" rel="noopener" href="https://www.videohelp.com/software/PotPlayer/old-versions">https://www.videohelp.com/software/PotPlayer/old-versions</a><br>​</p>
<h2 id="Free-Download-Manager"><a href="#Free-Download-Manager" class="headerlink" title="Free Download Manager"></a>Free Download Manager</h2><p>下载工具<br>官网地址<br><a target="_blank" rel="noopener" href="https://www.freedownloadmanager.org/zh/">https://www.freedownloadmanager.org/zh/</a><br>​</p>
<h2 id="XDown"><a href="#XDown" class="headerlink" title="XDown"></a>XDown</h2><p>下载工具<br>官网地址<br><a target="_blank" rel="noopener" href="https://xdown.org/">https://xdown.org/</a><br>​</p>
<h2 id="ZOOM"><a href="#ZOOM" class="headerlink" title="ZOOM"></a>ZOOM</h2><h2 id="Postman"><a href="#Postman" class="headerlink" title="Postman"></a>Postman</h2><p>接口测试工具</p>
<blockquote>
<p>​<a target="_blank" rel="noopener" href="https://www.postman.com/">https://www.postman.com/</a></p>
</blockquote>
<p>​</p>
<h2 id="迅雷"><a href="#迅雷" class="headerlink" title="迅雷"></a>迅雷</h2><h2 id="Studio-3T"><a href="#Studio-3T" class="headerlink" title="Studio 3T"></a>Studio 3T</h2><p>清除缓存回到 30 天的试用期</p>
<h2 id="workbench"><a href="#workbench" class="headerlink" title="workbench"></a>workbench</h2><p>mysql 数据库官方连接工具</p>
<h2 id="navicat"><a href="#navicat" class="headerlink" title="navicat"></a>navicat</h2><p>数据库连接工具<br>​</p>
<h2 id="Iterm2"><a href="#Iterm2" class="headerlink" title="Iterm2"></a>Iterm2</h2><blockquote>
<p><a target="_blank" rel="noopener" href="https://iterm2.com/">https://iterm2.com/</a></p>
</blockquote>
<p>​</p>
<h2 id="Spark"><a href="#Spark" class="headerlink" title="Spark"></a>Spark</h2><p>邮件软件<br>​</p>
<p>​</p>
<h2 id="AppCleaner-amp-Uninstall"><a href="#AppCleaner-amp-Uninstall" class="headerlink" title="AppCleaner&amp;Uninstall"></a>AppCleaner&amp;Uninstall</h2><p>​</p>
<h2 id="ClearMyMacX"><a href="#ClearMyMacX" class="headerlink" title="ClearMyMacX"></a>ClearMyMacX</h2><h2 id="RDM"><a href="#RDM" class="headerlink" title="RDM"></a>RDM</h2><p>redis 客户端工具<br>​</p>
<h2 id="Charles"><a href="#Charles" class="headerlink" title="Charles"></a>Charles</h2><p>抓包工具<br>​</p>
<p>​</p>
<p>​</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/05/17/yuque/software/" data-id="ckowcdwmp0005ngne9cwy6k6n" data-title="software" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-yuque/11_java_unit_testing" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/05/17/yuque/11_java_unit_testing/" class="article-date">
  <time class="dt-published" datetime="2021-05-17T06:02:14.000Z" itemprop="datePublished">2021-05-17</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/05/17/yuque/11_java_unit_testing/">11_java_unit_testing</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="测试介绍"><a href="#测试介绍" class="headerlink" title="测试介绍"></a>测试介绍</h2><h3 id="分类"><a href="#分类" class="headerlink" title="分类"></a>分类</h3><ul>
<li>黑盒测试：黑盒测试也称功能测试，它是通过测试来检测每个功能是否都能正常使用。在测试中，把程序看作一个不能打开的黑盒子，在完全不考虑程序内部结构和内部特性的情况下，在程序接口进行测试，它只检查程序功能是否按照需求规格说明书的规定正常使用，程序是否能适当地接收输入数据而产生正确的输出信息。黑盒测试着眼于程序外部结构，不考虑内部逻辑结构，主要针对软件界面和软件功能进行测试。黑盒测试是以用户的角度，从输入数据与输出数据的对应关系出发进行测试的。很明显，如果外部特性本身设计有问题或规格说明的规定有误，用黑盒测试方法是发现不了的。<ul>
<li>作用：黑盒测试法注重于测试软件的功能需求，主要试图发现下列几类错误。功能不正确或遗漏；界面错误；输入和输出错误；数据库访问错误；性能错误；初始化和终止错误等。</li>
</ul>
</li>
<li>白盒测试：白盒测试又称结构测试、透明盒测试、逻辑驱动测试或基于代码的测试。白盒测试是一种测试用例设计方法，盒子指的是被测试的软件，白盒指的是盒子是可视的，你清楚盒子内部的东西以及里面是如何运作的。”白盒”法全面了解程序内部逻辑结构、对所有逻辑路径进行测试。”白盒”法是穷举路径测试。在使用这一方案时，测试者必须检查程序的内部结构，从检查程序的逻辑着手，得出测试数据。贯穿程序的独立路径数是天文数字。采用什么方法对软件进行测试呢？常用的软件测试方法有两大类：静态测试方法和动态测试方法。其中软件的静态测试不要求在计算机上实际执行所测程序，主要以一些人工的模拟技术对软件进行分析和测试；而软件的动态测试是通过输入一组预先按照一定的测试准则构造的实例数据来动态运行程序，而达到发现程序错误的过程。在动态分析技术中,最重要的技术是路径和分支测试。下面要介绍的六种覆盖测试方法属于动态分析方法。<ul>
<li>测试方法：静态结构分析法、静态质量度量法、逻辑覆盖法、基本路径测试法、域测试、符号测试、路径覆盖和程序变异。</li>
<li>白盒测试法的覆盖标准：逻辑覆盖、循环覆盖和基本路径测试。其中逻辑覆盖包括语句覆盖、判定覆盖、条件覆盖、判定/条件覆盖、条件组合覆盖和路径覆盖。六种覆盖标准发现错误的能力呈由弱到强的变化：1.语句覆盖每条语句至少执行一次。2.判定覆盖每个判定的每个分支至少执行一次。3.条件覆盖每个判定的每个条件应取到各种可能的值。4.判定/条件覆盖同时满足判定覆盖条件覆盖。5.条件组合覆盖每个判定中各条件的每一种组合至少出现一次。6.路径覆盖使程序中每一条可能的路径至少执行一次。</li>
</ul>
</li>
<li>灰盒测试：灰盒测试，是介于白盒测试与黑盒测试之间的一种测试，灰盒测试多用于集成测试阶段，不仅关注输出、输入的正确性，同时也关注程序内部的情况。灰盒测试不像白盒那样详细、完整，但又比黑盒测试更关注程序的内部逻辑，常常是通过一些表征性的现象、事件、标志来判断内部的运行状态。</li>
</ul>
<p>​</p>
<h3 id="测试逻辑"><a href="#测试逻辑" class="headerlink" title="测试逻辑"></a>测试逻辑</h3><p>优秀的单元测试原则：</p>
<ul>
<li>独立的：独立于其他测试和环境</li>
<li>可重复的：不同的人运行相同的单测都可以得到相同的结果</li>
<li>自动化：运行自动化，结果判断自动化</li>
<li>彻底的：分支覆盖全面</li>
</ul>
<p>​</p>
<p>测试替身：</p>
<ul>
<li>Stub（桩）：一般什么都不做，实现空的方法调用或者简单的硬编码返回即可</li>
<li>Fake（伪造对象）：真实事物的简答版本，优化的伪造真实事物的行为，但是没有副作用或者使用真实事物的其它后果。比如替换数据库的对象得到虚假的伪造对象。</li>
<li>Spy（测试间谍）：需要得到对象内部的状态的时候，而该对象对外又是封闭的，那么需要做一个测试间谍，事先学会反馈消息，然后潜入对象内部去获取对象的状态。测试间谍是一种测试替身，它用于记录过去发生的情况，这样测试在事后就能知道所发生的一切。</li>
<li>Mock（模拟对象）：模拟对象是一个特殊的测试间谍，是一个在特定的情况下可以配置行为的对象，规定了在什么情况下，返回什么样的一个值的一种测试替身。Mock 已经有了非常成熟的对象库，包括 JMock、Mockito、EasyMock 等。</li>
</ul>
<h2 id="Java-断言机制"><a href="#Java-断言机制" class="headerlink" title="Java 断言机制"></a>Java 断言机制</h2><h3 id="assert"><a href="#assert" class="headerlink" title="assert"></a>assert</h3><p>assert 表达式 1</p>
<p>// 表达式 1 的值为假则输出表达式 2 的值，需要在 jvm 的设置-ea 参数进行开启<br>assert 表达式 1：表达式 2</p>
<h2 id="Junit"><a href="#Junit" class="headerlink" title="Junit"></a>Junit</h2><p>Junit 是 xUnit 的一个子集，在 c++、python、java 语言中测试框架的名字都不相同<br>xUnit 是一套基于测试驱动开发的测试框架<br>其中的断言机制：将程序预期的结果与程序运行的最终结果进行比对，确保对结果的可预知性<br><strong>依赖包</strong></p>
<ul>
<li>junit-4.12.jar</li>
<li>hamcrest-core-1.3.jar</li>
</ul>
<h3 id="注解使用"><a href="#注解使用" class="headerlink" title="注解使用"></a>注解使用</h3><table>
<thead>
<tr>
<th><strong>注解</strong></th>
<th><strong>说明</strong></th>
</tr>
</thead>
<tbody><tr>
<td>@BeforeClass</td>
<td>全局只会之执行一次并且是第一次执行</td>
</tr>
<tr>
<td>@AfterClass</td>
<td>全局只会执行一次并且是最后一个执行</td>
</tr>
<tr>
<td>@Before</td>
<td>在测试方法运行之前执行</td>
</tr>
<tr>
<td>@After</td>
<td>在测试方法运行之后执行</td>
</tr>
<tr>
<td>@Test</td>
<td>测试方法</td>
</tr>
<tr>
<td>@Ignore</td>
<td>忽略此方法</td>
</tr>
<tr>
<td>@Test(timeout = 1000)</td>
<td>限时测试，超过这个时间系统会被强制终止</td>
</tr>
<tr>
<td>@Test(expected = Exception.class)</td>
<td>测试异常，是否抛出指定的异常</td>
</tr>
</tbody></table>
<h3 id="参数化测试"><a href="#参数化测试" class="headerlink" title="参数化测试"></a>参数化测试</h3><p>传入测试的参数和对应的结果，进行批量化测试<br>@RunWith(Parametered.class)<br>public class MainTest() {<br>private int param;</p>
<p>private int result;</p>
<p>@Parameters<br>public static Collection selectParamResult() {<br>return Arrays.asList(new Object[][] {<br>{1, 1},<br>{1, 4},<br>{3, 9}<br>});<br>}</p>
<p>@Test<br>public void square() {<br>      calculator.square(param);<br>      Testcase.AssertEquals(result, calculator.getResult());<br>}<br>}</p>
<h3 id="TestCase"><a href="#TestCase" class="headerlink" title="TestCase"></a>TestCase</h3><p><img src="https://cdn.nlark.com/yuque/0/2021/png/1430920/1621231348177-fb9022db-8d44-45a8-9def-974fcf35edc5.png#clientId=u571283fb-348c-4&from=paste&height=157&id=u4e4a32fb&margin=%5Bobject%20Object%5D&originHeight=314&originWidth=393&originalType=url&status=done&style=none&taskId=uebdecc23-5d25-4c96-a280-a38cc67723d&width=196.5"><br>测试用例。为一个或多个方法提供测试方法，一般是一个 test。</p>
<h3 id="TestSuite"><a href="#TestSuite" class="headerlink" title="TestSuite"></a>TestSuite</h3><p><img src="https://cdn.nlark.com/yuque/0/2021/png/1430920/1621231348182-f31f8a5b-c3ba-4c07-9a8a-a7f0fdd8a93f.png#clientId=u571283fb-348c-4&from=paste&height=122&id=u106ebccb&margin=%5Bobject%20Object%5D&originHeight=244&originWidth=267&originalType=url&status=done&style=none&taskId=u46f9716a-e9e5-49a1-9d8a-d7bfac8f405&width=133.5"><br>测试集合,即一组测试。一个 test suite 是把多个相关测试归入一组的快捷方式。如果自己没有定义，Junit 会自动提供一个 test suite ,包括 TestCase 中的所有测试。</p>
<h2 id="TestNG"><a href="#TestNG" class="headerlink" title="TestNG"></a>TestNG</h2><h3 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h3><ul>
<li>一个类似 Junit 的自动化框架</li>
<li>使用它可以做功能，接口，单元，集成的自动化测试</li>
<li>最常见的是结合 Selenium 做功能自动化测试</li>
<li>Java 开发人员中使用最广泛的测试框架</li>
<li>它使用 Java 注释去写测试方法</li>
</ul>
<p><strong>官网</strong><br>[<strong>TestNG</strong>] <a target="_blank" rel="noopener" href="https://testng.org/doc/index.html">https://testng.org/doc/index.html</a><br><strong>github</strong><br>[<strong>TestNG</strong>] <a target="_blank" rel="noopener" href="https://github.com/cbeust/testng/">https://github.com/cbeust/testng/</a></p>
<h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h3><p>引入需要的包支持</p>
<h3 id="注解"><a href="#注解" class="headerlink" title="注解"></a>注解</h3><h4 id="Before"><a href="#Before" class="headerlink" title="Before"></a>Before</h4><h5 id="BeforeSuite"><a href="#BeforeSuite" class="headerlink" title="@BeforeSuite"></a>@BeforeSuite</h5><h5 id="BeforeTest"><a href="#BeforeTest" class="headerlink" title="@BeforeTest"></a>@BeforeTest</h5><h5 id="BeforeGroups"><a href="#BeforeGroups" class="headerlink" title="@BeforeGroups"></a>@BeforeGroups</h5><h5 id="BeforeClass"><a href="#BeforeClass" class="headerlink" title="@BeforeClass"></a>@BeforeClass</h5><h5 id="BeforeMethod"><a href="#BeforeMethod" class="headerlink" title="@BeforeMethod"></a>@BeforeMethod</h5><h4 id="After"><a href="#After" class="headerlink" title="After"></a>After</h4><h5 id="AfterSuite"><a href="#AfterSuite" class="headerlink" title="@AfterSuite"></a>@AfterSuite</h5><h5 id="AfterTest"><a href="#AfterTest" class="headerlink" title="@ AfterTest"></a>@ AfterTest</h5><h5 id="AfterGroups"><a href="#AfterGroups" class="headerlink" title="@AfterGroups"></a>@AfterGroups</h5><h5 id="AfterClass"><a href="#AfterClass" class="headerlink" title="@ AfterClass"></a>@ AfterClass</h5><h5 id="AfterMethod"><a href="#AfterMethod" class="headerlink" title="@ AfterMethod"></a>@ AfterMethod</h5><h4 id="DataProvider"><a href="#DataProvider" class="headerlink" title="@DataProvider"></a>@DataProvider</h4><p>标记一个方法是用来给其他测试方法提供数据的方法。要求该方法必须返回是 object[][]</p>
<h4 id="Factory"><a href="#Factory" class="headerlink" title="@Factory"></a>@Factory</h4><p>标记这个方法是一个工厂，方法必须返回的是一个对象。</p>
<h4 id="Listeners"><a href="#Listeners" class="headerlink" title="@Listeners"></a>@Listeners</h4><p>在一个测试方法上定义一个监听。例如 Selenium 自动化测试中需要用到这个事件监听功能，方便我们输出日志。</p>
<h4 id="Parameters"><a href="#Parameters" class="headerlink" title="@Parameters"></a>@Parameters</h4><p>描述了如何给一个测试方法传提参数。<br>代码<br>import com.sun.tracing.ProviderName;<br>import org.testng.annotations.*;</p>
<p>public class TestNG_Demo1 {</p>
<p>@Test<br>  @Parameters({“Browser”, “Server”})<br>  public void test1(String browser, String server){<br>      System.out.println(“Hello”);<br>      System.out.println(“这次启动浏览器是： “+browser+” 测试服务器地址是： “+server);<br>  }<br>}<br>testng.xml 文件</p>
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE suite SYSTEM "http://testng.org/testng-1.0.dtd">
<suite name="Default Suite">
    <parameter name="Browser" value="Chrome" />
    <parameter name="Server" value="https://www.baidu.com" />
    <test name="Java_Learn">
      <classes>
          <class name="com.java.learn.TestNG_Demo1"/>
         <!-- 添加不同测试类文件 -->
 
      </classes>
    </test> <!-- Java_Learn -->
</suite> <!-- Default Suite -->


<h4 id="Test"><a href="#Test" class="headerlink" title="@Test"></a>@Test</h4><p>在@Test 下有很多选项可以设置，例如用例之间的依赖关系等。</p>
<h5 id="timeOut"><a href="#timeOut" class="headerlink" title="timeOut"></a>timeOut</h5><p>设置超时的时间，超过时间系统被停止<br>import org.testng.annotations.Test;</p>
<p>public class TimeoutTest {</p>
<p>@Test(timeOut = 3000)<br>  public void loginTest(){<br>      try{<br>          Thread.sleep(3100);<br>      }catch (InterruptedException e){<br>      //超过指定的时间则抛出异常<br>          System.out.println(e.toString());<br>      }<br>  }<br>}</p>
<h5 id="enabled"><a href="#enabled" class="headerlink" title="enabled"></a>enabled</h5><p>设置 true 和 false 来设置该条例是否被执行<br>import org.testng.annotations.Test;</p>
<p>public class TestNG_Demo2 {</p>
<p>@Test<br>  public void test1(){<br>      System.out.println(“test1”);<br>  }</p>
<p>@Test(enabled=false)<br>  public void test2(){<br>      System.out.println(“test2”);<br>  }</p>
<p>@Test<br>  public void test3(){<br>      System.out.println(“test3”);<br>  }<br>}</p>
<h5 id="priority"><a href="#priority" class="headerlink" title="priority"></a>priority</h5><p>设置测试用例的优先级，priority 值越小，优先级越高，默认的 priority 值为 0，优先级别高的先进行执行，低的后进行执行，同样的优先级别则按照顺序进行执行<br>import org.testng.annotations.Test;</p>
<p>public class TestNG_Demo2 {</p>
<p>@Test(priority = 2)<br>  public void test1(){<br>      System.out.println(“test1”);<br>  }</p>
<p>@Test(priority = 4)<br>  public void test2(){<br>      System.out.println(“test2”);<br>  }</p>
<p>@Test(priority = 1)<br>  public void test3(){<br>      System.out.println(“test3”);<br>  }</p>
<p>@Test<br>  public void test4(){<br>      System.out.println(“test4”);<br>  }<br>}</p>
<h5 id="invocationCount"><a href="#invocationCount" class="headerlink" title="invocationCount"></a>invocationCount</h5><p>调用次数的统计，设置一个测试用例被调用执行的次数</p>
<h5 id="invocationTimeOut"><a href="#invocationTimeOut" class="headerlink" title="invocationTimeOut"></a>invocationTimeOut</h5><p>和 invocationCount 结合进行使用，设置总的超时时间<br>import org.testng.annotations.Test;</p>
<p>public class TimeoutTest {</p>
<p>@Test(invocationCount = 5, invocationTimeOut = 5100)<br>  public void loginTest() throws InterruptedException{</p>
<p>Thread.sleep(1000);<br>      System.out.println(“login test”);</p>
<p>}<br>}</p>
<h5 id="dependsOnMethods"><a href="#dependsOnMethods" class="headerlink" title="dependsOnMethods"></a>dependsOnMethods</h5><p>先运行指定的依赖方法再运行当前用例<br>import org.testng.annotations.Test;</p>
<p>public class TestNG_Demo2 {</p>
<pre><code>@Test(dependsOnMethods=&#123;&quot;test2&quot;&#125;)
public void test1()&#123;
    System.out.println(&quot;test1&quot;);
&#125;

@Test
public void test2()&#123;
    System.out.println(&quot;test2&quot;);
&#125;
</code></pre>
<p>}<br>指定多个依赖方法<br>import org.testng.annotations.Test;</p>
<p>public class TestNG_Demo2 {</p>
<pre><code>@Test(dependsOnMethods=&#123;&quot;test2&quot;,&quot;test2&quot;&#125;)
public void test1()&#123;
    System.out.println(&quot;test1&quot;);
&#125;

@Test
public void test2()&#123;
    System.out.println(&quot;test2&quot;);
&#125;

@Test
public void test3()&#123;
    System.out.println(&quot;test3&quot;);
&#125;
</code></pre>
<p>}</p>
<h3 id="断言"><a href="#断言" class="headerlink" title="断言"></a>断言</h3><h4 id="Assert（硬断言）"><a href="#Assert（硬断言）" class="headerlink" title="Assert（硬断言）"></a>Assert（硬断言）</h4><p>//判断两者是否相等<br>assertEquals(actual, expected)</p>
<p>//判断两者是否相等，后面跟上输出的信息<br>assertEquals(actual, expected, “message”)</p>
<p>//判断两个对象是否相同，忽略排序位置<br>assertEqualsNoOrder(actual, expect)</p>
<p>//这里来一个断言为假的方法，断言一个条件，如果返回是假，则测试通过，如果返回是真，抛出断言异常，打印 message 的内容。<br>assertFalse(布尔条件，“message”)</p>
<p>//提供了断言一个条件为真的方法，如果条件表达式为真，该断言运行通过，如果表达式为假，抛出异常，打印 message 的消息。<br>assertTrue(条件表达式, “message”)</p>
<p>//提供“不相等”断言方法，也是有 6 个针对不同数据类型的不相等的断言方法。这里我们介绍两个对象的不相等举例，如果相等，输出 message1 的内容。<br>assertNotEquals(actual, expect, “message”)</p>
<p>//对象非空判断，断言对象不为空，否则，抛出异常，打印 message 的内容。<br>assertNotNull(object, “message1”)</p>
<p>//断言两个对象相同，这里相同和上面的 Equals 不同，Equals 是值比较，而 Same 是内存地址比较<br>assertSame(actual, expect, “message”)</p>
<p>//同样的，也有断言两个对象内存地址不相同的断言方法。<br>assertNotSame(actual, expect, “message”)</p>
<h4 id="SoftAssert（软断言）"><a href="#SoftAssert（软断言）" class="headerlink" title="SoftAssert（软断言）"></a>SoftAssert（软断言）</h4><ul>
<li>如果一个断言失败，会继续执行这个断言下的其他语句或者断言。</li>
<li>也就是一个用例有多个断言，失败了其中一个，不影响其他断言的运行</li>
<li>不要忘记调用 assertAll()在该用例的最后一个断言后面。</li>
</ul>
<p>设置 alwaysRun=true，不管前面的方法是否执行成功都能执行</p>
<h3 id="TestNG-xml"><a href="#TestNG-xml" class="headerlink" title="TestNG.xml"></a>TestNG.xml</h3><?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE suite SYSTEM "http://testng.org/testng-1.0.dtd">
<suite name="Default Suite">
  <test name="Java_Learn">
    <classes>
      <class name="com.java.learn.TestNG_Demo1"/>
    </classes>
  </test> 
</suite>
1）创建来源不同包、类、方法的测试套件
2）包括一些选项，例如失败的用例可以重跑。
3）支持使用正则表达式
4）运行把外部参数传入测试方法
5）支持配置多线程的执行环境
通过添加不同包下类来使得一起进行测试

<h4 id="依赖关系"><a href="#依赖关系" class="headerlink" title="依赖关系"></a>依赖关系</h4><?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE suite SYSTEM "http://testng.org/testng-1.0.dtd">
<suite name="Default Suite">
 
    <test name="Testng_learn" >
        <groups>
            <dependencies>
                <group name="app" depends-on="tomcat" />
            </dependencies>
        </groups>
 
        <classes>
            <class name="com.java.learn.TestDependenceDemo"/>
        </classes>
 
    </test> <!-- Java_Learn -->
</suite> <!-- Default Suite -->

<h4 id="测试类"><a href="#测试类" class="headerlink" title="测试类"></a>测试类</h4><p>Test Classes<br>测试类，一般我们新建一个 Java 类文件，如果里面方法有@Test，那么就是一个测试类文件。上面是写的复数。这个在 testng.xml 文件里可以体现，classes 下可以有一个或者多个测试类文件。Classes 相当于就是一个装 class 的容器，而 class 又相当于一个装 method 的容器。<br><classes><br><class name="com.java.learn.TestMethodDemo"/><br></classes></p>
<h4 id="测试组"><a href="#测试组" class="headerlink" title="测试组"></a>测试组</h4><p>Test Groups<br>测试组，一个组可以包含多个 methods。还是可以组嵌套，也是就是一个组可以属于是另外一个组管理。<br>import org.testng.annotations.Test;</p>
<p>public class TestGroupsDemo {</p>
<pre><code>@Test(groups = &#123;&quot;API Test&quot;, &quot;Fucntion Test&quot;&#125;)
public void test01()&#123;
    System.out.println(&quot;API Testing and Function testing&quot;);
&#125;

@Test(groups = &#123;&quot;API Test&quot;&#125;)
public void test02()&#123;
    System.out.println(&quot;API Testing&quot;);
&#125;

@Test(groups = &#123;&quot;Function Test&quot;&#125;)
public void test03()&#123;
    System.out.println(&quot;Function testing&quot;);
&#125;

@Test
public void test04()&#123;
    System.out.println(&quot;not in API and Function testing&quot;);
&#125;
</code></pre>
<p>}</p>
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE suite SYSTEM "http://testng.org/testng-1.0.dtd">
<suite name="Default Suite">
 
    <test name="Testng_learn" >
        <groups>
            <run>
                <include name="API Test"/>
            </run>
        </groups>
        <classes>
            <class name="com.java.learn.TestGroupsDemo"/>
        </classes>
    </test> 
</suite>
利用正则匹配。有时候我们group的名称设置很长，我们记不住，这个时候就建议采用正则匹配，例如以API开头的group执行。
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE suite SYSTEM "http://testng.org/testng-1.0.dtd">
<suite name="Default Suite">
 
    <test name="Testng_learn" >
        <groups>
            <run>
                <include name="API.*"/>
                <include name="Function.*"/>
            </run>
        </groups>
        <classes>
            <class name="com.java.learn.TestGroupsDemo"/>
        </classes>
    </test> <!-- Java_Learn -->
</suite> <!-- Default Suite -->
执行除API 和Funcation之外的用例
除什么之外，我们可以用excloude标签来实现。
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE suite SYSTEM "http://testng.org/testng-1.0.dtd">
<suite name="Default Suite">
 
    <test name="Testng_learn" >
        <groups>
            <run>
                <exclude name="API Test"/>
                <exclude name="Function Test"/>
            </run>
        </groups>
        <classes>
            <class name="com.java.learn.TestGroupsDemo"/>
        </classes>
    </test> <!-- Java_Learn -->
</suite> <!-- Default Suite -->
前面我们已经创建了两个组，一个API Test，一个叫Function Test。现在我们用一个All 的组来管理这两个组。只要我run标签里，写执行All,那么就相当于执行了API Test和Function Test。这个场景，在实际工作中是肯定要使用的。例如webui自动化中，执行全部的用例，其实就是一个模块设置一个组，这些模块组都归All组管。Testing.xml的设置如下
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE suite SYSTEM "http://testng.org/testng-1.0.dtd">
<suite name="Default Suite">
 
    <test name="Testng_learn" >
        <groups>
            <define name="all">
                <include name="API Test"/>
                <include name="Function Test"/>
            </define>
 
            <run>
                <include name="all"/>
            </run>
        </groups>
 
        <classes>
            <class name="com.java.learn.TestGroupsDemo"/>
        </classes>
    </test>
</suite>

<h4 id="测试方法"><a href="#测试方法" class="headerlink" title="测试方法"></a>测试方法</h4><p>Test Methods<br>官方定义是，凡是方法（或者叫函数）前面添加了@Test 注释，就叫测试方法。</p>
<h3 id="失败重跑"><a href="#失败重跑" class="headerlink" title="失败重跑"></a>失败重跑</h3><p>在 TestNG 中会自动记录你上一次运行情况，在 test-output 下会生成 html 格式报告，和把失败的用例都放在 testng-failed.xml，这个功能很强大。由于有了这个，我们就想，可不可以实现失败用例从新跑呢。我们手动执行 testng-failed.xml 当然可以去实现失败用例重新跑的需求，所以，我们重点在如何实现自动化手段去失败重新跑。把这个问题再细化，就是如何用 Java 代码是加载执行 testng.xml 文件。</p>
<ol>
<li>接口 IRetryAnallyzer 该接口的作用是提供去实现能够让用例运行失败重跑的设置。实现该接口必须要实现 retry(ITestResult result)这个方法。返回值类型是布尔型，如果返回是 True，那么就执行失败重跑，返回是 false，就不重跑。参数 result 是当前运行的测试用例的结果状态。</li>
<li>接口 IAnnotationTransformer 该接口的作用是在 TestNG 执行过程中动态改变测试类中 Annotation 的参数，当前这个接口主要是针对@Test 注释。IAnnotationTransformer 监听器接口只有一个方法：transform(ITestAnnotation annotation, Class testClass, Constructor testConstructor, Method testMethod).下面我们写的几个类方法都是来源网上资料，都实现了上面提到的两个接口。</li>
</ol>
<h3 id="Listener-使用"><a href="#Listener-使用" class="headerlink" title="Listener 使用"></a>Listener 使用</h3><p>实现 ITestListener 接口<br>package demo1;</p>
<p>import org.testng.ITestContext;<br>import org.testng.ITestListener;<br>import org.testng.ITestResult;</p>
<p>public class ListenerDemo implements ITestListener {</p>
<pre><code>@Override
public void onTestStart(ITestResult iTestResult) &#123;

&#125;

@Override
public void onTestSuccess(ITestResult iTestResult) &#123;

&#125;

@Override
public void onTestFailure(ITestResult iTestResult) &#123;

&#125;

@Override
public void onTestSkipped(ITestResult iTestResult) &#123;

&#125;

@Override
public void onTestFailedButWithinSuccessPercentage(ITestResult iTestResult) &#123;

&#125;

@Override
public void onStart(ITestContext iTestContext) &#123;

&#125;

@Override
public void onFinish(ITestContext iTestContext) &#123;

&#125;
</code></pre>
<p>}<br>testng.xml 中设置 lisenter 的范围</p>
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE suite SYSTEM "http://testng.org/testng-1.0.dtd">
<suite name="Default Suite">
    <listeners>
        <listener class-name="demo2.ListenerDemo"/>
    </listeners>
 
    <test name="Testng_learn" >
 
        <classes>
            <class name="demo2.ListenerDemo"/>
        </classes>
 
    </test>
</suite>

<h3 id="结果"><a href="#结果" class="headerlink" title="结果"></a>结果</h3>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/05/17/yuque/11_java_unit_testing/" data-id="ckowcdwmv000angned1v56q71" data-title="11_java_unit_testing" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-yuque/unit_testing" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/05/17/yuque/unit_testing/" class="article-date">
  <time class="dt-published" datetime="2021-05-17T02:09:59.000Z" itemprop="datePublished">2021-05-17</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/05/17/yuque/unit_testing/">unit_testing</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>软件的质量不是测试出来的，是通过设计和维护出来的，软件质量的保证需要通过测试来进行验证</p>
<h2 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h2><p>单元测试是针对程序模块（软件设计的最小单位）来进行正确性检验的测试工作。<br>程序单元是应用的最小可测试部件。在过程化编程中，一个单元就是单个程序、函数、过程等；对于面向对象编程，最小单元就是方法，包括基类（超类）、抽象类、或者派生类（子类）中的方法<br>​</p>
<p>衡量 UT 的指标：<br>覆盖率：</p>
<ul>
<li>行覆盖率：可执行语句执行的比例</li>
<li>函数覆盖率：函数被调用的比例</li>
<li>分支覆盖率：判断语句分支被执行的比例</li>
</ul>
<p>​</p>
<p>单元测试的重要性：</p>
<ul>
<li>能力建设：一个具备开发经验的开发人员，基本上都会编写单元测试。即便不会，可以通过培训来快速达成。从学习曲线上看，单元测试很容易上手。</li>
<li>提升效率：越早发现发现 Bug，造成的浪费就会越小，单元测试本身就能够提供了快速反馈的机制。</li>
<li>追求卓越：单元测试可以充当一个设计工具，它有助于开发人员去思考代码结构的设计，让代码更加有利于测试，知名的开源代码库从来不会缺乏单元测试。</li>
</ul>
<p>​</p>
<h2 id="效果"><a href="#效果" class="headerlink" title="效果"></a>效果</h2><p>测试用例需要具备的特质：</p>
<table>
<thead>
<tr>
<th>FIRST</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>F - fast</td>
<td>测试过程一定要快，快速启动，快速验证，快速失败</td>
</tr>
<tr>
<td>I – isolate</td>
<td>测试用例间要相互隔离，无前后依赖关系</td>
</tr>
<tr>
<td>R – Repeatable</td>
<td>测试用例是可重复执行的，不依赖外部可变环境（如时间、系统版本等）</td>
</tr>
<tr>
<td>S – Self-validating</td>
<td>测试用例需要具备自我验证的能力</td>
</tr>
<tr>
<td>T – Timely</td>
<td>测试用例如同普通代码，也需要定期、定时维护和执行</td>
</tr>
</tbody></table>
<p>​</p>
<p>测试用例测试的东西：</p>
<table>
<thead>
<tr>
<th>Right-BICEP</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>Right - 结果正确</td>
<td>检查期望结果是否正确</td>
</tr>
<tr>
<td>B - 边界条件检查</td>
<td>代码中的很多 Bug 都出现在边界条件附近</td>
</tr>
</tbody></table>
<p>| I - 反向关联检查<br>| 使用反向逻辑关系来验证•例： 对于加密算法，使用解密算法反向检查其输出，验证解密后明文是否正确•例： 对于写操作 API，使用读操作 API 来反向检查验证 |<br>| C – 交叉检查<br>| 使用其它手段交叉验证。例： 对性能优化的算法，使用性能差但验证过的算法交叉检查。例： 使用不变量约束，检查操作的影响 |<br>| E - 强制错误条件发生<br>| 强制引发错误，验证对异常处理情况。例子：强制使得依赖的模块不可使用 |<br>| P - 满足性能需求<br>| 针对性能特性的测试验证。例： 安全防御模块是否由于频繁升级，导致性能非预期恶化 |</p>
<h2 id="测试流程"><a href="#测试流程" class="headerlink" title="测试流程"></a>测试流程</h2><p><img src="https://gitee.com/goinhn/imageClouding/raw/master/upic/QNRnfE.png#id=GUi4k&originHeight=222&originWidth=1904&originalType=binary&status=done&style=none"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/05/17/yuque/unit_testing/" data-id="ckowcdwmt0009ngne5be56fou" data-title="unit_testing" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-yuque/java_specification" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/05/14/yuque/java_specification/" class="article-date">
  <time class="dt-published" datetime="2021-05-14T09:22:57.000Z" itemprop="datePublished">2021-05-14</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/05/14/yuque/java_specification/">java_specification</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>强制：<br>源文件名必须和它包含的顶层类名保持一致，包括大小写，并以.java 作为后缀名<br>所有源文件编码必须是 UTF-8<br>除了换行符之外，ASCII 空格（0x20）是唯一合法的空格字符</p>
<ul>
<li>在所有的源代码中（包括字符、字符串以及注释中）出现的其他空格字符需要进行转义、如 Tab 用\t 表示</li>
<li>缩紧必须是空格而不是 tab</li>
</ul>
<p>文件的换行符使用 Unix 格式<br>源文件顺序（每两个部分之间使用一个空行分隔，不允许多个空行）：</p>
<ol>
<li>许可证（license）或版权声明（copyright）</li>
<li>package 语句<ol>
<li>占据单独一行，允许超出 120 字符列宽限制</li>
</ol>
</li>
<li>import 语句<ol>
<li>非 static imports，禁止使用通配符 import</li>
<li>每条 import 语句占据一行，允许超出 120 字符列宽限制</li>
<li>所有未使用的 import 语句应该被删除</li>
</ol>
</li>
<li>唯一的顶层类</li>
</ol>
<p>重载的方法必须放在一起<br>花括号</p>
<ul>
<li>左花括号（{）前不能换行</li>
<li>在右花括号（}）前要有换行</li>
<li>右边花括号后还要有 else 等代码则不换行，表示终止的右大括号后必须换行</li>
</ul>
<p>单行字符数字限制不超过 120 个，超出需要换行，换行时需要遵循如下的原则：</p>
<ul>
<li>第二行相对第一行缩进 4 个空格，从第三行开始，不再继续缩紧</li>
<li>运算符与下文一起换行</li>
<li>方法调用的点符号与下文一起换行</li>
<li>方法调用中的多个参数需要换行时，在逗号后进行</li>
<li>在括号前不要换行</li>
</ul>
<p>在以下情况增加空行：</p>
<ul>
<li>在类的不同成员间增加空行，包括：成员变量、构造函数、方法、内部类、静态初始化块、实例初始化块</li>
<li>两个成员变量声明之间可以不加空行，空行通常对于成员变量进行逻辑分组</li>
<li>方法体内，按需要增加空行，以便从逻辑上对语句进行分组</li>
<li>禁止使用连续的空行</li>
</ul>
<p>添加在类、方法、构造函数、成员属性上的注解直接写在注释块之后，每个注解独占一行<br>方法名、参数名、成员变量、局部函数都统一使用 lowerCameICase 风格，遵从驼峰形式<br>类名使用 UpperCameCase 风格，以下情形除外：DO/BO/DTO/VO/AO/PO/UID<br>抽象类命名使用 Abstract 或 Base 开头；异常类命名使用 Exception 结尾；测试类的命名要以它测试的类的名称开始，以 Test 结尾<br>不允许任何魔法值（即未经预先定义的常量）直接出现在代码中。<br>常量的命名全部大写，单词间用下划线隔开，力求语义表达完整清楚，不要嫌名字长<br>对于 Service 和 DAO 类，内部的实现类使用 Impl 的后缀与接口区别<br>所有的 POJO 类属性必须使用包装数据类型<br>所有覆写的方法，必须加@Override 注解<br>Object 的 equals 方法容易抛出空指针异常，应该使用常量或者确定值的对象来调用<br>定义 DO/DTO/VO 等 POJO 类的时候，不要设定任何属性的默认值<br>使用集合转换数组的方法，必须使用集合的 toArray(T[] array)，传入的是类型完全一样的数组，大小就是 list.size()<br>ArrayList 的 subList 场景中，高度注意对原集合的增加或者删除，均会导致子列表的遍历、增加、删除产生 ConcurrentModificationException 异常<br>不要在循环里进行集合元素的 remove/add 操作。remove 元素请使用 Iterator，如果使用并发操作需要对 Iterator 加锁<br>在一个 switch 块内，每个 case 要么通过 break/return 等来终止，要么注释说明到哪个 case 终止，在每个 switch 块红都需要包含一个 default 语句并放在最后，即使空代码<br>if/else/for/while/do 语句中必须使用花括号，即使只有一行代码，避免采用单行的编码方式<br>在高并发的场景下，避免使用“等于”判断作为终端或者退出的条件。使用大于或者小于的区间作为判断<br>类、类属性、类方法的注释必须使用 Javadoc 规范<br>捕获异常是为了处理异常，如果不处理请将他抛给外层的业务使用者<br>有 try 块放到了事务代码中，catch 异常后，如果需要回滚事务，一定要注意手动回滚<br>不要在 finally 块中使用 return<br>finally 块对象必须对资源对象、流对象进行关闭，有异常处理也要做 try-catch<br>StringBuilder 和 StringBuffer 不应该使用字符进行初始化，要使用字符串<br>获取的锁要在沿该方法的所有执行路径释放锁<br>循环要有终止的条件<br>synchronized 加锁的对象要使用 private final 进行修饰<br>异常捕获后要使用日志进行输出<br>​</p>
<p>推荐：<br>所有的类都必须添加创建者和创建日期<br>​</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/05/14/yuque/java_specification/" data-id="ckowcdwmn0003ngneabsq38tf" data-title="java_specification" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-yuque/code_review" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/05/14/yuque/code_review/" class="article-date">
  <time class="dt-published" datetime="2021-05-14T07:36:38.000Z" itemprop="datePublished">2021-05-14</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/05/14/yuque/code_review/">code_review</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>the import of the code review</p>
<ul>
<li>提高代码质量</li>
<li>减少后续的返工造成的浪费</li>
<li>从他人的代码中学习更多的知识</li>
<li>对整个项目工程有更加深入的理解</li>
</ul>
<p>过程：</p>
<ul>
<li>系统全貌</li>
<li>模块级别</li>
<li>类、函数内部逻辑</li>
<li>细节</li>
</ul>
<p>​</p>
<p>标准：</p>
<ul>
<li>高效（Fast）</li>
<li>鲁棒（Solid and Robust）</li>
<li>简洁（Maintainable and Simple）</li>
<li>共享（Re-usable）</li>
<li>可测试（Testable）</li>
<li>可移植（Portable）</li>
<li>可监控（Monitorable）</li>
<li>可运维（Operational）</li>
<li>可扩展（Scalable&amp;Extensible）</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/05/14/yuque/code_review/" data-id="ckowcdwmk0001ngnecmkfe83f" data-title="code_review" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-yuque/mac" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/05/13/yuque/mac/" class="article-date">
  <time class="dt-published" datetime="2021-05-13T02:06:46.000Z" itemprop="datePublished">2021-05-13</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/05/13/yuque/mac/">mac</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>硬盘重命名：<br>初始桌面&gt;左上角&gt;前往&gt;电脑&gt;重命名硬盘（或者使用回车进行修改）</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/05/13/yuque/mac/" data-id="ckowcdwmo0004ngne5h49d4tt" data-title="mac" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-yuque/local_config" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/04/20/yuque/local_config/" class="article-date">
  <time class="dt-published" datetime="2021-04-20T14:29:59.000Z" itemprop="datePublished">2021-04-20</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/04/20/yuque/local_config/">local_config</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>记录常用的开发环境配置</p>
<h2 id="EPEL"><a href="#EPEL" class="headerlink" title="EPEL"></a>EPEL</h2><p>RHEL 以及他的衍生发行版如 CentOS、Scientific Linux 为了稳定，官方的 rpm repository 提供的 rpm 包往往是很滞后的，当然了，这样做这是无可厚非的，毕竟这是服务器版本，安全稳定是重点，官方的 rpm repository 提供的 rpm 包也不够丰富，自己编译比较麻烦<br>EPEL 的全称叫 Extra Packages for Enterprise Linux 。EPEL 是由 Fedora 社区打造，为 RHEL 及衍生发行版如 CentOS、Scientific Linux 等提供高质量软件包的项目。装上了 EPEL 之后，就相当于添加了一个第三方源。<br><strong>安装</strong><br><strong>命令行</strong><br>yum install -y epel-release<br><strong>源码安装</strong><br>// 根据系统的架构选择对应的类型<br><a target="_blank" rel="noopener" href="http://dl.fedoraproject.org/pub/epel/">http://dl.fedoraproject.org/pub/epel/</a></p>
<p>// 指定进行安装<br>rpm -ivh <a target="_blank" rel="noopener" href="http://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm">http://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm</a></p>
<p>// 如果发生冲入可以删除冲入的包<br>yum remove epel-release</p>
<p>// 更新数据<br>yum clean all &amp;&amp; yum makecache</p>
<h2 id="Java"><a href="#Java" class="headerlink" title="Java"></a>Java</h2><p>JDK 最新版本下载路径<br><a target="_blank" rel="noopener" href="https://www.oracle.com/java/technologies/javase-downloads.html">https://www.oracle.com/java/technologies/javase-downloads.html</a><br>JDK 历史版本下载路径<br><a target="_blank" rel="noopener" href="https://www.oracle.com/java/technologies/oracle-java-archive-downloads.html">https://www.oracle.com/java/technologies/oracle-java-archive-downloads.html</a><br>在安装 jdk 的时候可以选择不安装 jre，因为 jdk 本身就已经自带了 jre</p>
<h3 id="windows"><a href="#windows" class="headerlink" title="windows"></a>windows</h3><p><strong>下载指定包到本地进行安装</strong><br>配置环境变量</p>
<h1 id="JAVA-HOME"><a href="#JAVA-HOME" class="headerlink" title="JAVA_HOME"></a>JAVA_HOME</h1><p>java 安装路径</p>
<h1 id="path"><a href="#path" class="headerlink" title="path"></a>path</h1><p>%JAVA_HOME%\bin<br>%JAVA_HOME%\jre\bin</p>
<h1 id="classpath"><a href="#classpath" class="headerlink" title="classpath"></a>classpath</h1><p>.;%JAVA_HOME%\lib;%JAVA_HOME%\lib\dt.jar;%JAVA_HOME%\lib\tools.jar<br>1.5 之后不需要再配置 classpath，为了向下兼容进行配置<br>告诉 jvm 要使用或执行的 class 放在什么路径上，便于 jvm 加载 class 文件，.;表示当前路径，tools.jar 和 dt.jar 为类库路径</p>
<ul>
<li>tools.jar 工具类库(编译和运行等)，它跟我们程序中用到的基础类库没有关系。我们注意到在 Path 中变量值 bin 目录下的各个 exe 工具的大小都很小，一般都在 27KB 左右，这是因为它们实际上仅仅相当于是一层代码的包装，这些工具的实现所要用到的类库都在 tools.jar 中，用压缩软件打开 tools.jar，你会发现有很多文件是和 bin 目录下的 exe 工具相对性的。当然，如果 tools.jar 的功能只有这些的话，那么我们根本不用把它加入到 CLASSPATH 变量中，因为 bin 目录下的工具自己可以完成对这些类库的调用，因此 tools.jar 应该还有其他的功能。在里面还可以看到有 Applet 和 RMI 等相关的文件，因此 tools.jar 应该还是远程调用等必须的 jar 包。tools.jar 的其他作用可以查看其他资料。</li>
<li>dt.jar 运行环境类库，主要是 Swing 包，这一点通过用压缩软件打开 dt.jar 也可以看到。如果在开发时候没有用到 Swing 包，那么可以不用将 dt.jar 添加到 CLASSPATH 变量中。CLASSPATH 中的类库是由 Application ClassLoader 或者我们自定义的类加载器来加载的，这里当然不能包括基础类库，如果包括基础类库的话，并用两个不同的自定义类加载器去加载该基础类，那它得到的该基础类就不是唯一的了，这样便不能保证 Java 类的安全性。</li>
<li>基本类库和扩展类库 rt.jar 基本类库是所有的 import java.* 开头的类，在 %JAVA_HOME%\jre\lib 目录下（如其中的 rt.jar、resource.jar ），类加载机制提到，该目录下的类会由 Bootstrap ClassLoader 自动加载，并通过亲委派模型保证了基础类库只会被 Bootstrap ClassLoader 加载，这也就保证了基础类的唯一性。</li>
<li>扩展类库是所有的 import javax.* 开头的类，在 %JAVA_HOME%\jre\lib\ext 目录下，该目录下的类是由 Extension ClassLoader 自动加载，不需要我们指定。rt.jar 默认就在根 ClassLoader 的加载路径里面，放在 CLASSPATH 也是多此一举。</li>
</ul>
<h3 id="Linux"><a href="#Linux" class="headerlink" title="Linux"></a>Linux</h3><p><strong>安装包安装</strong><br>切换终端为 root 用户<br>su root<br>查看系统是否有自带的 jdk<br>// 检测是否有 jdk 环境<br>java -version</p>
<p>// 检测 jdk 的安装包<br>rpm -qa | grep java</p>
<p>// 删除安装包<br>rpm -e –nodeps + 包名<br>或者<br>yum remove</p>
<p>// 检测是否删除干净<br>rpm -qa | grep java<br>新建 Java 目录<br>mkdir /usr/local/java<br>修改文件的权限<br>chmod 777 /usr/local/java<br>将安装包解压到安装目录<br>tar -zxvf jdk1.8.0_241.tar.gz<br>配置环境变量<br>vim /etc/profile</p>
<p>// 添加内容<br>export JAVA_HOME=/usr/local/jdk1.8.0_241<br>export JRE_HOME=${JAVA_HOME}/jre<br>export PATH=${JAVA_HOME}/bin:${JRE_HOME}/bin:$PATH<br>export CLASSPATH=.:${JAVA_HOME}/lib:${JRE_HOME}/lib:${CLASSPATH}<br>重新加载配置文件<br>source /etc/profile<br><strong>yum 直接安装</strong><br>// 查看可安装的 jdk 版本<br>yum list java*</p>
<p>// 选择需要 jdk 版本进行安装<br>yum install -y java-1.8.0-openjdk-devel.x86_64</p>
<p>// 安装后的目录在/usr/lib/jvm 下<br><strong>rpm 源安装</strong><br>// 下载指定的 rpm 源<br>// 使用 rpm -ivh 进程安装<br>rpm -ivh ***.rpm</p>
<h3 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h3><p>jdk 各个目录介绍</p>
<ul>
<li>bin，提供 jdk 工具程序，包括 javac、Java、javadoc、appletviewer 等可执行程序</li>
<li>include，存放用于本地访问的文件</li>
<li>jre，存放 Java 运行环境文件</li>
<li>lib，存放 Java 的类库文件，工具程序实际上使用的是 Java 的类库，jdk 中的工具程序，大多也是由 Java 编写而成</li>
<li>src.zip，Java 提供的 API 类的源码压缩文件。</li>
</ul>
<h2 id="Git"><a href="#Git" class="headerlink" title="Git"></a>Git</h2><p>官网<br><a target="_blank" rel="noopener" href="https://git-scm.com/">https://git-scm.com/</a></p>
<h3 id="windows-1"><a href="#windows-1" class="headerlink" title="windows"></a>windows</h3><p>使用 step 安装程序一步步进行安装即可<br>终端无法访问可以使用在环境变量中添加 git 下 cmd 的目录<br>/local/git/cmd</p>
<h3 id="Linux-1"><a href="#Linux-1" class="headerlink" title="Linux"></a>Linux</h3><p><strong>命令行</strong><br>Debian/Ubuntu<br>For the latest stable version for your release of Debian/Ubuntu</p>
<h1 id="apt-get-install-git"><a href="#apt-get-install-git" class="headerlink" title="apt-get install git"></a>apt-get install git</h1><p>For Ubuntu, this PPA provides the latest stable upstream Git version</p>
<h1 id="add-apt-repository-ppa-git-core-ppa-apt-update-apt-install-git"><a href="#add-apt-repository-ppa-git-core-ppa-apt-update-apt-install-git" class="headerlink" title="add-apt-repository ppa:git-core/ppa # apt update; apt install git"></a>add-apt-repository ppa:git-core/ppa # apt update; apt install git</h1><p>Fedora</p>
<h1 id="yum-install-git-up-to-Fedora-21"><a href="#yum-install-git-up-to-Fedora-21" class="headerlink" title="yum install git (up to Fedora 21)"></a>yum install git (up to Fedora 21)</h1><h1 id="dnf-install-git-Fedora-22-and-later"><a href="#dnf-install-git-Fedora-22-and-later" class="headerlink" title="dnf install git (Fedora 22 and later)"></a>dnf install git (Fedora 22 and later)</h1><p>Gentoo</p>
<h1 id="emerge-–ask-–verbose-dev-vcs-git"><a href="#emerge-–ask-–verbose-dev-vcs-git" class="headerlink" title="emerge –ask –verbose dev-vcs/git"></a>emerge –ask –verbose dev-vcs/git</h1><p>Arch Linux</p>
<h1 id="pacman-S-git"><a href="#pacman-S-git" class="headerlink" title="pacman -S git"></a>pacman -S git</h1><p>openSUSE</p>
<h1 id="zypper-install-git"><a href="#zypper-install-git" class="headerlink" title="zypper install git"></a>zypper install git</h1><p>Mageia</p>
<h1 id="urpmi-git"><a href="#urpmi-git" class="headerlink" title="urpmi git"></a>urpmi git</h1><p>Nix/NixOS</p>
<h1 id="nix-env-i-git"><a href="#nix-env-i-git" class="headerlink" title="nix-env -i git"></a>nix-env -i git</h1><p>FreeBSD</p>
<h1 id="pkg-install-git"><a href="#pkg-install-git" class="headerlink" title="pkg install git"></a>pkg install git</h1><p>Solaris 9/10/11 (OpenCSW)</p>
<h1 id="pkgutil-i-git"><a href="#pkgutil-i-git" class="headerlink" title="pkgutil -i git"></a>pkgutil -i git</h1><p>Solaris 11 Express</p>
<h1 id="pkg-install-developer-versioning-git"><a href="#pkg-install-developer-versioning-git" class="headerlink" title="pkg install developer/versioning/git"></a>pkg install developer/versioning/git</h1><p>OpenBSD</p>
<h1 id="pkg-add-git"><a href="#pkg-add-git" class="headerlink" title="pkg_add git"></a>pkg_add git</h1><p>Alpine<br>$ apk add git<br>Red Hat Enterprise Linux, Oracle Linux, CentOS, Scientific Linux, et al.<br>RHEL and derivatives typically ship older versions of git. You can download a tarball and build from source, or use a 3rd-party repository such as the IUS Community Project to obtain a more recent version of git.</p>
<p>Slitaz<br>$ tazpkg get-install git<br><strong>源码</strong><br>// 下载地址<br><a target="_blank" rel="noopener" href="https://mirrors.edge.kernel.org/pub/software/scm/git/">https://mirrors.edge.kernel.org/pub/software/scm/git/</a></p>
<p>// 创建 git 目录<br>mkdir /usr/local/git</p>
<p>// 添加权限<br>chmod 777 /usr/local/git</p>
<p>// 下载安装的包<br>wget <a target="_blank" rel="noopener" href="https://mirrors.edge.kernel.org/pub/software/scm/git/git-2.9.5.tar.gz">https://mirrors.edge.kernel.org/pub/software/scm/git/git-2.9.5.tar.gz</a></p>
<p>// 解压安装包，进入安装包内部<br>tar -zxvf git-2.9.5.tar.gz</p>
<p>// 提前安装好需要的包<br>yum install curl-devel expat-devel gettext-devel openssl-devel zlib-devel gcc-c++ perl-ExtUtils-MakeMaker</p>
<p>// 配置，若报错则安装指定缺少的包即可<br>make configure</p>
<p>// 配置安装的路径<br>./configure –prefix=/usr/local/git/</p>
<p>// 编译且安装<br>make prefix=/usr/local/git/ &amp;&amp; make install</p>
<p>// 添加 git 到环境变量中去<br>export GIT_HOME=/usr/local/git<br>export path=$path:${GIT_HOME}/bin</p>
<p>// 激活当前配置文件<br>source /etc/profile<br><strong>错误信息</strong><br>// 缺少 autoconf 包</p>
<p>yum install -y autoconf<br>// In file included from credential-store.c:1:0:<br>cache.h:40:18: fatal error: zlib.h: No such file or directory<br>#include &lt;zlib.h&gt;</p>
<p>yum install zlib （系统默认已经装上）<br>yum install zlib-devel<br>// Can’t locate ExtUtils/MakeMaker.pm in @INC</p>
<p>yum install perl-ExtUtils-MakeMaker</p>
<p>// # perl Makefile.PL<br><strong>_ Module::AutoInstall version 1.06<br>_</strong> Checking for Perl dependencies…<br>Can’t locate CPAN.pm in @INC (@INC contains: inc /usr/local/lib64/perl5 /usr/local/share/perl5 /usr/lib64/perl5/vendor_perl /usr/share/perl5/vendor_perl /usr/lib64/perl5 /usr/share/perl5 .) at inc/Module/AutoInstall.pm line 304.</p>
<p>yum -y install perl-CPAN</p>
<h3 id="配置-1"><a href="#配置-1" class="headerlink" title="配置"></a>配置</h3><h4 id="windows-2"><a href="#windows-2" class="headerlink" title="windows"></a>windows</h4><p>配置全局信息<br>// 设置全局的用户名<br>git config –global user.name ‘goinhn’<br>// 配置全局的邮箱<br>git config –global user.email ‘goinhn@163.com’</p>
<p>// 查看全局的信息<br>git config –list<br>配置 ssh 密钥<br>ssh-keygen</p>
<p>-b 采用长度 1024bit 的密钥对,b=bits,最长 4096，不过没啥必要<br>-t rsa 采用 rsa 加密方式,t=type<br>-f 生成文件名,f=output_keyfiles<br>-C 备注，C=comment<br>测试 ssh<br>ssh -T hostname<br>不同的远端配置多个不同的 ssh 密钥</p>
<h1 id="配置文件参数"><a href="#配置文件参数" class="headerlink" title="配置文件参数"></a>配置文件参数</h1><h1 id="Host-别名，可以取自己喜欢的名字，不过这个会影响-git-相关命令，例如定义为：Host-mygithub-时，clone-命令为-git-clone-x67-105-116-64-x6d-x79-x67-105-x74-104-x75-x62-46-x63-111-x6d-WordPress-WordPress-git"><a href="#Host-别名，可以取自己喜欢的名字，不过这个会影响-git-相关命令，例如定义为：Host-mygithub-时，clone-命令为-git-clone-x67-105-116-64-x6d-x79-x67-105-x74-104-x75-x62-46-x63-111-x6d-WordPress-WordPress-git" class="headerlink" title="Host : 别名，可以取自己喜欢的名字，不过这个会影响 git 相关命令，例如定义为：Host mygithub 时，clone 命令为 git clone &#x67;&#105;&#116;&#64;&#x6d;&#x79;&#x67;&#105;&#x74;&#104;&#x75;&#x62;&#46;&#x63;&#111;&#x6d;:WordPress/WordPress.git"></a>Host : 别名，可以取自己喜欢的名字，不过这个会影响 git 相关命令，例如定义为：Host mygithub 时，clone 命令为 git clone <a href="mailto:&#x67;&#105;&#116;&#64;&#x6d;&#x79;&#x67;&#105;&#x74;&#104;&#x75;&#x62;&#46;&#x63;&#111;&#x6d;">&#x67;&#105;&#116;&#64;&#x6d;&#x79;&#x67;&#105;&#x74;&#104;&#x75;&#x62;&#46;&#x63;&#111;&#x6d;</a>:WordPress/WordPress.git</h1><h1 id="HostName-要登录主机的主机名，真实的域名地址"><a href="#HostName-要登录主机的主机名，真实的域名地址" class="headerlink" title="HostName : 要登录主机的主机名，真实的域名地址"></a>HostName : 要登录主机的主机名，真实的域名地址</h1><h1 id="User-登录名"><a href="#User-登录名" class="headerlink" title="User : 登录名"></a>User : 登录名</h1><h1 id="IdentityFile-指明上面-User-对应的-identityFile-路径"><a href="#IdentityFile-指明上面-User-对应的-identityFile-路径" class="headerlink" title="IdentityFile : 指明上面 User 对应的 identityFile 路径"></a>IdentityFile : 指明上面 User 对应的 identityFile 路径</h1><h1 id="PreferredAuthentications-配置登录时的权限认证方式–可设为-publickey-password-publickey-keyboard-interactive-等"><a href="#PreferredAuthentications-配置登录时的权限认证方式–可设为-publickey-password-publickey-keyboard-interactive-等" class="headerlink" title="PreferredAuthentications : 配置登录时的权限认证方式–可设为 publickey,password publickey,keyboard-interactive 等"></a>PreferredAuthentications : 配置登录时的权限认证方式–可设为 publickey,password publickey,keyboard-interactive 等</h1><h1 id="文件内容如下："><a href="#文件内容如下：" class="headerlink" title="文件内容如下："></a>文件内容如下：</h1><h1 id="github-com-103-111-x69-110-x68-x6e-x40-x31-54-51-46-99-111-109"><a href="#github-com-103-111-x69-110-x68-x6e-x40-x31-54-51-46-99-111-109" class="headerlink" title="github.com - &#103;&#111;&#x69;&#110;&#x68;&#x6e;&#x40;&#x31;&#54;&#51;&#46;&#99;&#111;&#109;"></a>github.com - <a href="mailto:&#103;&#111;&#x69;&#110;&#x68;&#x6e;&#x40;&#x31;&#54;&#51;&#46;&#99;&#111;&#109;">&#103;&#111;&#x69;&#110;&#x68;&#x6e;&#x40;&#x31;&#54;&#51;&#46;&#99;&#111;&#109;</a></h1><p>Host github.com<br>HostName github.com<br>PreferredAuthentications publickey<br>IdentityFile C:/Users/goinhn/.ssh/id_rsa_github_goinhn<br>User Goinhn</p>
<h4 id="Linux-2"><a href="#Linux-2" class="headerlink" title="Linux"></a>Linux</h4><p>配置 sshkey 到远端<br>// 生成 sshkey 在本地</p>
<p>// 添加 sshkey 到 ssh-agent<br>// 确认 ssh-agent 是否工作<br>eval $(ssh-agent -s)<br>// 添加<br>ssh-add ~/.ssh/id_rsa</p>
<h5 id=""><a href="#" class="headerlink" title=""></a></h5><h2 id="Tomcat"><a href="#Tomcat" class="headerlink" title="Tomcat"></a>Tomcat</h2><p>官网<br><a target="_blank" rel="noopener" href="https://tomcat.apache.org/">https://tomcat.apache.org/</a></p>
<h3 id="windows-3"><a href="#windows-3" class="headerlink" title="windows"></a>windows</h3><p><strong>安装包安装</strong><br>默认要先有 Java 的环境<br>下载指定的压缩包，解压缩到安装的路径下<br>配置环境变量<br>CATALINA_HOME<br>/local/tomcat</p>
<p>// 添加到 path 中的内容<br>%CATALINA_HOME%\bin;%CATALINA_HOME%\lib<br>启动测试<br>// 进入 tomcat 的 bin 目录，运行命令安装服务<br>service.bat install</p>
<p>// 验证安装是否成功，运行命令，浏览器打开 localhost:8080 进入页面表示安装成功<br>startup.bat</p>
<h3 id="Linux-3"><a href="#Linux-3" class="headerlink" title="Linux"></a>Linux</h3><p>先配置 Java 的环境<br>// 下载指定的安装包<br>wget <a target="_blank" rel="noopener" href="https://mirrors.bfsu.edu.cn/apache/tomcat/tomcat-8/v8.5.57/bin/apache-tomcat-8.5.57.tar.gz">https://mirrors.bfsu.edu.cn/apache/tomcat/tomcat-8/v8.5.57/bin/apache-tomcat-8.5.57.tar.gz</a></p>
<p>// 新建安装目录<br>mkdir /usr/local/tomcat</p>
<p>// 给予权限<br>chmod 777 -R /usr/loca/tomcat</p>
<p>// 将文件解压到安装目录<br>tar -zxvf apache-tomcat-8.5.57.tar.gz</p>
<p>//配置环境变量<br>export CATALINA_HOME=/usr/local/apache-tomcat-8.5.57<br>export path=${CATALINA_HOME}/bin</p>
<p>// 配置字符集<br>cd /usr/local/apache-tomcat-7.0.73/conf<br>vim server.xml<br>找到配置 8080 端口的位置，在节点末尾添加 URIEncoding=”UTF-8”</p>
<h3 id="配置-2"><a href="#配置-2" class="headerlink" title="配置"></a>配置</h3><h4 id="windows-4"><a href="#windows-4" class="headerlink" title="windows"></a>windows</h4><p>中文乱码修改<br>页面输出乱码<br>// service.xml 配置未注明编码格式，浏览器本身有自己的显示编码格式，tomcat 的输出也有自己的格式，甚至我们在编写代码的过程中也可以指定输出的编码格式。所以这类原因导致的乱码，需要我们保持各种编码格式统一<br>1、在 tomcat 中将 server.xml 的我们所用的端口的配置添加 URIEncoding=”UTF-8”<br><Connector port="8080" protocol="HTTP/1.1"
               connectionTimeout="20000"
               redirectPort="8443" URIEncoding="UTF-8" /></p>
<p>2、在 html 的<html></html>标签内加上 meta 标签</p>
<p>3、在编程中输出页面编码为 UTF-8</p>
<p>// catalina.bat 的配置问题<br>在\tomcat\bin\catalina.bat 这个配置文件中加上<br>set JAVA_OPTS=-Dfile.encoding=UTF-8</p>
<p>// .用编译工具，在 IDEA 编译器中的 VM options:设置-Dfile.encoding=UTF-8，或 eclipse 的设置中改成 utf-8 输出的问题可以解决<br>控制台输出乱码<br>1、修改 cmd 命令行的编码<br>a.打开注册表，找到 HKEY_CURRENT_USER→Console→Tomcat<br>b.找到 CodePage 项，没有则创建，更改值为十进制的 65001，该十进制的意思是 utf-8 的编码，如果设置为 936 就是 GBK 的编码，该选项表示的是 tomcat 运行终端的页面编码</p>
<p>2、修改 logging.properties 配置<br>a.打开 tomcat/conf/logging.properties<br>b.修改文件中的编码和运行终端的编码一致即可，在 windows 本地设置为 GBK 即可<br>c.重启 tomcat，查看日志数据即可<br>端口号修改<br>// 打开 conf/server.xml 文件，68 行，port:8080 就是端口号<br>// 修改端口号之后需要重启，如果需要运行多个服务，需要复制 service 元素，配置不同的端口</p>
<p><Connector port="8080" protocol="HTTP/1.1"
            connectionTimeout="20000"
            redirectPort="8443" /><br>用户名和密码<br>// 打开 conf/tomcat-users.xml<br>// tomcat 默认没有配置任何用户<br>// 在 tomcat-users 标签内部添加如下内容：</p>
<role rolename="mangager-gui" />
<user username="mangager" password="123456" roles="manager-gui" />

<h2 id="MAVEN"><a href="#MAVEN" class="headerlink" title="MAVEN"></a>MAVEN</h2><p>官网<br><a target="_blank" rel="noopener" href="http://maven.apache.org/">http://maven.apache.org/</a></p>
<h3 id="windows-5"><a href="#windows-5" class="headerlink" title="windows"></a>windows</h3><p><strong>安装包安装</strong><br>需要先安装 Java 的环境<br>下载安装包解压到安装路径<br>环境变量<br>MAVEN_HOME<br>/local/maven/apache-maven3.6.1</p>
<p>M2_HOME<br>/local/maven/apache-maven3.6.1</p>
<p>path<br>%MAVEN_HOME%/bin</p>
<h3 id="Linux-4"><a href="#Linux-4" class="headerlink" title="Linux"></a>Linux</h3><p>先安装 Java 环境<br>// 下载指定的包<br>wget <a target="_blank" rel="noopener" href="https://mirror.bit.edu.cn/apache/maven/maven-3/3.6.3/binaries/apache-maven-3.6.3-bin.tar.gz">https://mirror.bit.edu.cn/apache/maven/maven-3/3.6.3/binaries/apache-maven-3.6.3-bin.tar.gz</a></p>
<p>// 新建安装目录<br>mkdir /usr/local/maven</p>
<p>// 添加权限<br>chmod 777 -R /usr/local/maven</p>
<p>// 解压安装包<br>tar -zxvf apache-maven-3.6.3-bin.tar.gz</p>
<p>// 配置环境变量<br>export MAVEN_HOME=/usr/local/maven/apache-maven-3.6.3<br>export M2_HOME=/usr/local/maven/apache-maven-3.6.3<br>export path=${MAVEN_HOME}/bin:${M2_HOME}/bin</p>
<p>// 设置配置本地仓库位置<br>// 修改镜像源</p>
<h3 id="配置-3"><a href="#配置-3" class="headerlink" title="配置"></a>配置</h3><p>设置本地资源库位置<br>// 修改 maven 安装目录下的 conf 下的 setting.xml</p>
<p><localRepository>D:\repository\maven</localRepository><br>修改仓库镜像源<br>// 在 setting.xml 中的 mirrors 下添加</p>
<!--aliyun central mirrors-->

<pre><code>    &lt;mirror&gt;
        &lt;name&gt;aliyun-central-maven&lt;/name&gt;
        &lt;id&gt;aliyun-central&lt;/id&gt;
        &lt;mirrorOf&gt;central&lt;/mirrorOf&gt;
        &lt;url&gt;http://maven.aliyun.com/nexus/content/repositories/central/&lt;/url&gt;
    &lt;/mirror&gt;

    &lt;!-- aliyun public mirrors  --&gt;
    &lt;mirror&gt;
        &lt;name&gt;aliyun-groups-maven&lt;/name&gt;
        &lt;id&gt;aliyun-public&lt;/id&gt;
        &lt;mirrorOf&gt;central&lt;/mirrorOf&gt;
        &lt;url&gt;http://maven.aliyun.com/nexus/content/groups/public/&lt;/url&gt;
    &lt;/mirror&gt;

    &lt;!-- ibiblio mirrors --&gt;
    &lt;mirror&gt;
        &lt;name&gt;ibiblio-maven&lt;/name&gt;
        &lt;id&gt;ibiblio&lt;/id&gt;
        &lt;mirrorOf&gt;central&lt;/mirrorOf&gt;
        &lt;url&gt;http://mirrors.ibiblio.org/pub/mirrors/maven2/&lt;/url&gt;
    &lt;/mirror&gt;

    &lt;!-- springio mirrors --&gt;
    &lt;mirror&gt;
        &lt;name&gt;springio-maven&lt;/name&gt;
        &lt;id&gt;springio&lt;/id&gt;
        &lt;mirrorOf&gt;central&lt;/mirrorOf&gt;
        &lt;url&gt;https://repo.spring.io/libs-snapshot/&lt;/url&gt;
    &lt;/mirror&gt;

    &lt;!-- repo1 mirrors --&gt;
    &lt;mirror&gt;
        &lt;name&gt;repo1-maven&lt;/name&gt;
        &lt;id&gt;repo1&lt;/id&gt;
        &lt;mirrorOf&gt;$&#123;repo1&#125;&lt;/mirrorOf&gt;
        &lt;url&gt;http://repo1.maven.org/maven2/&lt;/url&gt;
    &lt;/mirror&gt;

    &lt;!-- repo1 apache mirrors --&gt;
    &lt;mirror&gt;
        &lt;name&gt;repo1-apache-maven&lt;/name&gt;
        &lt;id&gt;repo1-apache&lt;/id&gt;
        &lt;mirrorOf&gt;$&#123;repo1-apache&#125;&lt;/mirrorOf&gt;
        &lt;url&gt;http://repo1.maven.apache.org/maven2/&lt;/url&gt;
    &lt;/mirror&gt;

    &lt;!-- repo2 mirrors --&gt;
    &lt;mirror&gt;
        &lt;name&gt;repo2-maven&lt;/name&gt;
        &lt;id&gt;repo2&lt;/id&gt;
        &lt;mirrorOf&gt;$&#123;repo2&#125;&lt;/mirrorOf&gt;
        &lt;url&gt;http://repo2.maven.org/maven2/&lt;/url&gt;
    &lt;/mirror&gt;

    &lt;!-- uk mirrors --&gt;
    &lt;mirror&gt;
        &lt;name&gt;uk-maven&lt;/name&gt;
        &lt;id&gt;uk&lt;/id&gt;
        &lt;mirrorOf&gt;$&#123;uk&#125;&lt;/mirrorOf&gt;
        &lt;url&gt;http://uk.maven.org/maven2/&lt;/url&gt;
    &lt;/mirror&gt;

    &lt;!-- google mirrors --&gt;
    &lt;mirror&gt;
        &lt;name&gt;google-maven&lt;/name&gt;
        &lt;id&gt;google&lt;/id&gt;
        &lt;mirrorOf&gt;$&#123;google&#125;&lt;/mirrorOf&gt;
        &lt;url&gt;http://maven.google.com/&lt;/url&gt;
    &lt;/mirror&gt;

    &lt;!-- china-mirrors --&gt;
    &lt;mirror&gt;
        &lt;name&gt;china-maven&lt;/name&gt;
        &lt;id&gt;china&lt;/id&gt;
        &lt;mirrorOf&gt;$&#123;china&#125;&lt;/mirrorOf&gt;
        &lt;url&gt;http://maven.net.cn/content/groups/public/&lt;/url&gt;
    &lt;/mirror&gt;

    &lt;!-- oschina-mirrors --&gt;
    &lt;mirror&gt;
        &lt;name&gt;oschina-maven&lt;/name&gt;
        &lt;id&gt;oschina&lt;/id&gt;
        &lt;mirrorOf&gt;$&#123;oschina&#125;&lt;/mirrorOf&gt;
        &lt;url&gt;http://maven.oschina.net/content/groups/public/&lt;/url&gt;
    &lt;/mirror&gt;

    &lt;!-- jboss mirrors --&gt;
    &lt;mirror&gt;
        &lt;name&gt;jboss-groups-maven&lt;/name&gt;
        &lt;id&gt;jboss-group&lt;/id&gt;
        &lt;mirrorOf&gt;$&#123;jboss-groups&#125;&lt;/mirrorOf&gt;
</code></pre>
<p><url><a target="_blank" rel="noopener" href="http://repository.jboss.org/nexus/content/groups/public/">http://repository.jboss.org/nexus/content/groups/public/</a></url><br></mirror></p>
<h2 id="node"><a href="#node" class="headerlink" title="node"></a>node</h2><p>官网<br><a target="_blank" rel="noopener" href="https://nodejs.org/en/">https://nodejs.org/en/</a><br>npm 官网<br><a target="_blank" rel="noopener" href="https://npm.taobao.org/mirrors/npm/">https://npm.taobao.org/mirrors/npm/</a><br>nvm 官网<br><a target="_blank" rel="noopener" href="https://github.com/coreybutler/nvm-windows/releases">https://github.com/coreybutler/nvm-windows/releases</a><br>nodist 官网 nod<br><a target="_blank" rel="noopener" href="https://github.com/nullivex/nodist/releases">https://github.com/nullivex/nodist/releases</a></p>
<h3 id="windows-6"><a href="#windows-6" class="headerlink" title="windows"></a>windows</h3><p><strong>nodejs 安装包安装</strong><br><strong>nvm 管理工具安装</strong><br>// 删除原有的 node 环境</p>
<p>// 下载指定的安装程序，安装的路径最好不要带有空格<br><a target="_blank" rel="noopener" href="https://github.com/coreybutler/nvm-windows/releases">https://github.com/coreybutler/nvm-windows/releases</a></p>
<p>// 查看本地安装的所有 node 版本<br>nvm ls</p>
<p>// 查看可以安装的版本<br>nvm list available</p>
<p>// 安装指定的版本<br>nvm install</p>
<p>// 使用指定的版本<br>nvm use</p>
<p>// 卸载指定的版本<br>nvm uninstall</p>
<p>// 查看当前使用的版本<br>nvm current<br><strong>nodeist 安装</strong><br>// 完全卸载 node 的环境</p>
<p>// 下载安装的版本直接安装</p>
<p>// 查看所有的版本<br>nodist</p>
<p>// 下载 node 最新版本<br>nodist latest</p>
<p>// 安装 node 某个版本<br>nodist 版本号</p>
<p>// 切换版本<br>nodist 版本号<br><strong>npm 使用国内镜像</strong><br>// 临时使用<br>npm –registry <a target="_blank" rel="noopener" href="https://registry.npm.taobao.org/">https://registry.npm.taobao.org</a> install express</p>
<p>// 持久使用<br>npm config set registry <a target="_blank" rel="noopener" href="https://registry.npm.taobao.org/">https://registry.npm.taobao.org</a></p>
<p>// 通过 cnpm 使用<br>npm install -g cnpm –registry=<a target="_blank" rel="noopener" href="https://registry.npm.taobao.org/">https://registry.npm.taobao.org</a><br>错误<br>// 由于 npm git 官方地址的变更，使用默认配置会导致安装 nodejs 的时候 npm 下载失败<br>// 修改 settings.txt，添加<br>node_mirror: <a target="_blank" rel="noopener" href="http://npm.taobao.org/mirrors/node/">http://npm.taobao.org/mirrors/node/</a><br>npm_mirror: <a target="_blank" rel="noopener" href="https://npm.taobao.org/mirrors/npm/">https://npm.taobao.org/mirrors/npm/</a></p>
<p>// 或者去 nodejs 的官网下载一个你需要的版本，安装到新建的文件夹中<br>// 拷贝到 nvm 目录下，修改文件名为 v+版本号<br>// 在控制台里修改使用 node 版本即可</p>
<p>// 单独安装一个 npm 包<br>// 去 npm 官网下载 nodejs 对应的 npm 包<br>// 下载完成，将解压后的文件复制到，C:\softtool\nvm\v10.15.3\node_modules 目录下，并重命名为 npm（注意必须重命名为 npm）<br>// 还需要将 npm 解压后的 bin 文件夹下的四个文件复制到 C:\softtool\nvm\v10.15.3 目录下：<br>npm<br>npm.cmd<br>npx<br>npx.cmd</p>
<h3 id="Linux-5"><a href="#Linux-5" class="headerlink" title="Linux"></a>Linux</h3><p><strong>安装包安装</strong><br>// 下载指定的包<br>wget <a target="_blank" rel="noopener" href="https://nodejs.org/dist/v12.18.3/node-v12.18.3-linux-x64.tar.gz">https://nodejs.org/dist/v12.18.3/node-v12.18.3-linux-x64.tar.gz</a></p>
<p>// 新建安装目录<br>mkdir /usr/local/node</p>
<p>// 添加权限<br>chmod 777 -R /usr/local/node</p>
<p>// 解压缩<br>tar -zxvf node-v12.18.3-linux-x64.tar.gz</p>
<p>// 设置软链接<br>ln -s /usr/local/node/node-v12.18.3-linux-x64/bin/node /usr/local/bin<br>ln -s /usr/local/node/node-v12.18.3-linux-x64/bin/npm /usr/local/bin<br><strong>源码安装</strong><br>// 源码安装可能遇到需要重新编译最新版本的 gcc 的情况，花费时间较长，不建议</p>
<p>// 下载源码<br>wget <a target="_blank" rel="noopener" href="https://nodejs.org/dist/v12.18.3/node-v12.18.3.tar.gz">https://nodejs.org/dist/v12.18.3/node-v12.18.3.tar.gz</a></p>
<p>// 新建安装目录<br>mkdir /usr/local/node</p>
<p>// 添加权限<br>chmod 777 -R /usr/local/node</p>
<p>// 解压缩<br>tar -zxvf node-v12.18.3.tar.gz</p>
<p>// 进入目录使用命令<br>.configure<br>make<br>make install</p>
<p>// 配置环境变量<br>export NODE_HOME=/usr/local/node/node-v12.18.3<br>export path=${NODE_HOME}/bin<br><strong>yum 管理工具安装</strong><br>// 该种安装方式存在不可使用的错误情况<br>yum install nodejs<br>yum install npm<br><strong>nvm 管理工具进行安装</strong><br>// 官网<br><a target="_blank" rel="noopener" href="https://github.com/nvm-sh/nvm">https://github.com/nvm-sh/nvm</a></p>
<p>// 下载安装包直接安装<br>wget -qO- <a target="_blank" rel="noopener" href="https://raw.githubusercontent.com/nvm-sh/nvm/v0.35.3/install.sh">https://raw.githubusercontent.com/nvm-sh/nvm/v0.35.3/install.sh</a> | bash</p>
<p>// 常用命令<br>// 查看目前已安装的 node 及当前所使用的 node<br>nvm ls<br>// 查看目前线上所能安装的所有 node 版本<br>nvm ls-remote<br>// 安装某个版本<br>nvm install 12.18.3<br>// 卸载某个版本<br>nvm uninstall 12.18.3<br>// 使用某个版本<br>nvm use 12.18.3<br>// 使用 6.11.0 作为预设使用的 node 版本<br>nvm alias default 6.11.0</p>
<h4 id="错误"><a href="#错误" class="headerlink" title="错误"></a>错误</h4><p>// WARNING: failed to autodetect C++ compiler version (CXX=g++)<br>yum install gcc gcc-c++<br>// WARNING: C++ compiler (CXX=g++, 4.8.5) too old, need g++ 6.3.0 or clang++ 8.0.0<br>// 安装 gcc-c++的版本过低<br>// gcc 版本下载网址<br><a target="_blank" rel="noopener" href="http://ftp.gnu.org/gnu/gcc/">http://ftp.gnu.org/gnu/gcc/</a><br>// 下载较新版的 gcc<br>wget <a target="_blank" rel="noopener" href="http://ftp.gnu.org/gnu/gcc/gcc-10.2.0/gcc-10.2.0.tar.gz">http://ftp.gnu.org/gnu/gcc/gcc-10.2.0/gcc-10.2.0.tar.gz</a><br>// 安装依赖包<br>root@baidu1 local]# cd gcc-7.1.0/ #执行 gcc 给出的 shell，它会去下载所需 4 个依赖包<br>[root@baidu1 gcc-7.1.0]# vi ./contrib/download_prerequisites<br>…<br>gmp=’gmp-6.1.0.tar.bz2’<br>mpfr=’mpfr-3.1.4.tar.bz2’<br>mpc=’mpc-1.0.3.tar.gz’<br>isl=’isl-0.16.1.tar.bz2’</p>
<p>base_url=’<a href="ftp://gcc.gnu.org/pub/gcc/infrastructure/&#39;">ftp://gcc.gnu.org/pub/gcc/infrastructure/&#39;</a><br>… #他们的 URL 分别是<br>#<a href="ftp://gcc.gnu.org/pub/gcc/infrastructure/gmp-6.1.0.tar.bz2">ftp://gcc.gnu.org/pub/gcc/infrastructure/gmp-6.1.0.tar.bz2</a><br>#<a href="ftp://gcc.gnu.org/pub/gcc/infrastructure/mpfr-3.1.4.tar.bz2">ftp://gcc.gnu.org/pub/gcc/infrastructure/mpfr-3.1.4.tar.bz2</a><br>#<a href="ftp://gcc.gnu.org/pub/gcc/infrastructure/mpc-1.0.3.tar.gz">ftp://gcc.gnu.org/pub/gcc/infrastructure/mpc-1.0.3.tar.gz</a><br>#<a href="ftp://gcc.gnu.org/pub/gcc/infrastructure/isl-0.16.1.tar.bz2">ftp://gcc.gnu.org/pub/gcc/infrastructure/isl-0.16.1.tar.bz2</a><br>[root@baidu1 gcc-7.1.0]# ./contrib/download_prerequisites #执行后会比较慢，担心卡住可以再开个 tab 查看进程，它是用的 wget 下载<br>[wang@baidu1 ~]$ ps -ef |grep wget<br>root 3129 3126 0 13:58 pts/0 00:00:00 wget –no-verbose -O ./isl-0.16.1.tar.bz2 <a href="ftp://gcc.gnu.org/pub/gcc/infrastructure/isl-0.16.1.tar.bz2">ftp://gcc.gnu.org/pub/gcc/infrastructure/isl-0.16.1.tar.bz2</a><br>wang 3143 3016 0 13:58 pts/1 00:00:00 grep –color=auto wget</p>
<p>[root@baidu1 gcc-7.1.0]# ./contrib/download_prerequisites<br>2020-08-01 13:42:10 URL: <a href="ftp://gcc.gnu.org/pub/gcc/infrastructure/gmp-6.1.0.tar.bz2">ftp://gcc.gnu.org/pub/gcc/infrastructure/gmp-6.1.0.tar.bz2</a> [2383840] -&gt; “./gmp-6.1.0.tar.bz2” [1]<br>2020-08-01 13:43:23 URL: <a href="ftp://gcc.gnu.org/pub/gcc/infrastructure/mpfr-3.1.4.tar.bz2">ftp://gcc.gnu.org/pub/gcc/infrastructure/mpfr-3.1.4.tar.bz2</a> [1279284] -&gt; “./mpfr-3.1.4.tar.bz2” [1]<br>2020-08-01 13:43:51 URL: <a href="ftp://gcc.gnu.org/pub/gcc/infrastructure/mpc-1.0.3.tar.gz">ftp://gcc.gnu.org/pub/gcc/infrastructure/mpc-1.0.3.tar.gz</a> [669925] -&gt; “./mpc-1.0.3.tar.gz” [1]<br>2020-08-01 13:45:14 URL: <a href="ftp://gcc.gnu.org/pub/gcc/infrastructure/isl-0.16.1.tar.bz2">ftp://gcc.gnu.org/pub/gcc/infrastructure/isl-0.16.1.tar.bz2</a> [1626446] -&gt; “./isl-0.16.1.tar.bz2” [1]<br>gmp-6.1.0.tar.bz2: OK<br>mpfr-3.1.4.tar.bz2: OK<br>mpc-1.0.3.tar.gz: OK<br>isl-0.16.1.tar.bz2: OK<br>All prerequisites downloaded successfully.</p>
<p>// 如果上面安装失败的话可以手动下载上述几个安装包，建立软链接<br>tar -jxvf gmp-4.3.2.tar.bz2<br>tar -zxvf mpc-0.8.1.tar.gz<br>tar -jxvf mpfr-2.4.2.tar.bz2<br>ln -sf gmp-4.3.2 gmp<br>ln -sf mpc-0.8.1 mpc<br>ln -sf mpfr-2.4.2 mpfr</p>
<p>// 可能缺少 lbzip2 包，安装即可<br>yum install lbzip2</p>
<p>// 如果执行一半给退了，可以根据报错信息删掉<br>mpc-1.0.3.tar.gz: FAILED<br>sha512sum: WARNING: 1 computed checksum did NOT match<br>error: Cannot download mpc-1.0.3.tar.gz from <a href="ftp://gcc.gnu.org/pub/gcc/infrastructure/">ftp://gcc.gnu.org/pub/gcc/infrastructure/</a><br>rm -rf mpc-1.0.3.tar.gz</p>
<p>// 下载完成之后开始编译，建议先安装几个依赖包<br>yum install m4 -y<br>yum install gmp-devel.x86_64 -y<br>yum install mpfr-devel.x86_64 -y<br>yum install gcc-c++.x86_64 -y</p>
<p>// 进入到 gcc 包下，输入命令<br>./configure –enable-checking=release –enable-languages=c,c++ –disable-multilib<br>// 根据机子的核心数来进行调整<br>make -j4<br>make install</p>
<p>// 安装完成之后如果 gcc 的版本没有改变可以重启系统进行生效<br>sudo reboot</p>
<h2 id="NPM"><a href="#NPM" class="headerlink" title="NPM"></a>NPM</h2><p>安装 nodejs 的时候会默认安装 npm 包管理工具<br>若没有安装则需要手动的下载 npm 包</p>
<h3 id="npm-包"><a href="#npm-包" class="headerlink" title="npm 包"></a>npm 包</h3><h4 id="rimraf"><a href="#rimraf" class="headerlink" title="rimraf"></a>rimraf</h4><p>快速删除 node_modules</p>
<p>安装<br>npm install rimraf -g</p>
<p>使用<br>rimraf node_moudles</p>
<h2 id="YARN"><a href="#YARN" class="headerlink" title="YARN"></a>YARN</h2><p>node 的包管理工具<br>官网<br><a target="_blank" rel="noopener" href="https://yarn.bootcss.com/docs/install/#windows-stable">https://yarn.bootcss.com/docs/install/#windows-stable</a><br>下载<br><a target="_blank" rel="noopener" href="https://github.com/yarnpkg/yarn/releases">https://github.com/yarnpkg/yarn/releases</a></p>
<h3 id="windows-7"><a href="#windows-7" class="headerlink" title="windows"></a>windows</h3><p>// 下载指定的安装包</p>
<p>// 配置环境变量<br>YARN_HOME=/local/yarn<br>path=%YARN_HOME%\bin</p>
<p>// 配置全局安装目录<br>yarn config set global-folder D:\local\yarn\yarn_global</p>
<p>// 配置缓存目录<br>yarn config set cache-folder D:\local\yarn\yarn_cache</p>
<p>// 修改镜像<br>yarn config set registry <a target="_blank" rel="noopener" href="https://registry.npm.taobao.org/">https://registry.npm.taobao.org</a></p>
<h3 id="Linux-6"><a href="#Linux-6" class="headerlink" title="Linux"></a>Linux</h3><p>// 官网指导<br><a target="_blank" rel="noopener" href="https://yarn.bootcss.com/docs/install/#centos-stable">https://yarn.bootcss.com/docs/install/#centos-stable</a></p>
<p>// 更新源<br>curl –silent –location <a target="_blank" rel="noopener" href="https://dl.yarnpkg.com/rpm/yarn.repo">https://dl.yarnpkg.com/rpm/yarn.repo</a> | sudo tee /etc/yum.repos.d/yarn.repo</p>
<p>// 如果没有 node 环境<br>curl –silent –location <a target="_blank" rel="noopener" href="https://rpm.nodesource.com/setup_8.x">https://rpm.nodesource.com/setup_8.x</a> | sudo bash -</p>
<p>// 安装<br>yum install yarn<br>// 或者通过 npm 进行安装</p>
<h2 id="ADB"><a href="#ADB" class="headerlink" title="ADB"></a>ADB</h2><p>安卓调试工具<br>官网<br><a target="_blank" rel="noopener" href="https://developer.android.google.cn/studio/command-line/adb?hl=zh-cn">https://developer.android.google.cn/studio/command-line/adb?hl=zh-cn</a></p>
<h3 id="windows-8"><a href="#windows-8" class="headerlink" title="windows"></a>windows</h3><p>// 下载 adb 的包解压到安装路径，配置环境变量即可<br>ADB_HOME=/local/adb/platform-tools<br>path=%ADB_HOME%</p>
<h3 id="Linux-7"><a href="#Linux-7" class="headerlink" title="Linux"></a>Linux</h3><p>yum install -y adb</p>
<h2 id="Gradle"><a href="#Gradle" class="headerlink" title="Gradle"></a>Gradle</h2><p>Gradle 是基于 Ant 和 Maven 的构建工具<br>官网<br><a target="_blank" rel="noopener" href="https://gradle.org/">https://gradle.org/</a></p>
<h3 id="windows-9"><a href="#windows-9" class="headerlink" title="windows"></a>windows</h3><p>// 先安装 Java 的环境</p>
<p>// 下载指定的安装包</p>
<p>// 解压安装包到指定的目录</p>
<p>// 配置环境变量<br>GRADLE_HOME=\local\gradle\gradle-6.6.3<br>path=%GRADLE_HOME%\bin</p>
<h3 id="Linux-8"><a href="#Linux-8" class="headerlink" title="Linux"></a>Linux</h3><p>// 先安装 Java 的环境</p>
<p>// 下载指定的安装包<br>wget <a target="_blank" rel="noopener" href="https://gradle.org/next-steps/?version=6.6&amp;format=bin">https://gradle.org/next-steps/?version=6.6&amp;format=bin</a></p>
<p>// 解压安装包到指定的目录<br>unzip -d /usr/local/gradle gradle-6.6-bin.zip</p>
<p>// 配置环境变量<br>export GRADLE_HOME=/usr/local/gradle/gradle-6.6<br>export path=%GRADLE_HOME%/bin</p>
<p>// 激活一下配置文件<br>source /etc/profile</p>
<h2 id="Anaconda"><a href="#Anaconda" class="headerlink" title="Anaconda"></a>Anaconda</h2><p>Anaconda 指的是一个开源的 Python 发行版本，其包含了 conda、Python 等 180 多个科学包及其依赖项。 因为包含了大量的科学包，Anaconda 的下载文件比较大（约 531 MB），如果只需要某些包，或者需要节省带宽或存储空间，也可以使用 Miniconda 这个较小的发行版（仅包含 conda 和 Python）。<br>官网<br><a target="_blank" rel="noopener" href="https://www.anaconda.com/">https://www.anaconda.com/</a></p>
<h3 id="windows-10"><a href="#windows-10" class="headerlink" title="windows"></a>windows</h3><p>// 从官网下载指定的安装包进行安装</p>
<p>// 配置环境变量<br>软件安装的时候可以自动生成<br>也可以手动进行配置<br>%ANACONDA_HOME%;<br>%ANACONDA_HOME%\Library\mingw-w64\bin;<br>%ANACONDA_HOME%\Library\usr\bin;<br>%ANACONDA_HOME%\Library\bin;<br>%ANACONDA_HOME%\Scripts;</p>
<h3 id="Linux-9"><a href="#Linux-9" class="headerlink" title="Linux"></a>Linux</h3><p>// 下载 sh 文件直接安装<br>bash Anaconda3-2020.07-Linux-x86_64.sh</p>
<p>// 配置环境变量<br>export ANACONDA_HOME=/usr/local/anaconda<br>export path=${ANACONDA_HOME}/bin</p>
<p>// 修改镜像<br>// 在用户目录下生成配置文件.condarc，配置的信息最终都修改到这里<br>conda config</p>
<p>// 设置清华镜像源<br>conda config –add channels <a target="_blank" rel="noopener" href="https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/">https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/</a><br>conda config –add channels <a target="_blank" rel="noopener" href="https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/conda-forge">https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/conda-forge</a><br>conda config –add channels <a target="_blank" rel="noopener" href="https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/msys2/">https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/msys2/</a></p>
<p>// 设置中科大镜像源<br>conda config –add channels <a target="_blank" rel="noopener" href="https://mirrors.ustc.edu.cn/anaconda/pkgs/main/">https://mirrors.ustc.edu.cn/anaconda/pkgs/main/</a><br>conda config –add channels <a target="_blank" rel="noopener" href="https://mirrors.ustc.edu.cn/anaconda/pkgs/free/">https://mirrors.ustc.edu.cn/anaconda/pkgs/free/</a><br>conda config –add channels <a target="_blank" rel="noopener" href="https://mirrors.ustc.edu.cn/anaconda/cloud/conda-forge/">https://mirrors.ustc.edu.cn/anaconda/cloud/conda-forge/</a><br>conda config –add channels <a target="_blank" rel="noopener" href="https://mirrors.ustc.edu.cn/anaconda/cloud/msys2/">https://mirrors.ustc.edu.cn/anaconda/cloud/msys2/</a><br>conda config –add channels <a target="_blank" rel="noopener" href="https://mirrors.ustc.edu.cn/anaconda/cloud/bioconda/">https://mirrors.ustc.edu.cn/anaconda/cloud/bioconda/</a><br>conda config –add channels <a target="_blank" rel="noopener" href="https://mirrors.ustc.edu.cn/anaconda/cloud/menpo/">https://mirrors.ustc.edu.cn/anaconda/cloud/menpo/</a></p>
<h1 id="设置搜索时显示通道地址"><a href="#设置搜索时显示通道地址" class="headerlink" title="设置搜索时显示通道地址"></a>设置搜索时显示通道地址</h1><p>conda config –set show_channel_urls yes</p>
<p>// 若源不生效，试着把.condarc 文件中的 - defaults 那行去掉，就不会出现这个问题了<br>// 删除源<br>conda config –remove-key channels</p>
<h3 id="配置-4"><a href="#配置-4" class="headerlink" title="配置"></a>配置</h3><p>镜像<br>// 在用户目录下生成配置文件.condarc，配置的信息最终都修改到这里<br>conda config</p>
<p>// 设置清华镜像源<br>conda config –add channels <a target="_blank" rel="noopener" href="https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/">https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/</a><br>conda config –add channels <a target="_blank" rel="noopener" href="https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/conda-forge">https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/conda-forge</a><br>conda config –add channels <a target="_blank" rel="noopener" href="https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/msys2/">https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/msys2/</a></p>
<p>// 设置中科大镜像源<br>conda config –add channels <a target="_blank" rel="noopener" href="https://mirrors.ustc.edu.cn/anaconda/pkgs/main/">https://mirrors.ustc.edu.cn/anaconda/pkgs/main/</a><br>conda config –add channels <a target="_blank" rel="noopener" href="https://mirrors.ustc.edu.cn/anaconda/pkgs/free/">https://mirrors.ustc.edu.cn/anaconda/pkgs/free/</a><br>conda config –add channels <a target="_blank" rel="noopener" href="https://mirrors.ustc.edu.cn/anaconda/cloud/conda-forge/">https://mirrors.ustc.edu.cn/anaconda/cloud/conda-forge/</a><br>conda config –add channels <a target="_blank" rel="noopener" href="https://mirrors.ustc.edu.cn/anaconda/cloud/msys2/">https://mirrors.ustc.edu.cn/anaconda/cloud/msys2/</a><br>conda config –add channels <a target="_blank" rel="noopener" href="https://mirrors.ustc.edu.cn/anaconda/cloud/bioconda/">https://mirrors.ustc.edu.cn/anaconda/cloud/bioconda/</a><br>conda config –add channels <a target="_blank" rel="noopener" href="https://mirrors.ustc.edu.cn/anaconda/cloud/menpo/">https://mirrors.ustc.edu.cn/anaconda/cloud/menpo/</a></p>
<h1 id="设置搜索时显示通道地址-1"><a href="#设置搜索时显示通道地址-1" class="headerlink" title="设置搜索时显示通道地址"></a>设置搜索时显示通道地址</h1><p>conda config –set show_channel_urls yes</p>
<p>// 若源不生效，试着把.condarc 文件中的 - defaults 那行去掉，就不会出现这个问题了<br>// 删除源<br>conda config –remove-key channels</p>
<h2 id="Python"><a href="#Python" class="headerlink" title="Python"></a>Python</h2><p>官网<br><a target="_blank" rel="noopener" href="https://www.python.org/">https://www.python.org/</a></p>
<h3 id="windows-11"><a href="#windows-11" class="headerlink" title="windows"></a>windows</h3><p>// 下载指定的安装包</p>
<p>// 安装程序进行安装</p>
<p>// 如在安装的时候没有指定环境变量，需要设置环境变量</p>
<h3 id="Linux-10"><a href="#Linux-10" class="headerlink" title="Linux"></a>Linux</h3><p>大部分的 linux 的发行版会自带 python2 的环境<br><strong>命令行安装</strong><br>yum install -y python3.8<br><strong>源码安装</strong><br>// 官网下载最新的源码<br>wget <a target="_blank" rel="noopener" href="https://www.python.org/ftp/python/3.8.5/Python-3.8.5.tgz">https://www.python.org/ftp/python/3.8.5/Python-3.8.5.tgz</a></p>
<p>// 新建安装目录，授予权限<br>mkdir /usr/local/python<br>chmod 777 -R /usr/local/python</p>
<p>// 解压下载的安装包<br>tar -zxvf Python-3.8.5.tgz</p>
<p>// 配置安装路径<br>./configure –prefix=/usr/local/python</p>
<p>// 编译<br>make<br>// 安装<br>make install</p>
<h3 id="配置-5"><a href="#配置-5" class="headerlink" title="配置"></a>配置</h3><h4 id="Linux-11"><a href="#Linux-11" class="headerlink" title="Linux"></a>Linux</h4><p>// linux 下 python 命令默认调用的是 Python 2.x 开发环境，如果你习惯使用 Python 3.x，感觉每次输入 python3 命令有点麻烦，那么你可以修改配置，让 python 命令转而调用 Python 3.x 开发环境。具体命令如下：<br>$sudo unlink /usr/bin/python<br>$sudo ln -s /usr/bin/python3.8 /usr/bin/python</p>
<h2 id="Jmeter"><a href="#Jmeter" class="headerlink" title="Jmeter"></a>Jmeter</h2><p>官网<br><a target="_blank" rel="noopener" href="https://jmeter.apache.org/">https://jmeter.apache.org/</a><br>Jmeter 插件管理器<br><a target="_blank" rel="noopener" href="https://jmeter-plugins.org/install/Install/">https://jmeter-plugins.org/install/Install/</a></p>
<h3 id="windows-12"><a href="#windows-12" class="headerlink" title="windows"></a>windows</h3><p>// 下载编译好的安装包解压到指定的位置即可</p>
<p>// 配置环境变量<br>JMETER_HOME=\local\jmeter\apache-jmeter-5.3<br>// 在 classpath 中添加<br>;%JMETER_HOME%\lib\ext\ApacheJMeter_core.jar;%JMETER_HOME%\lib\jorphan.jar;%JMETER_HOME%\lib/logkit-2.0.jar;</p>
<p>// 点击 jmeter.bat 即可启动该工具</p>
<h3 id="Linux-12"><a href="#Linux-12" class="headerlink" title="Linux"></a>Linux</h3><p>// 下载编译好的安装包解压到指定的位置即可</p>
<p>// 配置环境变量<br>JMETER_HOME=\local\jmeter\apache-jmeter-5.3<br>// 在 classpath 中添加<br>;%JMETER_HOME%\lib\ext\ApacheJMeter_core.jar;%JMETER_HOME%\lib\jorphan.jar;%JMETER_HOME%\lib/logkit-2.0.jar;</p>
<p>// 点击 jmeter.sh 即可启动该工具</p>
<h3 id="配置-6"><a href="#配置-6" class="headerlink" title="配置"></a>配置</h3><h4 id="安装-jmeter-插件管理器"><a href="#安装-jmeter-插件管理器" class="headerlink" title="安装 jmeter 插件管理器"></a>安装 jmeter 插件管理器</h4><p>下载插件管理器的 jar 包，放置在 lib/ext 目录下即可</p>
<h2 id="Redis"><a href="#Redis" class="headerlink" title="Redis"></a>Redis</h2><p>官网<br><a target="_blank" rel="noopener" href="https://redis.io/">https://redis.io/</a><br><a target="_blank" rel="noopener" href="https://redis.cn/">https://redis.cn/</a><br>windows 下维护版本<br><a target="_blank" rel="noopener" href="https://github.com/MicrosoftArchive/redis/releases">https://github.com/MicrosoftArchive/redis/releases</a></p>
<h3 id="windows-13"><a href="#windows-13" class="headerlink" title="windows"></a>windows</h3><p><strong>安装包安装</strong><br>//点击下载 msi 安装包程序，点击直接进行安装，安装的时候点击配置环境变量</p>
<p>// redis 各个目录介绍<br>redis-server.exe：服务端程序，提供 redis 服务<br>redis-cli.exe: 客户端程序，通过它连接 redis 服务并进行操作<br>redis-check-dump.exe：本地数据库检查<br>redis-check-aof.exe：更新日志检查<br>redis-benchmark.exe：性能测试，用以模拟同时由 N 个客户端发送 M 个 SETs/GETs 查询 (类似于 Apache 的 ab 工具).<br>redis.windows.conf: 配置文件，将 redis 作为普通软件使用的配置，命令行关闭则 redis 关闭<br>redis.windows-service.conf：配置文件，将 redis 作为系统服务的配置，用以区别开两种不同的使用方式<br><strong>便携版安装</strong><br>// 下载 zip 安装包，解压到指定的目录</p>
<p>// 配置环境变量<br>REDIS_HOME=/local/redis<br>path=%REDIS_HOME%</p>
<p>// 启动 redis 服务，后面的那个 redis.windows.conf 配置文件路径可以省略，如果省略，会启用默认的<br>redis-server redis.windows.conf</p>
<p>// 安装 redis 服务<br>redis-server –service-install redis.windows.conf</p>
<p>// 启动 redis 服务<br>redis-server –service-start</p>
<p>// 停止 redis 服务<br>redis-server –service-stop</p>
<h3 id="Linux-13"><a href="#Linux-13" class="headerlink" title="Linux"></a>Linux</h3><p>// 下载 linux 下的安装包</p>
<p>// 新建安装目录<br>mkdir /usr/local/redis</p>
<p>// 添加权限<br>chmod 777 -R /usr/local/redis</p>
<p>// 解压安装包到安装目录<br>tar -zxvf redis-5.0.5.tar.gz</p>
<p>// 进入目录，进行编译安装<br>make<br>cd src<br>make install</p>
<p>// 安装为系统服务并后台启动、根据不同的情况修改不同的配置<br>cd utils<br>./install_server.sh</p>
<p>// 查看 redis 服务启动状态<br>systemctl status redis_6379.service</p>
<h3 id="配置-7"><a href="#配置-7" class="headerlink" title="配置"></a>配置</h3><p>// 设置允许远程连接，重启服务<br>vim /etc/redis/6379.conf<br>ip 绑定修改为 bind 0.0.0.0</p>
<p>// 设置密码，重启服务<br>vim /etc/redis/6379.conf<br>requirepass 123</p>
<h2 id="Mysql"><a href="#Mysql" class="headerlink" title="Mysql"></a>Mysql</h2><p>官网<br><a target="_blank" rel="noopener" href="https://www.mysql.com/">https://www.mysql.com/</a><br>mysql 社区版本下载地址<br><a target="_blank" rel="noopener" href="https://dev.mysql.com/downloads/mysql/">https://dev.mysql.com/downloads/mysql/</a></p>
<h3 id="windows-14"><a href="#windows-14" class="headerlink" title="windows"></a>windows</h3><p>// 卸载原有的 mysql 环境<br>win + r 打开运行窗口，输入 services.msc，关闭 mysql 服务<br>控制面板 -》 卸载程序 -》 卸载 mysql<br>win + r 打开运行窗口，输入 regedit 打开注册表，找到如下目录进行删除<br>HKEY_LOCAL_MACHINE\SYSTEM\ControlSet001\Services\Eventlog\Application\MySQL<br>HKEY_LOCAL_MACHINE\SYSTEM\ControlSet002\Services\Eventlog\Application\MySQL<br>HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\Eventlog\Application\MySQL<br>打开 cmd，输入 sc delete mysql，删除 mysql 服务，services.msc 中的服务内容在重启主机后消失<br>删除 mysql 安装目录下的文件</p>
<p>// 可以选择 msi 文件直接进行安装</p>
<p>// 或者下载 zip 压缩包进行安装</p>
<p>// 下载指定的 zip 到安装位置</p>
<p>// 在安装目录下新建 data 文件夹</p>
<p>// 在安装目录下新建 my.ini 配置文件，写入如下内容，注意 mysql8.0.19 之后设置编码的格式 utf8 为 utf8mb4<br>[mysql]<br>default-character-set=utf8mb4<br>[mysqld]<br>port=3306<br>basedir=D:\local\mysql\mysql-8.0.21-winx64<br>datadir=D:\local\mysql\mysql-8.0.21-winx64\data<br>max_connections=200<br>character-set-server=utf8mb4<br>default-storage-engine=INNODB</p>
<p>// 进入 mysql 下的 bin 目录执行命令<br>// 初始化<br>mysqld –initialize-insecure –console</p>
<p>// 安装<br>mysqld –install 服务名称</p>
<p>// 启动服务<br>net start 设置的服务名称</p>
<h3 id="Linux-14"><a href="#Linux-14" class="headerlink" title="Linux"></a>Linux</h3><p>// 删除原有的 mysql 环境<br>// 如果系统有自带的 mariadb 先删除<br>rpm -qa | grep mariadb<br>yum -y remove 找到的包</p>
<p>// 解压包到安装目录<br>tar -zxvf mysql-5.7.30-el7-x86_64.tar.gz</p>
<p>// 创建 mysql 用户，修改密码<br>useradd -d /home/mysql -m mysql<br>password mysql</p>
<p>// 在/etc 目录下新建 my.cnf 配置文件<br>[mysql]</p>
<h1 id="设置-mysql-客户端默认字符集"><a href="#设置-mysql-客户端默认字符集" class="headerlink" title="设置 mysql 客户端默认字符集"></a>设置 mysql 客户端默认字符集</h1><p>default-character-set=utf8<br>socket=/var/lib/mysql/mysql.sock<br>[mysqld]<br>skip-name-resolve #设置 3306 端⼝<br>port = 3306<br>socket=/var/lib/mysql/mysql.sock</p>
<h1 id="设置-mysql-的安装⽬录"><a href="#设置-mysql-的安装⽬录" class="headerlink" title="设置 mysql 的安装⽬录"></a>设置 mysql 的安装⽬录</h1><p>basedir=/usr/local/mysql/mysql-5.7.30</p>
<h1 id="设置-mysql-数据库的数据的存放⽬录"><a href="#设置-mysql-数据库的数据的存放⽬录" class="headerlink" title="设置 mysql 数据库的数据的存放⽬录"></a>设置 mysql 数据库的数据的存放⽬录</h1><p>datadir=/usr/local/mysql/mysql-5.7.30/data</p>
<h1 id="允许最⼤连接数"><a href="#允许最⼤连接数" class="headerlink" title="允许最⼤连接数"></a>允许最⼤连接数</h1><p>max_connections=200</p>
<h1 id="服务端使⽤的字符集默认为-8-⽐特编码的-latin1-字符集-character-set-server-utf8"><a href="#服务端使⽤的字符集默认为-8-⽐特编码的-latin1-字符集-character-set-server-utf8" class="headerlink" title="服务端使⽤的字符集默认为 8 ⽐特编码的 latin1 字符集 character-set-server=utf8"></a>服务端使⽤的字符集默认为 8 ⽐特编码的 latin1 字符集 character-set-server=utf8</h1><h1 id="创建新表时将使⽤的默认存储引擎"><a href="#创建新表时将使⽤的默认存储引擎" class="headerlink" title="创建新表时将使⽤的默认存储引擎"></a>创建新表时将使⽤的默认存储引擎</h1><p>default-storage-engine=INNODB<br>lower_case_table_names=1<br>max_allowed_packet=16M</p>
<p>// 新建/var/lib/mysql 目录，并修改权限<br>mkdir /var/lib/mysql<br>chmod 777 /var/lib/mysql</p>
<p>// 安装，进入解压目录下的 bin 目录，执行命令<br>./mysqld –initialize-insecure –user=mysql –basedir=/usr/local/mysql/mysql-5.7.30 –datadir=/usr/local/mysql/mysql-5.7.30/data –console</p>
<p>// 复制启动脚本到资源目录<br>cp ./support-files/mysql.server /etc/init.d/mysqld</p>
<p>// 修改其中的/etc/init.d/mysqld 中的 basedir 和 datadir<br>basedir=/usr/local/mysql/mysql-5.7.30<br>datadir=/usr/local/mysql/mysql-5.7.30/data</p>
<p>// 增加 mysqld 服务控制脚本执行权限<br>chmod +x /etc/init.d/mysqld</p>
<p>// 同时将 mysqld 服务加入到系统服务<br>chkconfig –add mysqld</p>
<p>// 检查 mysqld 是否已经生效<br>chkconfig –list mysqld</p>
<p>// 启动 mysql 服务<br>service mysqld start</p>
<p>// 将 mysql 加入环境变量<br>export MYSQL_HOME=/usr/local/mysql/mysql-5.7.30<br>export path=${MYSQL_HOME}/bin</p>
<h3 id="配置-8"><a href="#配置-8" class="headerlink" title="配置"></a>配置</h3><p><strong>登录</strong><br>mysql -h hostname|hostlP -p port -u username -p DatabaseName -e “SQL 语句”mysql -u root -p<br>-h：指定连接 MySQL 服务器的地址。可以用两种方式表示，hostname 为主机名，hostIP 为主机 IP 地址。<br>-p：指定连接 MySQL 服务器的端口号，port 为连接的端口号。MySQL 的默认端口号是 3306，因此如果不指定该参数，默认使用 3306 连接 MySQL 服务器。<br>-u：指定连接 MySQL 服务器的用户名，username 为用户名。<br>-p：提示输入密码，即提示 Enter password。<br>DatabaseName：指定连接到 MySQL 服务器后，登录到哪一个数据库中。如果没有指定，默认为 mysql 数据库。<br>-e：指定需要执行的 SQL 语句，登录 MySQL 服务器后执行这个 SQL 语句，然后退出 MySQL 服务器。<br><strong>修改密码</strong><br>使用 alter 进行修改密码<br>ALTER USER USER() IDENTIFIED BY ‘Reid790!@#$’;<br>Query OK, 0 rows affected (0.00 sec)</p>
<p>mysql&gt; ALTER USER ‘root’@’localhost’ IDENTIFIED BY ‘Tom579#$%^&amp;’; #针对 localhost<br>Query OK, 0 rows affected (0.00 sec)</p>
<p>或者先关闭其密码策略修改<br>mysql&gt; select @@validate_password_length;<br>ERROR 1820 (HY000): Unknown error 1820<br>mysql&gt; ALTER USER USER() IDENTIFIED BY ‘12345678’;<br>Query OK, 0 rows affected (0.00 sec)<br>使用 set 修改用户密码<br>在 MySQL 中，只有 root 用户可以通过更新 MySQL 数据库来更改密码。使用 root 用户登录到 MySQL 服务器后，可以使用 SET 语句来修改普通用户密码。语法格式如下：<br>SET PASSWORD FOR ‘username’@’hostname’ = PASSWORD (‘newpwd’);<br>其中，username 参数是普通用户的用户名，hostname 参数是普通用户的主机名，newpwd 是要更改的新密码。<br>注意：新密码必须使用 PASSWORD() 函数来加密，如果不使用 PASSWORD() 加密，也会执行成功，但是用户会无法登录。<br>如果是普通用户修改密码，可省略 FOR 子句来更改自己的密码。语法格式如下：<br>SET PASSWORD = PASSWORD(‘newpwd’);<br>使用 update 修改用户密码<br>使用 root 用户登录 MySQL 服务器后，可以使用 UPDATE 语句修改 MySQL 数据库的 user 表的 authentication_string 字段，从而修改普通用户的密码。UPDATA 语句的语法如下：<br>UPDATE MySQL.user SET authentication_string = PASSWORD(“newpwd”) WHERE User = “username” AND Host = “hostname”;<br>其中，username 参数是普通用户的用户名，hostname 参数是普通用户的主机名，newpwd 是要更改的新密码。<br>注意，执行 UPDATE 语句后，需要执行 FLUSH PRIVILEGES 语句重新加载用户权限。<br>使用 grant 修改密码<br>除了前面介绍的方法，还可以在全局级别使用 GRANT USAGE 语句指定某个账户的密码而不影响账户当前的权限。需要注意的是，使用 GRANT 语句修改密码，必须拥有 GRANT 权限。一般情况下最好使用该方法来指定或修改密码。语法格式如下：<br>GRANT USAGE ON <em>.</em> TO ‘user’@’hostname’ IDENTIFIED BY ‘newpwd’;<br>其中，username 参数是普通用户的用户名，hostname 参数是普通用户的主机名，newpwd 是要更改的新密码。<br>使用 mysqladmin 命令在命令行指定新密码<br>root 用户可以使用 mysqladmin 命令来修改密码，mysqladmin 的语法格式如下：<br>mysqladmin -u username -h hostname -p password “newpwd”<br>语法参数说明如下：<br>usermame 指需要修改密码的用户名称，在这里指定为 root 用户；<br>hostname 指需要修改密码的用户主机名，该参数可以不写，默认是 localhost；<br>password 为关键字，而不是指旧密码；<br>newpwd 为新设置的密码，必须用双引号括起来。如果使用单引号会引发错误，可能会造成修改后的密码不是你想要的。<br>使用 SET 语句修改 root 用户的密码<br>SET PASSWORD 语句可以用来重新设置其他用户的登录密码或者自己使用的账户的密码。使用 SET 语句修改密码的语法结构如下：<br>SET PASSWORD = PASSWORD (“rootpwd”);<br>跳过安全验证 skip-grant-tables<br>// 在忘记 MySQL 密码的情况下，可以通过 –skip-grant-tables 关闭服务器的认证，然后重置 root 的密码，具体操作步骤如下。<br>// 输入 mysqld –console –skip-grant-tables –shared-memory 命令。–skip-grant-tables 会让 MySQL 服务器跳过验证步骤，允许所有用户以匿名的方式，无需做密码验证就可以直接登录 MySQL 服务器，并且拥有所有的操作权限。<br>// 上一个 DOS 窗口不要关闭，打开一个新的 DOS 窗口，此时仅输入 mysql 命令，不需要用户名和密码，即可连接到 MySQL。<br>// 输入命令 update mysql.user set authentication_string=password(‘root’) where user=’root’ and Host =’localhost’; 设置新密码。<br>注意：MySQL 5.7 版本中的 user 表里已经去掉了 password 字段，改为了 authentication_string。<br>// 刷新权限（必须步骤），输入 flush privileges;命令。<br>// 重启 mysql 服务键入新密码登录即可<br>使用 mysql_secure_installation<br>[root@node1 db]# mysql_secure_installation</p>
<p>Securing the MySQL server deployment.</p>
<p>Enter password for user root: Marry583@&amp;%!<br>The ‘validate_password’ plugin is installed on the server.<br>The subsequent steps will run with the existing configuration<br>of the plugin.<br>Using existing password for root.</p>
<p>Estimated strength of the password: 100<br>Change the password for root ? ((Press y|Y for Yes, any other key for No) : y</p>
<p>New password: Tom579#$%^&amp;</p>
<p>Re-enter new password: Tom579#$%^&amp;</p>
<p>Estimated strength of the password: 100<br>Do you wish to continue with the password provided?(Press y|Y for Yes, any other key for No) : y<br>By default, a MySQL installation has an anonymous user,<br>allowing anyone to log into MySQL without having to have<br>a user account created for them. This is intended only for<br>testing, and to make the installation go a bit smoother.<br>You should remove them before moving into a production<br>environment.<br>为了安全应该 yes<br>Remove anonymous users? (Press y|Y for Yes, any other key for No) : No</p>
<p>… skipping.</p>
<p>Normally, root should only be allowed to connect from<br>‘localhost’. This ensures that someone cannot guess at<br>the root password from the network.<br>为了安全应该 yes<br>Disallow root login remotely? (Press y|Y for Yes, any other key for No) : No</p>
<p>… skipping.<br>By default, MySQL comes with a database named ‘test’ that<br>anyone can access. This is also intended only for testing,<br>and should be removed before moving into a production<br>environment.</p>
<p>为了安全应该 yes<br>Remove test database and access to it? (Press y|Y for Yes, any other key for No) : No</p>
<p>… skipping.<br>Reloading the privilege tables will ensure that all changes<br>made so far will take effect immediately.</p>
<p>Reload privilege tables now? (Press y|Y for Yes, any other key for No) : y<br>Success.</p>
<p>All done!<br><strong>时区修改</strong><br>set global time_zone=’+08:00’;<br>set time_zone=’+08:00’;<br>flush privileges;<br><strong>远程连接</strong><br>use mysql<br>update user set user.host=’%’ where user.user= ‘root’;<br>flush privileges;<br><strong>my.ini 文件详细内容</strong><br>#BEGIN CONFIG INFO<br>#DESCR: 4GB RAM, 只使用 InnoDB, ACID, 少量的连接, 队列负载大<br>#TYPE: SYSTEM<br>#END CONFIG INFO</p>
<h1 id="-1"><a href="#-1" class="headerlink" title=""></a></h1><h1 id="此-mysql-配置文件例子针对-4G-内存"><a href="#此-mysql-配置文件例子针对-4G-内存" class="headerlink" title="此 mysql 配置文件例子针对 4G 内存"></a>此 mysql 配置文件例子针对 4G 内存</h1><h1 id="主要使用-INNODB"><a href="#主要使用-INNODB" class="headerlink" title="主要使用 INNODB"></a>主要使用 INNODB</h1><p>#处理复杂队列并且连接数量较少的 mysql 服务器</p>
<h1 id="-2"><a href="#-2" class="headerlink" title=""></a></h1><h1 id="将此文件复制到-etc-my-cnf-作为全局设置"><a href="#将此文件复制到-etc-my-cnf-作为全局设置" class="headerlink" title="将此文件复制到/etc/my.cnf 作为全局设置,"></a>将此文件复制到/etc/my.cnf 作为全局设置,</h1><h1 id="mysql-data-dir-my-cnf-作为服务器指定设置"><a href="#mysql-data-dir-my-cnf-作为服务器指定设置" class="headerlink" title="mysql-data-dir/my.cnf 作为服务器指定设置"></a>mysql-data-dir/my.cnf 作为服务器指定设置</h1><h1 id="for-this-installation-或者放入"><a href="#for-this-installation-或者放入" class="headerlink" title="( for this installation) 或者放入"></a>( for this installation) 或者放入</h1><h1 id="my-cnf-作为用户设置"><a href="#my-cnf-作为用户设置" class="headerlink" title="~/.my.cnf 作为用户设置."></a>~/.my.cnf 作为用户设置.</h1><h1 id="-3"><a href="#-3" class="headerlink" title=""></a></h1><h1 id="在此配置文件中-你可以使用所有程序支持的长选项"><a href="#在此配置文件中-你可以使用所有程序支持的长选项" class="headerlink" title="在此配置文件中, 你可以使用所有程序支持的长选项."></a>在此配置文件中, 你可以使用所有程序支持的长选项.</h1><h1 id="如果想获悉程序支持的所有选项"><a href="#如果想获悉程序支持的所有选项" class="headerlink" title="如果想获悉程序支持的所有选项"></a>如果想获悉程序支持的所有选项</h1><h1 id="请在程序后加上”–help”参数运行程序"><a href="#请在程序后加上”–help”参数运行程序" class="headerlink" title="请在程序后加上”–help”参数运行程序."></a>请在程序后加上”–help”参数运行程序.</h1><h1 id="-4"><a href="#-4" class="headerlink" title=""></a></h1><h1 id="关于独立选项更多的细节信息可以在手册内找到"><a href="#关于独立选项更多的细节信息可以在手册内找到" class="headerlink" title="关于独立选项更多的细节信息可以在手册内找到"></a>关于独立选项更多的细节信息可以在手册内找到</h1><h1 id="-5"><a href="#-5" class="headerlink" title=""></a></h1><h1 id="-6"><a href="#-6" class="headerlink" title=""></a></h1><h1 id="以下选项会被-MySQL-客户端应用读取"><a href="#以下选项会被-MySQL-客户端应用读取" class="headerlink" title="以下选项会被 MySQL 客户端应用读取."></a>以下选项会被 MySQL 客户端应用读取.</h1><h1 id="注意只有-MySQL-附带的客户端应用程序保证可以读取这段内容"><a href="#注意只有-MySQL-附带的客户端应用程序保证可以读取这段内容" class="headerlink" title="注意只有 MySQL 附带的客户端应用程序保证可以读取这段内容."></a>注意只有 MySQL 附带的客户端应用程序保证可以读取这段内容.</h1><h1 id="如果你想你自己的-MySQL-应用程序获取这些值"><a href="#如果你想你自己的-MySQL-应用程序获取这些值" class="headerlink" title="如果你想你自己的 MySQL 应用程序获取这些值"></a>如果你想你自己的 MySQL 应用程序获取这些值</h1><h1 id="需要在-MySQL-客户端库初始化的时候指定这些选项"><a href="#需要在-MySQL-客户端库初始化的时候指定这些选项" class="headerlink" title="需要在 MySQL 客户端库初始化的时候指定这些选项"></a>需要在 MySQL 客户端库初始化的时候指定这些选项</h1><h1 id="-7"><a href="#-7" class="headerlink" title=""></a></h1><p>[client]<br>#password = [your_password]<br>port = @MYSQL_TCP_PORT@<br>socket = @MYSQL_UNIX_ADDR@</p>
<h1 id="应用定制选项"><a href="#应用定制选项" class="headerlink" title="_ 应用定制选项 _"></a><strong>_ 应用定制选项 _</strong></h1><h1 id="-8"><a href="#-8" class="headerlink" title=""></a></h1><h1 id="MySQL-服务端"><a href="#MySQL-服务端" class="headerlink" title="MySQL 服务端"></a>MySQL 服务端</h1><h1 id="-9"><a href="#-9" class="headerlink" title=""></a></h1><p>[mysqld]</p>
<h1 id="一般配置选项"><a href="#一般配置选项" class="headerlink" title="一般配置选项"></a>一般配置选项</h1><p>port = @MYSQL_TCP_PORT@<br>socket = @MYSQL_UNIX_ADDR@</p>
<h1 id="back-log-是操作系统在监听队列中所能保持的连接数"><a href="#back-log-是操作系统在监听队列中所能保持的连接数" class="headerlink" title="back_log 是操作系统在监听队列中所能保持的连接数,"></a>back_log 是操作系统在监听队列中所能保持的连接数,</h1><h1 id="队列保存了在-MySQL-连接管理器线程处理之前的连接"><a href="#队列保存了在-MySQL-连接管理器线程处理之前的连接" class="headerlink" title="队列保存了在 MySQL 连接管理器线程处理之前的连接."></a>队列保存了在 MySQL 连接管理器线程处理之前的连接.</h1><h1 id="如果你有非常高的连接率并且出现”connection-refused”-报错"><a href="#如果你有非常高的连接率并且出现”connection-refused”-报错" class="headerlink" title="如果你有非常高的连接率并且出现”connection refused” 报错,"></a>如果你有非常高的连接率并且出现”connection refused” 报错,</h1><h1 id="你就应该增加此处的值"><a href="#你就应该增加此处的值" class="headerlink" title="你就应该增加此处的值."></a>你就应该增加此处的值.</h1><h1 id="检查你的操作系统文档来获取这个变量的最大值"><a href="#检查你的操作系统文档来获取这个变量的最大值" class="headerlink" title="检查你的操作系统文档来获取这个变量的最大值."></a>检查你的操作系统文档来获取这个变量的最大值.</h1><h1 id="如果将-back-log-设定到比你操作系统限制更高的值-将会没有效果"><a href="#如果将-back-log-设定到比你操作系统限制更高的值-将会没有效果" class="headerlink" title="如果将 back_log 设定到比你操作系统限制更高的值,将会没有效果"></a>如果将 back_log 设定到比你操作系统限制更高的值,将会没有效果</h1><p>back_log = 50</p>
<h1 id="不在-TCP-IP-端口上进行监听"><a href="#不在-TCP-IP-端口上进行监听" class="headerlink" title="不在 TCP/IP 端口上进行监听."></a>不在 TCP/IP 端口上进行监听.</h1><h1 id="如果所有的进程都是在同一台服务器连接到本地的-mysqld"><a href="#如果所有的进程都是在同一台服务器连接到本地的-mysqld" class="headerlink" title="如果所有的进程都是在同一台服务器连接到本地的 mysqld,"></a>如果所有的进程都是在同一台服务器连接到本地的 mysqld,</h1><h1 id="这样设置将是增强安全的方法"><a href="#这样设置将是增强安全的方法" class="headerlink" title="这样设置将是增强安全的方法"></a>这样设置将是增强安全的方法</h1><h1 id="所有-mysqld-的连接都是通过-Unix-sockets-或者命名管道进行的"><a href="#所有-mysqld-的连接都是通过-Unix-sockets-或者命名管道进行的" class="headerlink" title="所有 mysqld 的连接都是通过 Unix sockets 或者命名管道进行的."></a>所有 mysqld 的连接都是通过 Unix sockets 或者命名管道进行的.</h1><h1 id="注意在-windows-下如果没有打开命名管道选项而只是用此项"><a href="#注意在-windows-下如果没有打开命名管道选项而只是用此项" class="headerlink" title="注意在 windows 下如果没有打开命名管道选项而只是用此项"></a>注意在 windows 下如果没有打开命名管道选项而只是用此项</h1><h1 id="通过-“enable-named-pipe”-选项-将会导致-mysql-服务没有任何作用"><a href="#通过-“enable-named-pipe”-选项-将会导致-mysql-服务没有任何作用" class="headerlink" title="(通过 “enable-named-pipe” 选项) 将会导致 mysql 服务没有任何作用!"></a>(通过 “enable-named-pipe” 选项) 将会导致 mysql 服务没有任何作用!</h1><p>#skip-networking</p>
<h1 id="MySQL-服务所允许的同时会话数的上限"><a href="#MySQL-服务所允许的同时会话数的上限" class="headerlink" title="MySQL 服务所允许的同时会话数的上限"></a>MySQL 服务所允许的同时会话数的上限</h1><h1 id="其中一个连接将被-SUPER-权限保留作为管理员登录"><a href="#其中一个连接将被-SUPER-权限保留作为管理员登录" class="headerlink" title="其中一个连接将被 SUPER 权限保留作为管理员登录."></a>其中一个连接将被 SUPER 权限保留作为管理员登录.</h1><h1 id="即便已经达到了连接数的上限"><a href="#即便已经达到了连接数的上限" class="headerlink" title="即便已经达到了连接数的上限."></a>即便已经达到了连接数的上限.</h1><p>max_connections = 100</p>
<h1 id="每个客户端连接最大的错误允许数量-如果达到了此限制"><a href="#每个客户端连接最大的错误允许数量-如果达到了此限制" class="headerlink" title="每个客户端连接最大的错误允许数量,如果达到了此限制."></a>每个客户端连接最大的错误允许数量,如果达到了此限制.</h1><h1 id="这个客户端将会被-MySQL-服务阻止直到执行了”FLUSH-HOSTS”-或者服务重启"><a href="#这个客户端将会被-MySQL-服务阻止直到执行了”FLUSH-HOSTS”-或者服务重启" class="headerlink" title="这个客户端将会被 MySQL 服务阻止直到执行了”FLUSH HOSTS” 或者服务重启"></a>这个客户端将会被 MySQL 服务阻止直到执行了”FLUSH HOSTS” 或者服务重启</h1><h1 id="非法的密码以及其他在链接时的错误会增加此值"><a href="#非法的密码以及其他在链接时的错误会增加此值" class="headerlink" title="非法的密码以及其他在链接时的错误会增加此值."></a>非法的密码以及其他在链接时的错误会增加此值.</h1><h1 id="查看-“Aborted-connects”-状态来获取全局计数器"><a href="#查看-“Aborted-connects”-状态来获取全局计数器" class="headerlink" title="查看 “Aborted_connects” 状态来获取全局计数器."></a>查看 “Aborted_connects” 状态来获取全局计数器.</h1><p>max_connect_errors = 10</p>
<h1 id="所有线程所打开表的数量"><a href="#所有线程所打开表的数量" class="headerlink" title="所有线程所打开表的数量."></a>所有线程所打开表的数量.</h1><h1 id="增加此值就增加了-mysqld-所需要的文件描述符的数量"><a href="#增加此值就增加了-mysqld-所需要的文件描述符的数量" class="headerlink" title="增加此值就增加了 mysqld 所需要的文件描述符的数量"></a>增加此值就增加了 mysqld 所需要的文件描述符的数量</h1><h1 id="这样你需要确认在-mysqld-safe-中-“open-files-limit”-变量设置打开文件数量允许至少-4096"><a href="#这样你需要确认在-mysqld-safe-中-“open-files-limit”-变量设置打开文件数量允许至少-4096" class="headerlink" title="这样你需要确认在[mysqld_safe]中 “open-files-limit” 变量设置打开文件数量允许至少 4096"></a>这样你需要确认在[mysqld_safe]中 “open-files-limit” 变量设置打开文件数量允许至少 4096</h1><p>table_cache = 2048</p>
<h1 id="允许外部文件级别的锁-打开文件锁会对性能造成负面影响"><a href="#允许外部文件级别的锁-打开文件锁会对性能造成负面影响" class="headerlink" title="允许外部文件级别的锁. 打开文件锁会对性能造成负面影响"></a>允许外部文件级别的锁. 打开文件锁会对性能造成负面影响</h1><h1 id="所以只有在你在同样的文件上运行多个数据库实例时才使用此选项-注意仍会有其他约束"><a href="#所以只有在你在同样的文件上运行多个数据库实例时才使用此选项-注意仍会有其他约束" class="headerlink" title="所以只有在你在同样的文件上运行多个数据库实例时才使用此选项(注意仍会有其他约束!)"></a>所以只有在你在同样的文件上运行多个数据库实例时才使用此选项(注意仍会有其他约束!)</h1><h1 id="或者你在文件层面上使用了其他一些软件依赖来锁定-MyISAM-表"><a href="#或者你在文件层面上使用了其他一些软件依赖来锁定-MyISAM-表" class="headerlink" title="或者你在文件层面上使用了其他一些软件依赖来锁定 MyISAM 表"></a>或者你在文件层面上使用了其他一些软件依赖来锁定 MyISAM 表</h1><p>#external-locking</p>
<h1 id="服务所能处理的请求包的最大大小以及服务所能处理的最大的请求大小-当与大的-BLOB-字段一起工作时相当必要"><a href="#服务所能处理的请求包的最大大小以及服务所能处理的最大的请求大小-当与大的-BLOB-字段一起工作时相当必要" class="headerlink" title="服务所能处理的请求包的最大大小以及服务所能处理的最大的请求大小(当与大的 BLOB 字段一起工作时相当必要)"></a>服务所能处理的请求包的最大大小以及服务所能处理的最大的请求大小(当与大的 BLOB 字段一起工作时相当必要)</h1><h1 id="每个连接独立的大小-大小动态增加"><a href="#每个连接独立的大小-大小动态增加" class="headerlink" title="每个连接独立的大小.大小动态增加"></a>每个连接独立的大小.大小动态增加</h1><p>max_allowed_packet = 16M</p>
<h1 id="在一个事务中-binlog-为了记录-SQL-状态所持有的-cache-大小"><a href="#在一个事务中-binlog-为了记录-SQL-状态所持有的-cache-大小" class="headerlink" title="在一个事务中 binlog 为了记录 SQL 状态所持有的 cache 大小"></a>在一个事务中 binlog 为了记录 SQL 状态所持有的 cache 大小</h1><h1 id="如果你经常使用大的-多声明的事务-你可以增加此值来获取更大的性能"><a href="#如果你经常使用大的-多声明的事务-你可以增加此值来获取更大的性能" class="headerlink" title="如果你经常使用大的,多声明的事务,你可以增加此值来获取更大的性能."></a>如果你经常使用大的,多声明的事务,你可以增加此值来获取更大的性能.</h1><h1 id="所有从事务来的状态都将被缓冲在-binlog-缓冲中然后在提交后一次性写入到-binlog-中"><a href="#所有从事务来的状态都将被缓冲在-binlog-缓冲中然后在提交后一次性写入到-binlog-中" class="headerlink" title="所有从事务来的状态都将被缓冲在 binlog 缓冲中然后在提交后一次性写入到 binlog 中"></a>所有从事务来的状态都将被缓冲在 binlog 缓冲中然后在提交后一次性写入到 binlog 中</h1><h1 id="如果事务比此值大-会使用磁盘上的临时文件来替代"><a href="#如果事务比此值大-会使用磁盘上的临时文件来替代" class="headerlink" title="如果事务比此值大, 会使用磁盘上的临时文件来替代."></a>如果事务比此值大, 会使用磁盘上的临时文件来替代.</h1><h1 id="此缓冲在每个连接的事务第一次更新状态时被创建"><a href="#此缓冲在每个连接的事务第一次更新状态时被创建" class="headerlink" title="此缓冲在每个连接的事务第一次更新状态时被创建"></a>此缓冲在每个连接的事务第一次更新状态时被创建</h1><p>binlog_cache_size = 1M</p>
<h1 id="独立的内存表所允许的最大容量"><a href="#独立的内存表所允许的最大容量" class="headerlink" title="独立的内存表所允许的最大容量."></a>独立的内存表所允许的最大容量.</h1><h1 id="此选项为了防止意外创建一个超大的内存表导致永尽所有的内存资源"><a href="#此选项为了防止意外创建一个超大的内存表导致永尽所有的内存资源" class="headerlink" title="此选项为了防止意外创建一个超大的内存表导致永尽所有的内存资源."></a>此选项为了防止意外创建一个超大的内存表导致永尽所有的内存资源.</h1><p>max_heap_table_size = 64M</p>
<h1 id="排序缓冲被用来处理类似-ORDER-BY-以及-GROUP-BY-队列所引起的排序"><a href="#排序缓冲被用来处理类似-ORDER-BY-以及-GROUP-BY-队列所引起的排序" class="headerlink" title="排序缓冲被用来处理类似 ORDER BY 以及 GROUP BY 队列所引起的排序"></a>排序缓冲被用来处理类似 ORDER BY 以及 GROUP BY 队列所引起的排序</h1><h1 id="如果排序后的数据无法放入排序缓冲"><a href="#如果排序后的数据无法放入排序缓冲" class="headerlink" title="如果排序后的数据无法放入排序缓冲,"></a>如果排序后的数据无法放入排序缓冲,</h1><h1 id="一个用来替代的基于磁盘的合并分类会被使用"><a href="#一个用来替代的基于磁盘的合并分类会被使用" class="headerlink" title="一个用来替代的基于磁盘的合并分类会被使用"></a>一个用来替代的基于磁盘的合并分类会被使用</h1><h1 id="查看-“Sort-merge-passes”-状态变量"><a href="#查看-“Sort-merge-passes”-状态变量" class="headerlink" title="查看 “Sort_merge_passes” 状态变量."></a>查看 “Sort_merge_passes” 状态变量.</h1><h1 id="在排序发生时由每个线程分配"><a href="#在排序发生时由每个线程分配" class="headerlink" title="在排序发生时由每个线程分配"></a>在排序发生时由每个线程分配</h1><p>sort_buffer_size = 8M</p>
<h1 id="此缓冲被使用来优化全联合-full-JOINs-不带索引的联合"><a href="#此缓冲被使用来优化全联合-full-JOINs-不带索引的联合" class="headerlink" title="此缓冲被使用来优化全联合(full JOINs 不带索引的联合)."></a>此缓冲被使用来优化全联合(full JOINs 不带索引的联合).</h1><h1 id="类似的联合在极大多数情况下有非常糟糕的性能表现"><a href="#类似的联合在极大多数情况下有非常糟糕的性能表现" class="headerlink" title="类似的联合在极大多数情况下有非常糟糕的性能表现,"></a>类似的联合在极大多数情况下有非常糟糕的性能表现,</h1><h1 id="但是将此值设大能够减轻性能影响"><a href="#但是将此值设大能够减轻性能影响" class="headerlink" title="但是将此值设大能够减轻性能影响."></a>但是将此值设大能够减轻性能影响.</h1><h1 id="通过-“Select-full-join”-状态变量查看全联合的数量"><a href="#通过-“Select-full-join”-状态变量查看全联合的数量" class="headerlink" title="通过 “Select_full_join” 状态变量查看全联合的数量"></a>通过 “Select_full_join” 状态变量查看全联合的数量</h1><h1 id="当全联合发生时-在每个线程中分配"><a href="#当全联合发生时-在每个线程中分配" class="headerlink" title="当全联合发生时,在每个线程中分配"></a>当全联合发生时,在每个线程中分配</h1><p>join_buffer_size = 8M</p>
<h1 id="我们在-cache-中保留多少线程用于重用"><a href="#我们在-cache-中保留多少线程用于重用" class="headerlink" title="我们在 cache 中保留多少线程用于重用"></a>我们在 cache 中保留多少线程用于重用</h1><h1 id="当一个客户端断开连接后-如果-cache-中的线程还少于-thread-cache-size"><a href="#当一个客户端断开连接后-如果-cache-中的线程还少于-thread-cache-size" class="headerlink" title="当一个客户端断开连接后,如果 cache 中的线程还少于 thread_cache_size,"></a>当一个客户端断开连接后,如果 cache 中的线程还少于 thread_cache_size,</h1><h1 id="则客户端线程被放入-cache-中"><a href="#则客户端线程被放入-cache-中" class="headerlink" title="则客户端线程被放入 cache 中."></a>则客户端线程被放入 cache 中.</h1><h1 id="这可以在你需要大量新连接的时候极大的减少线程创建的开销"><a href="#这可以在你需要大量新连接的时候极大的减少线程创建的开销" class="headerlink" title="这可以在你需要大量新连接的时候极大的减少线程创建的开销"></a>这可以在你需要大量新连接的时候极大的减少线程创建的开销</h1><h1 id="一般来说如果你有好的线程模型的话-这不会有明显的性能提升"><a href="#一般来说如果你有好的线程模型的话-这不会有明显的性能提升" class="headerlink" title="(一般来说如果你有好的线程模型的话,这不会有明显的性能提升.)"></a>(一般来说如果你有好的线程模型的话,这不会有明显的性能提升.)</h1><p>thread_cache_size = 8</p>
<h1 id="此允许应用程序给予线程系统一个提示在同一时间给予渴望被运行的线程的数量"><a href="#此允许应用程序给予线程系统一个提示在同一时间给予渴望被运行的线程的数量" class="headerlink" title="此允许应用程序给予线程系统一个提示在同一时间给予渴望被运行的线程的数量."></a>此允许应用程序给予线程系统一个提示在同一时间给予渴望被运行的线程的数量.</h1><h1 id="此值只对于支持-thread-concurrency-函数的系统有意义-例如-Sun-Solaris"><a href="#此值只对于支持-thread-concurrency-函数的系统有意义-例如-Sun-Solaris" class="headerlink" title="此值只对于支持 thread_concurrency() 函数的系统有意义( 例如 Sun Solaris)."></a>此值只对于支持 thread_concurrency() 函数的系统有意义( 例如 Sun Solaris).</h1><h1 id="你可可以尝试使用-CPU-数量-2-4-来作为-thread-concurrency-的值"><a href="#你可可以尝试使用-CPU-数量-2-4-来作为-thread-concurrency-的值" class="headerlink" title="你可可以尝试使用 [CPU 数量]*(2..4) 来作为 thread_concurrency 的值"></a>你可可以尝试使用 [CPU 数量]*(2..4) 来作为 thread_concurrency 的值</h1><p>thread_concurrency = 8</p>
<h1 id="查询缓冲常被用来缓冲-SELECT-的结果并且在下一次同样查询的时候不再执行直接返回结果"><a href="#查询缓冲常被用来缓冲-SELECT-的结果并且在下一次同样查询的时候不再执行直接返回结果" class="headerlink" title="查询缓冲常被用来缓冲 SELECT 的结果并且在下一次同样查询的时候不再执行直接返回结果."></a>查询缓冲常被用来缓冲 SELECT 的结果并且在下一次同样查询的时候不再执行直接返回结果.</h1><h1 id="打开查询缓冲可以极大的提高服务器速度-如果你有大量的相同的查询并且很少修改表"><a href="#打开查询缓冲可以极大的提高服务器速度-如果你有大量的相同的查询并且很少修改表" class="headerlink" title="打开查询缓冲可以极大的提高服务器速度, 如果你有大量的相同的查询并且很少修改表."></a>打开查询缓冲可以极大的提高服务器速度, 如果你有大量的相同的查询并且很少修改表.</h1><h1 id="查看-“Qcache-lowmem-prunes”-状态变量来检查是否当前值对于你的负载来说是否足够高"><a href="#查看-“Qcache-lowmem-prunes”-状态变量来检查是否当前值对于你的负载来说是否足够高" class="headerlink" title="查看 “Qcache_lowmem_prunes” 状态变量来检查是否当前值对于你的负载来说是否足够高."></a>查看 “Qcache_lowmem_prunes” 状态变量来检查是否当前值对于你的负载来说是否足够高.</h1><h1 id="注意-在你表经常变化的情况下或者如果你的查询原文每次都不同"><a href="#注意-在你表经常变化的情况下或者如果你的查询原文每次都不同" class="headerlink" title="注意: 在你表经常变化的情况下或者如果你的查询原文每次都不同,"></a>注意: 在你表经常变化的情况下或者如果你的查询原文每次都不同,</h1><h1 id="查询缓冲也许引起性能下降而不是性能提升"><a href="#查询缓冲也许引起性能下降而不是性能提升" class="headerlink" title="查询缓冲也许引起性能下降而不是性能提升."></a>查询缓冲也许引起性能下降而不是性能提升.</h1><p>query_cache_size = 64M</p>
<h1 id="只有小于此设定值的结果才会被缓冲"><a href="#只有小于此设定值的结果才会被缓冲" class="headerlink" title="只有小于此设定值的结果才会被缓冲"></a>只有小于此设定值的结果才会被缓冲</h1><h1 id="此设置用来保护查询缓冲-防止一个极大的结果集将其他所有的查询结果都覆盖"><a href="#此设置用来保护查询缓冲-防止一个极大的结果集将其他所有的查询结果都覆盖" class="headerlink" title="此设置用来保护查询缓冲,防止一个极大的结果集将其他所有的查询结果都覆盖."></a>此设置用来保护查询缓冲,防止一个极大的结果集将其他所有的查询结果都覆盖.</h1><p>query_cache_limit = 2M</p>
<h1 id="被全文检索索引的最小的字长"><a href="#被全文检索索引的最小的字长" class="headerlink" title="被全文检索索引的最小的字长."></a>被全文检索索引的最小的字长.</h1><h1 id="你也许希望减少它-如果你需要搜索更短字的时候"><a href="#你也许希望减少它-如果你需要搜索更短字的时候" class="headerlink" title="你也许希望减少它,如果你需要搜索更短字的时候."></a>你也许希望减少它,如果你需要搜索更短字的时候.</h1><h1 id="注意在你修改此值之后"><a href="#注意在你修改此值之后" class="headerlink" title="注意在你修改此值之后,"></a>注意在你修改此值之后,</h1><h1 id="你需要重建你的-FULLTEXT-索引"><a href="#你需要重建你的-FULLTEXT-索引" class="headerlink" title="你需要重建你的 FULLTEXT 索引"></a>你需要重建你的 FULLTEXT 索引</h1><p>ft_min_word_len = 4</p>
<h1 id="如果你的系统支持-memlock-函数-你也许希望打开此选项用以让运行中的-mysql-在在内存高度紧张的时候-数据在内存中保持锁定并且防止可能被-swapping-out"><a href="#如果你的系统支持-memlock-函数-你也许希望打开此选项用以让运行中的-mysql-在在内存高度紧张的时候-数据在内存中保持锁定并且防止可能被-swapping-out" class="headerlink" title="如果你的系统支持 memlock() 函数,你也许希望打开此选项用以让运行中的 mysql 在在内存高度紧张的时候,数据在内存中保持锁定并且防止可能被 swapping out"></a>如果你的系统支持 memlock() 函数,你也许希望打开此选项用以让运行中的 mysql 在在内存高度紧张的时候,数据在内存中保持锁定并且防止可能被 swapping out</h1><h1 id="此选项对于性能有益"><a href="#此选项对于性能有益" class="headerlink" title="此选项对于性能有益"></a>此选项对于性能有益</h1><p>#memlock</p>
<h1 id="当创建新表时作为默认使用的表类型"><a href="#当创建新表时作为默认使用的表类型" class="headerlink" title="当创建新表时作为默认使用的表类型,"></a>当创建新表时作为默认使用的表类型,</h1><h1 id="如果在创建表示没有特别执行表类型-将会使用此值"><a href="#如果在创建表示没有特别执行表类型-将会使用此值" class="headerlink" title="如果在创建表示没有特别执行表类型,将会使用此值"></a>如果在创建表示没有特别执行表类型,将会使用此值</h1><p>default_table_type = MYISAM</p>
<h1 id="线程使用的堆大小-此容量的内存在每次连接时被预留"><a href="#线程使用的堆大小-此容量的内存在每次连接时被预留" class="headerlink" title="线程使用的堆大小. 此容量的内存在每次连接时被预留."></a>线程使用的堆大小. 此容量的内存在每次连接时被预留.</h1><h1 id="MySQL-本身常不会需要超过-64K-的内存"><a href="#MySQL-本身常不会需要超过-64K-的内存" class="headerlink" title="MySQL 本身常不会需要超过 64K 的内存"></a>MySQL 本身常不会需要超过 64K 的内存</h1><h1 id="如果你使用你自己的需要大量堆的-UDF-函数"><a href="#如果你使用你自己的需要大量堆的-UDF-函数" class="headerlink" title="如果你使用你自己的需要大量堆的 UDF 函数"></a>如果你使用你自己的需要大量堆的 UDF 函数</h1><h1 id="或者你的操作系统对于某些操作需要更多的堆"><a href="#或者你的操作系统对于某些操作需要更多的堆" class="headerlink" title="或者你的操作系统对于某些操作需要更多的堆,"></a>或者你的操作系统对于某些操作需要更多的堆,</h1><h1 id="你也许需要将其设置的更高一点"><a href="#你也许需要将其设置的更高一点" class="headerlink" title="你也许需要将其设置的更高一点."></a>你也许需要将其设置的更高一点.</h1><p>thread_stack = 192K</p>
<h1 id="设定默认的事务隔离级别-可用的级别如下"><a href="#设定默认的事务隔离级别-可用的级别如下" class="headerlink" title="设定默认的事务隔离级别.可用的级别如下:"></a>设定默认的事务隔离级别.可用的级别如下:</h1><h1 id="READ-UNCOMMITTED-READ-COMMITTED-REPEATABLE-READ-SERIALIZABLE"><a href="#READ-UNCOMMITTED-READ-COMMITTED-REPEATABLE-READ-SERIALIZABLE" class="headerlink" title="READ-UNCOMMITTED, READ-COMMITTED, REPEATABLE-READ, SERIALIZABLE"></a>READ-UNCOMMITTED, READ-COMMITTED, REPEATABLE-READ, SERIALIZABLE</h1><p>transaction_isolation = REPEATABLE-READ</p>
<h1 id="内部-内存中-临时表的最大大小"><a href="#内部-内存中-临时表的最大大小" class="headerlink" title="内部(内存中)临时表的最大大小"></a>内部(内存中)临时表的最大大小</h1><h1 id="如果一个表增长到比此值更大-将会自动转换为基于磁盘的表"><a href="#如果一个表增长到比此值更大-将会自动转换为基于磁盘的表" class="headerlink" title="如果一个表增长到比此值更大,将会自动转换为基于磁盘的表."></a>如果一个表增长到比此值更大,将会自动转换为基于磁盘的表.</h1><h1 id="此限制是针对单个表的-而不是总和"><a href="#此限制是针对单个表的-而不是总和" class="headerlink" title="此限制是针对单个表的,而不是总和."></a>此限制是针对单个表的,而不是总和.</h1><p>tmp_table_size = 64M</p>
<h1 id="打开二进制日志功能"><a href="#打开二进制日志功能" class="headerlink" title="打开二进制日志功能."></a>打开二进制日志功能.</h1><h1 id="在复制-replication-配置中-作为-MASTER-主服务器必须打开此项"><a href="#在复制-replication-配置中-作为-MASTER-主服务器必须打开此项" class="headerlink" title="在复制(replication)配置中,作为 MASTER 主服务器必须打开此项"></a>在复制(replication)配置中,作为 MASTER 主服务器必须打开此项</h1><h1 id="如果你需要从你最后的备份中做基于时间点的恢复-你也同样需要二进制日志"><a href="#如果你需要从你最后的备份中做基于时间点的恢复-你也同样需要二进制日志" class="headerlink" title="如果你需要从你最后的备份中做基于时间点的恢复,你也同样需要二进制日志."></a>如果你需要从你最后的备份中做基于时间点的恢复,你也同样需要二进制日志.</h1><p>log-bin=mysql-bin</p>
<h1 id="如果你在使用链式从服务器结构的复制模式-A-gt-B-gt-C"><a href="#如果你在使用链式从服务器结构的复制模式-A-gt-B-gt-C" class="headerlink" title="如果你在使用链式从服务器结构的复制模式 (A-&gt;B-&gt;C),"></a>如果你在使用链式从服务器结构的复制模式 (A-&gt;B-&gt;C),</h1><h1 id="你需要在服务器-B-上打开此项"><a href="#你需要在服务器-B-上打开此项" class="headerlink" title="你需要在服务器 B 上打开此项."></a>你需要在服务器 B 上打开此项.</h1><h1 id="此选项打开在从线程上重做过的更新的日志"><a href="#此选项打开在从线程上重做过的更新的日志" class="headerlink" title="此选项打开在从线程上重做过的更新的日志,"></a>此选项打开在从线程上重做过的更新的日志,</h1><h1 id="并将其写入从服务器的二进制日志"><a href="#并将其写入从服务器的二进制日志" class="headerlink" title="并将其写入从服务器的二进制日志."></a>并将其写入从服务器的二进制日志.</h1><p>#log_slave_updates</p>
<h1 id="打开全查询日志-所有的由服务器接收到的查询-甚至对于一个错误语法的查询"><a href="#打开全查询日志-所有的由服务器接收到的查询-甚至对于一个错误语法的查询" class="headerlink" title="打开全查询日志. 所有的由服务器接收到的查询 (甚至对于一个错误语法的查询)"></a>打开全查询日志. 所有的由服务器接收到的查询 (甚至对于一个错误语法的查询)</h1><h1 id="都会被记录下来-这对于调试非常有用-在生产环境中常常关闭此项"><a href="#都会被记录下来-这对于调试非常有用-在生产环境中常常关闭此项" class="headerlink" title="都会被记录下来. 这对于调试非常有用, 在生产环境中常常关闭此项."></a>都会被记录下来. 这对于调试非常有用, 在生产环境中常常关闭此项.</h1><p>#log</p>
<h1 id="将警告打印输出到错误-log-文件-如果你对于-MySQL-有任何问题"><a href="#将警告打印输出到错误-log-文件-如果你对于-MySQL-有任何问题" class="headerlink" title="将警告打印输出到错误 log 文件. 如果你对于 MySQL 有任何问题"></a>将警告打印输出到错误 log 文件. 如果你对于 MySQL 有任何问题</h1><h1 id="你应该打开警告-log-并且仔细审查错误日志-查出可能的原因"><a href="#你应该打开警告-log-并且仔细审查错误日志-查出可能的原因" class="headerlink" title="你应该打开警告 log 并且仔细审查错误日志,查出可能的原因."></a>你应该打开警告 log 并且仔细审查错误日志,查出可能的原因.</h1><p>#log_warnings</p>
<h1 id="记录慢速查询-慢速查询是指消耗了比-“long-query-time”-定义的更多时间的查询"><a href="#记录慢速查询-慢速查询是指消耗了比-“long-query-time”-定义的更多时间的查询" class="headerlink" title="记录慢速查询. 慢速查询是指消耗了比 “long_query_time” 定义的更多时间的查询."></a>记录慢速查询. 慢速查询是指消耗了比 “long_query_time” 定义的更多时间的查询.</h1><h1 id="如果-log-long-format-被打开-那些没有使用索引的查询也会被记录"><a href="#如果-log-long-format-被打开-那些没有使用索引的查询也会被记录" class="headerlink" title="如果 log_long_format 被打开,那些没有使用索引的查询也会被记录."></a>如果 log_long_format 被打开,那些没有使用索引的查询也会被记录.</h1><h1 id="如果你经常增加新查询到已有的系统内的话-一般来说这是一个好主意"><a href="#如果你经常增加新查询到已有的系统内的话-一般来说这是一个好主意" class="headerlink" title="如果你经常增加新查询到已有的系统内的话. 一般来说这是一个好主意,"></a>如果你经常增加新查询到已有的系统内的话. 一般来说这是一个好主意,</h1><p>log_slow_queries</p>
<h1 id="所有的使用了比这个时间-以秒为单位-更多的查询会被认为是慢速查询"><a href="#所有的使用了比这个时间-以秒为单位-更多的查询会被认为是慢速查询" class="headerlink" title="所有的使用了比这个时间(以秒为单位)更多的查询会被认为是慢速查询."></a>所有的使用了比这个时间(以秒为单位)更多的查询会被认为是慢速查询.</h1><h1 id="不要在这里使用”1”-否则会导致所有的查询-甚至非常快的查询页被记录下来-由于-MySQL-目前时间的精确度只能达到秒的级别"><a href="#不要在这里使用”1”-否则会导致所有的查询-甚至非常快的查询页被记录下来-由于-MySQL-目前时间的精确度只能达到秒的级别" class="headerlink" title="不要在这里使用”1”, 否则会导致所有的查询,甚至非常快的查询页被记录下来(由于 MySQL 目前时间的精确度只能达到秒的级别)."></a>不要在这里使用”1”, 否则会导致所有的查询,甚至非常快的查询页被记录下来(由于 MySQL 目前时间的精确度只能达到秒的级别).</h1><p>long_query_time = 2</p>
<h1 id="在慢速日志中记录更多的信息"><a href="#在慢速日志中记录更多的信息" class="headerlink" title="在慢速日志中记录更多的信息."></a>在慢速日志中记录更多的信息.</h1><h1 id="一般此项最好打开"><a href="#一般此项最好打开" class="headerlink" title="一般此项最好打开."></a>一般此项最好打开.</h1><h1 id="打开此项会记录使得那些没有使用索引的查询也被作为到慢速查询附加到慢速日志里"><a href="#打开此项会记录使得那些没有使用索引的查询也被作为到慢速查询附加到慢速日志里" class="headerlink" title="打开此项会记录使得那些没有使用索引的查询也被作为到慢速查询附加到慢速日志里"></a>打开此项会记录使得那些没有使用索引的查询也被作为到慢速查询附加到慢速日志里</h1><p>log_long_format</p>
<h1 id="此目录被-MySQL-用来保存临时文件-例如"><a href="#此目录被-MySQL-用来保存临时文件-例如" class="headerlink" title="此目录被 MySQL 用来保存临时文件.例如,"></a>此目录被 MySQL 用来保存临时文件.例如,</h1><h1 id="它被用来处理基于磁盘的大型排序-和内部排序一样"><a href="#它被用来处理基于磁盘的大型排序-和内部排序一样" class="headerlink" title="它被用来处理基于磁盘的大型排序,和内部排序一样."></a>它被用来处理基于磁盘的大型排序,和内部排序一样.</h1><h1 id="以及简单的临时表"><a href="#以及简单的临时表" class="headerlink" title="以及简单的临时表."></a>以及简单的临时表.</h1><h1 id="如果你不创建非常大的临时文件-将其放置到-swapfs-tmpfs-文件系统上也许比较好"><a href="#如果你不创建非常大的临时文件-将其放置到-swapfs-tmpfs-文件系统上也许比较好" class="headerlink" title="如果你不创建非常大的临时文件,将其放置到 swapfs/tmpfs 文件系统上也许比较好"></a>如果你不创建非常大的临时文件,将其放置到 swapfs/tmpfs 文件系统上也许比较好</h1><h1 id="另一种选择是你也可以将其放置在独立的磁盘上"><a href="#另一种选择是你也可以将其放置在独立的磁盘上" class="headerlink" title="另一种选择是你也可以将其放置在独立的磁盘上."></a>另一种选择是你也可以将其放置在独立的磁盘上.</h1><h1 id="你可以使用”-”来放置多个路径"><a href="#你可以使用”-”来放置多个路径" class="headerlink" title="你可以使用”;”来放置多个路径"></a>你可以使用”;”来放置多个路径</h1><h1 id="他们会按照-roud-robin-方法被轮询使用"><a href="#他们会按照-roud-robin-方法被轮询使用" class="headerlink" title="他们会按照 roud-robin 方法被轮询使用."></a>他们会按照 roud-robin 方法被轮询使用.</h1><p>#tmpdir = /tmp</p>
<h1 id="复制有关的设置"><a href="#复制有关的设置" class="headerlink" title="*** 复制有关的设置"></a>*** 复制有关的设置</h1><h1 id="唯一的服务辨识号-数值位于-1-到-2-32-1-之间"><a href="#唯一的服务辨识号-数值位于-1-到-2-32-1-之间" class="headerlink" title="唯一的服务辨识号,数值位于 1 到 2^32-1 之间."></a>唯一的服务辨识号,数值位于 1 到 2^32-1 之间.</h1><h1 id="此值在-master-和-slave-上都需要设置"><a href="#此值在-master-和-slave-上都需要设置" class="headerlink" title="此值在 master 和 slave 上都需要设置."></a>此值在 master 和 slave 上都需要设置.</h1><h1 id="如果-“master-host”-没有被设置-则默认为-1-但是如果忽略此选项-MySQL-不会作为-master-生效"><a href="#如果-“master-host”-没有被设置-则默认为-1-但是如果忽略此选项-MySQL-不会作为-master-生效" class="headerlink" title="如果 “master-host” 没有被设置,则默认为 1, 但是如果忽略此选项,MySQL 不会作为 master 生效."></a>如果 “master-host” 没有被设置,则默认为 1, 但是如果忽略此选项,MySQL 不会作为 master 生效.</h1><p>server-id = 1</p>
<h1 id="复制的-Slave-去掉-master-段的注释来使其生效"><a href="#复制的-Slave-去掉-master-段的注释来使其生效" class="headerlink" title="复制的 Slave (去掉 master 段的注释来使其生效)"></a>复制的 Slave (去掉 master 段的注释来使其生效)</h1><h1 id="-10"><a href="#-10" class="headerlink" title=""></a></h1><h1 id="为了配置此主机作为复制的-slave-服务器-你可以选择两种方法"><a href="#为了配置此主机作为复制的-slave-服务器-你可以选择两种方法" class="headerlink" title="为了配置此主机作为复制的 slave 服务器,你可以选择两种方法:"></a>为了配置此主机作为复制的 slave 服务器,你可以选择两种方法:</h1><h1 id="-11"><a href="#-11" class="headerlink" title=""></a></h1><h1 id="1-使用-CHANGE-MASTER-TO-命令-在我们的手册中有完整描述"><a href="#1-使用-CHANGE-MASTER-TO-命令-在我们的手册中有完整描述" class="headerlink" title="1) 使用 CHANGE MASTER TO 命令 (在我们的手册中有完整描述) -"></a>1) 使用 CHANGE MASTER TO 命令 (在我们的手册中有完整描述) -</h1><h1 id="语法如下"><a href="#语法如下" class="headerlink" title="语法如下:"></a>语法如下:</h1><h1 id="-12"><a href="#-12" class="headerlink" title=""></a></h1><h1 id="CHANGE-MASTER-TO-MASTER-HOST-MASTER-PORT"><a href="#CHANGE-MASTER-TO-MASTER-HOST-MASTER-PORT" class="headerlink" title="CHANGE MASTER TO MASTER_HOST=, MASTER_PORT=,"></a>CHANGE MASTER TO MASTER_HOST=, MASTER_PORT=,</h1><h1 id="MASTER-USER-MASTER-PASSWORD"><a href="#MASTER-USER-MASTER-PASSWORD" class="headerlink" title="MASTER_USER=, MASTER_PASSWORD= ;"></a>MASTER_USER=, MASTER_PASSWORD= ;</h1><h1 id="-13"><a href="#-13" class="headerlink" title=""></a></h1><h1 id="你需要替换掉-等被尖括号包围的字段以及使用-master-的端口号替换-默认-3306"><a href="#你需要替换掉-等被尖括号包围的字段以及使用-master-的端口号替换-默认-3306" class="headerlink" title="你需要替换掉 , , 等被尖括号包围的字段以及使用 master 的端口号替换 (默认 3306)."></a>你需要替换掉 , , 等被尖括号包围的字段以及使用 master 的端口号替换 (默认 3306).</h1><h1 id="-14"><a href="#-14" class="headerlink" title=""></a></h1><h1 id="例子"><a href="#例子" class="headerlink" title="例子:"></a>例子:</h1><h1 id="-15"><a href="#-15" class="headerlink" title=""></a></h1><h1 id="CHANGE-MASTER-TO-MASTER-HOST-’125-564-12-1’-MASTER-PORT-3306"><a href="#CHANGE-MASTER-TO-MASTER-HOST-’125-564-12-1’-MASTER-PORT-3306" class="headerlink" title="CHANGE MASTER TO MASTER_HOST=’125.564.12.1’, MASTER_PORT=3306,"></a>CHANGE MASTER TO MASTER_HOST=’125.564.12.1’, MASTER_PORT=3306,</h1><h1 id="MASTER-USER-’joe’-MASTER-PASSWORD-’secret’"><a href="#MASTER-USER-’joe’-MASTER-PASSWORD-’secret’" class="headerlink" title="MASTER_USER=’joe’, MASTER_PASSWORD=’secret’;"></a>MASTER_USER=’joe’, MASTER_PASSWORD=’secret’;</h1><h1 id="-16"><a href="#-16" class="headerlink" title=""></a></h1><h1 id="或者"><a href="#或者" class="headerlink" title="或者"></a>或者</h1><h1 id="-17"><a href="#-17" class="headerlink" title=""></a></h1><h1 id="2-设置以下的变量-不论如何-在你选择这种方法的情况下-然后第一次启动复制-甚至不成功的情况下"><a href="#2-设置以下的变量-不论如何-在你选择这种方法的情况下-然后第一次启动复制-甚至不成功的情况下" class="headerlink" title="2) 设置以下的变量. 不论如何, 在你选择这种方法的情况下, 然后第一次启动复制(甚至不成功的情况下,"></a>2) 设置以下的变量. 不论如何, 在你选择这种方法的情况下, 然后第一次启动复制(甚至不成功的情况下,</h1><h1 id="例如如果你输入错密码在-master-password-字段并且-slave-无法连接"><a href="#例如如果你输入错密码在-master-password-字段并且-slave-无法连接" class="headerlink" title="例如如果你输入错密码在 master-password 字段并且 slave 无法连接),"></a>例如如果你输入错密码在 master-password 字段并且 slave 无法连接),</h1><h1 id="slave-会创建一个-master-info-文件-并且之后任何对于包含在此文件内的参数的变化都会被忽略"><a href="#slave-会创建一个-master-info-文件-并且之后任何对于包含在此文件内的参数的变化都会被忽略" class="headerlink" title="slave 会创建一个 master.info 文件,并且之后任何对于包含在此文件内的参数的变化都会被忽略"></a>slave 会创建一个 master.info 文件,并且之后任何对于包含在此文件内的参数的变化都会被忽略</h1><h1 id="并且由-master-info-文件内的内容覆盖-除非你关闭-slave-服务-删除-master-info-并且重启-slave-服务"><a href="#并且由-master-info-文件内的内容覆盖-除非你关闭-slave-服务-删除-master-info-并且重启-slave-服务" class="headerlink" title="并且由 master.info 文件内的内容覆盖, 除非你关闭 slave 服务, 删除 master.info 并且重启 slave 服务."></a>并且由 master.info 文件内的内容覆盖, 除非你关闭 slave 服务, 删除 master.info 并且重启 slave 服务.</h1><h1 id="由于这个原因-你也许不想碰一下的配置-注释掉的-并且使用-CHANGE-MASTER-TO-查看上面-来代替"><a href="#由于这个原因-你也许不想碰一下的配置-注释掉的-并且使用-CHANGE-MASTER-TO-查看上面-来代替" class="headerlink" title="由于这个原因,你也许不想碰一下的配置(注释掉的) 并且使用 CHANGE MASTER TO (查看上面) 来代替"></a>由于这个原因,你也许不想碰一下的配置(注释掉的) 并且使用 CHANGE MASTER TO (查看上面) 来代替</h1><h1 id="-18"><a href="#-18" class="headerlink" title=""></a></h1><h1 id="所需要的唯一-id-号位于-2-和-2-32-1-之间"><a href="#所需要的唯一-id-号位于-2-和-2-32-1-之间" class="headerlink" title="所需要的唯一 id 号位于 2 和 2^32 - 1 之间"></a>所需要的唯一 id 号位于 2 和 2^32 - 1 之间</h1><h1 id="并且和-master-不同"><a href="#并且和-master-不同" class="headerlink" title="(并且和 master 不同)"></a>(并且和 master 不同)</h1><h1 id="如果-master-host-被设置了-则默认值是-2"><a href="#如果-master-host-被设置了-则默认值是-2" class="headerlink" title="如果 master-host 被设置了.则默认值是 2"></a>如果 master-host 被设置了.则默认值是 2</h1><h1 id="但是如果省略-则不会生效"><a href="#但是如果省略-则不会生效" class="headerlink" title="但是如果省略,则不会生效"></a>但是如果省略,则不会生效</h1><p>#server-id = 2</p>
<h1 id="-19"><a href="#-19" class="headerlink" title=""></a></h1><h1 id="复制结构中的-master-必须"><a href="#复制结构中的-master-必须" class="headerlink" title="复制结构中的 master - 必须"></a>复制结构中的 master - 必须</h1><p>#master-host =</p>
<h1 id="-20"><a href="#-20" class="headerlink" title=""></a></h1><h1 id="当连接到-master-上时-slave-所用来认证的用户名-必须"><a href="#当连接到-master-上时-slave-所用来认证的用户名-必须" class="headerlink" title="当连接到 master 上时 slave 所用来认证的用户名 - 必须"></a>当连接到 master 上时 slave 所用来认证的用户名 - 必须</h1><p>#master-user =</p>
<h1 id="-21"><a href="#-21" class="headerlink" title=""></a></h1><h1 id="当连接到-master-上时-slave-所用来认证的密码-必须"><a href="#当连接到-master-上时-slave-所用来认证的密码-必须" class="headerlink" title="当连接到 master 上时 slave 所用来认证的密码 - 必须"></a>当连接到 master 上时 slave 所用来认证的密码 - 必须</h1><p>#master-password =</p>
<h1 id="-22"><a href="#-22" class="headerlink" title=""></a></h1><h1 id="master-监听的端口"><a href="#master-监听的端口" class="headerlink" title="master 监听的端口."></a>master 监听的端口.</h1><h1 id="可选-默认是-3306"><a href="#可选-默认是-3306" class="headerlink" title="可选 - 默认是 3306"></a>可选 - 默认是 3306</h1><p>#master-port =</p>
<h1 id="使得-slave-只读-只有用户拥有-SUPER-权限和在上面的-slave-线程能够修改数据"><a href="#使得-slave-只读-只有用户拥有-SUPER-权限和在上面的-slave-线程能够修改数据" class="headerlink" title="使得 slave 只读.只有用户拥有 SUPER 权限和在上面的 slave 线程能够修改数据."></a>使得 slave 只读.只有用户拥有 SUPER 权限和在上面的 slave 线程能够修改数据.</h1><h1 id="你可以使用此项去保证没有应用程序会意外的修改-slave-而不是-master-上的数据"><a href="#你可以使用此项去保证没有应用程序会意外的修改-slave-而不是-master-上的数据" class="headerlink" title="你可以使用此项去保证没有应用程序会意外的修改 slave 而不是 master 上的数据"></a>你可以使用此项去保证没有应用程序会意外的修改 slave 而不是 master 上的数据</h1><p>#read_only</p>
<p>#*** MyISAM 相关选项</p>
<h1 id="关键词缓冲的大小-一般用来缓冲-MyISAM-表的索引块"><a href="#关键词缓冲的大小-一般用来缓冲-MyISAM-表的索引块" class="headerlink" title="关键词缓冲的大小, 一般用来缓冲 MyISAM 表的索引块."></a>关键词缓冲的大小, 一般用来缓冲 MyISAM 表的索引块.</h1><h1 id="不要将其设置大于你可用内存的-30"><a href="#不要将其设置大于你可用内存的-30" class="headerlink" title="不要将其设置大于你可用内存的 30%,"></a>不要将其设置大于你可用内存的 30%,</h1><h1 id="因为一部分内存同样被-OS-用来缓冲行数据"><a href="#因为一部分内存同样被-OS-用来缓冲行数据" class="headerlink" title="因为一部分内存同样被 OS 用来缓冲行数据"></a>因为一部分内存同样被 OS 用来缓冲行数据</h1><h1 id="甚至在你并不使用-MyISAM-表的情况下-你也需要仍旧设置起-8-64M-内存由于它同样会被内部临时磁盘表使用"><a href="#甚至在你并不使用-MyISAM-表的情况下-你也需要仍旧设置起-8-64M-内存由于它同样会被内部临时磁盘表使用" class="headerlink" title="甚至在你并不使用 MyISAM 表的情况下, 你也需要仍旧设置起 8-64M 内存由于它同样会被内部临时磁盘表使用."></a>甚至在你并不使用 MyISAM 表的情况下, 你也需要仍旧设置起 8-64M 内存由于它同样会被内部临时磁盘表使用.</h1><p>key_buffer_size = 32M</p>
<h1 id="用来做-MyISAM-表全表扫描的缓冲大小"><a href="#用来做-MyISAM-表全表扫描的缓冲大小" class="headerlink" title="用来做 MyISAM 表全表扫描的缓冲大小."></a>用来做 MyISAM 表全表扫描的缓冲大小.</h1><h1 id="当全表扫描需要时-在对应线程中分配"><a href="#当全表扫描需要时-在对应线程中分配" class="headerlink" title="当全表扫描需要时,在对应线程中分配."></a>当全表扫描需要时,在对应线程中分配.</h1><p>read_buffer_size = 2M</p>
<h1 id="当在排序之后-从一个已经排序好的序列中读取行时-行数据将从这个缓冲中读取来防止磁盘寻道"><a href="#当在排序之后-从一个已经排序好的序列中读取行时-行数据将从这个缓冲中读取来防止磁盘寻道" class="headerlink" title="当在排序之后,从一个已经排序好的序列中读取行时,行数据将从这个缓冲中读取来防止磁盘寻道."></a>当在排序之后,从一个已经排序好的序列中读取行时,行数据将从这个缓冲中读取来防止磁盘寻道.</h1><h1 id="如果你增高此值-可以提高很多-ORDER-BY-的性能"><a href="#如果你增高此值-可以提高很多-ORDER-BY-的性能" class="headerlink" title="如果你增高此值,可以提高很多 ORDER BY 的性能."></a>如果你增高此值,可以提高很多 ORDER BY 的性能.</h1><h1 id="当需要时由每个线程分配"><a href="#当需要时由每个线程分配" class="headerlink" title="当需要时由每个线程分配"></a>当需要时由每个线程分配</h1><p>read_rnd_buffer_size = 16M</p>
<h1 id="MyISAM-使用特殊的类似树的-cache-来使得突发插入"><a href="#MyISAM-使用特殊的类似树的-cache-来使得突发插入" class="headerlink" title="MyISAM 使用特殊的类似树的 cache 来使得突发插入"></a>MyISAM 使用特殊的类似树的 cache 来使得突发插入</h1><h1 id="这些插入是-INSERT-…-SELECT-INSERT-…-VALUES-…-…-…-以及-LOAD-DATA"><a href="#这些插入是-INSERT-…-SELECT-INSERT-…-VALUES-…-…-…-以及-LOAD-DATA" class="headerlink" title="(这些插入是,INSERT … SELECT, INSERT … VALUES (…), (…), …, 以及 LOAD DATA"></a>(这些插入是,INSERT … SELECT, INSERT … VALUES (…), (…), …, 以及 LOAD DATA</h1><h1 id="INFILE-更快-此变量限制每个进程中缓冲树的字节数"><a href="#INFILE-更快-此变量限制每个进程中缓冲树的字节数" class="headerlink" title="INFILE) 更快. 此变量限制每个进程中缓冲树的字节数."></a>INFILE) 更快. 此变量限制每个进程中缓冲树的字节数.</h1><h1 id="设置为-0-会关闭此优化"><a href="#设置为-0-会关闭此优化" class="headerlink" title="设置为 0 会关闭此优化."></a>设置为 0 会关闭此优化.</h1><h1 id="为了最优化不要将此值设置大于-“key-buffer-size”"><a href="#为了最优化不要将此值设置大于-“key-buffer-size”" class="headerlink" title="为了最优化不要将此值设置大于 “key_buffer_size”."></a>为了最优化不要将此值设置大于 “key_buffer_size”.</h1><h1 id="当突发插入被检测到时此缓冲将被分配"><a href="#当突发插入被检测到时此缓冲将被分配" class="headerlink" title="当突发插入被检测到时此缓冲将被分配."></a>当突发插入被检测到时此缓冲将被分配.</h1><p>bulk_insert_buffer_size = 64M</p>
<h1 id="此缓冲当-MySQL-需要在-REPAIR-OPTIMIZE-ALTER-以及-LOAD-DATA-INFILE-到一个空表中引起重建索引时被分配"><a href="#此缓冲当-MySQL-需要在-REPAIR-OPTIMIZE-ALTER-以及-LOAD-DATA-INFILE-到一个空表中引起重建索引时被分配" class="headerlink" title="此缓冲当 MySQL 需要在 REPAIR, OPTIMIZE, ALTER 以及 LOAD DATA INFILE 到一个空表中引起重建索引时被分配."></a>此缓冲当 MySQL 需要在 REPAIR, OPTIMIZE, ALTER 以及 LOAD DATA INFILE 到一个空表中引起重建索引时被分配.</h1><h1 id="这在每个线程中被分配-所以在设置大值时需要小心"><a href="#这在每个线程中被分配-所以在设置大值时需要小心" class="headerlink" title="这在每个线程中被分配.所以在设置大值时需要小心."></a>这在每个线程中被分配.所以在设置大值时需要小心.</h1><p>myisam_sort_buffer_size = 128M</p>
<h1 id="MySQL-重建索引时所允许的最大临时文件的大小-当-REPAIR-ALTER-TABLE-或者-LOAD-DATA-INFILE"><a href="#MySQL-重建索引时所允许的最大临时文件的大小-当-REPAIR-ALTER-TABLE-或者-LOAD-DATA-INFILE" class="headerlink" title="MySQL 重建索引时所允许的最大临时文件的大小 (当 REPAIR, ALTER TABLE 或者 LOAD DATA INFILE)."></a>MySQL 重建索引时所允许的最大临时文件的大小 (当 REPAIR, ALTER TABLE 或者 LOAD DATA INFILE).</h1><h1 id="如果文件大小比此值更大-索引会通过键值缓冲创建-更慢"><a href="#如果文件大小比此值更大-索引会通过键值缓冲创建-更慢" class="headerlink" title="如果文件大小比此值更大,索引会通过键值缓冲创建(更慢)"></a>如果文件大小比此值更大,索引会通过键值缓冲创建(更慢)</h1><p>myisam_max_sort_file_size = 10G</p>
<h1 id="如果被用来更快的索引创建索引所使用临时文件大于制定的值-那就使用键值缓冲方法"><a href="#如果被用来更快的索引创建索引所使用临时文件大于制定的值-那就使用键值缓冲方法" class="headerlink" title="如果被用来更快的索引创建索引所使用临时文件大于制定的值,那就使用键值缓冲方法."></a>如果被用来更快的索引创建索引所使用临时文件大于制定的值,那就使用键值缓冲方法.</h1><h1 id="这主要用来强制在大表中长字串键去使用慢速的键值缓冲方法来创建索引"><a href="#这主要用来强制在大表中长字串键去使用慢速的键值缓冲方法来创建索引" class="headerlink" title="这主要用来强制在大表中长字串键去使用慢速的键值缓冲方法来创建索引."></a>这主要用来强制在大表中长字串键去使用慢速的键值缓冲方法来创建索引.</h1><p>myisam_max_extra_sort_file_size = 10G</p>
<h1 id="如果一个表拥有超过一个索引-MyISAM-可以通过并行排序使用超过一个线程去修复他们"><a href="#如果一个表拥有超过一个索引-MyISAM-可以通过并行排序使用超过一个线程去修复他们" class="headerlink" title="如果一个表拥有超过一个索引, MyISAM 可以通过并行排序使用超过一个线程去修复他们."></a>如果一个表拥有超过一个索引, MyISAM 可以通过并行排序使用超过一个线程去修复他们.</h1><h1 id="这对于拥有多个-CPU-以及大量内存情况的用户-是一个很好的选择"><a href="#这对于拥有多个-CPU-以及大量内存情况的用户-是一个很好的选择" class="headerlink" title="这对于拥有多个 CPU 以及大量内存情况的用户,是一个很好的选择."></a>这对于拥有多个 CPU 以及大量内存情况的用户,是一个很好的选择.</h1><p>myisam_repair_threads = 1</p>
<h1 id="自动检查和修复没有适当关闭的-MyISAM-表"><a href="#自动检查和修复没有适当关闭的-MyISAM-表" class="headerlink" title="自动检查和修复没有适当关闭的 MyISAM 表."></a>自动检查和修复没有适当关闭的 MyISAM 表.</h1><p>myisam_recover</p>
<h1 id="默认关闭-Federated"><a href="#默认关闭-Federated" class="headerlink" title="默认关闭 Federated"></a>默认关闭 Federated</h1><p>skip-federated</p>
<h1 id="BDB-相关选项"><a href="#BDB-相关选项" class="headerlink" title="_ BDB 相关选项 _"></a><strong>_ BDB 相关选项 _</strong></h1><h1 id="如果你运行的-MySQL-服务有-BDB-支持但是你不准备使用的时候使用此选项-这会节省内存并且可能加速一些事"><a href="#如果你运行的-MySQL-服务有-BDB-支持但是你不准备使用的时候使用此选项-这会节省内存并且可能加速一些事" class="headerlink" title="如果你运行的 MySQL 服务有 BDB 支持但是你不准备使用的时候使用此选项. 这会节省内存并且可能加速一些事."></a>如果你运行的 MySQL 服务有 BDB 支持但是你不准备使用的时候使用此选项. 这会节省内存并且可能加速一些事.</h1><p>skip-bdb</p>
<h1 id="INNODB-相关选项"><a href="#INNODB-相关选项" class="headerlink" title="_ INNODB 相关选项 _"></a><strong>_ INNODB 相关选项 _</strong></h1><h1 id="如果你的-MySQL-服务包含-InnoDB-支持但是并不打算使用的话"><a href="#如果你的-MySQL-服务包含-InnoDB-支持但是并不打算使用的话" class="headerlink" title="如果你的 MySQL 服务包含 InnoDB 支持但是并不打算使用的话,"></a>如果你的 MySQL 服务包含 InnoDB 支持但是并不打算使用的话,</h1><h1 id="使用此选项会节省内存以及磁盘空间-并且加速某些部分"><a href="#使用此选项会节省内存以及磁盘空间-并且加速某些部分" class="headerlink" title="使用此选项会节省内存以及磁盘空间,并且加速某些部分"></a>使用此选项会节省内存以及磁盘空间,并且加速某些部分</h1><p>#skip-innodb</p>
<h1 id="附加的内存池被-InnoDB-用来保存-metadata-信息"><a href="#附加的内存池被-InnoDB-用来保存-metadata-信息" class="headerlink" title="附加的内存池被 InnoDB 用来保存 metadata 信息"></a>附加的内存池被 InnoDB 用来保存 metadata 信息</h1><h1 id="如果-InnoDB-为此目的需要更多的内存-它会开始从-OS-这里申请内存"><a href="#如果-InnoDB-为此目的需要更多的内存-它会开始从-OS-这里申请内存" class="headerlink" title="如果 InnoDB 为此目的需要更多的内存,它会开始从 OS 这里申请内存."></a>如果 InnoDB 为此目的需要更多的内存,它会开始从 OS 这里申请内存.</h1><h1 id="由于这个操作在大多数现代操作系统上已经足够快-你一般不需要修改此值"><a href="#由于这个操作在大多数现代操作系统上已经足够快-你一般不需要修改此值" class="headerlink" title="由于这个操作在大多数现代操作系统上已经足够快, 你一般不需要修改此值."></a>由于这个操作在大多数现代操作系统上已经足够快, 你一般不需要修改此值.</h1><h1 id="SHOW-INNODB-STATUS-命令会显示当先使用的数量"><a href="#SHOW-INNODB-STATUS-命令会显示当先使用的数量" class="headerlink" title="SHOW INNODB STATUS 命令会显示当先使用的数量."></a>SHOW INNODB STATUS 命令会显示当先使用的数量.</h1><p>innodb_additional_mem_pool_size = 16M</p>
<h1 id="InnoDB-使用一个缓冲池来保存索引和原始数据-不像-MyISAM"><a href="#InnoDB-使用一个缓冲池来保存索引和原始数据-不像-MyISAM" class="headerlink" title="InnoDB 使用一个缓冲池来保存索引和原始数据, 不像 MyISAM."></a>InnoDB 使用一个缓冲池来保存索引和原始数据, 不像 MyISAM.</h1><h1 id="这里你设置越大-你在存取表里面数据时所需要的磁盘-I-O-越少"><a href="#这里你设置越大-你在存取表里面数据时所需要的磁盘-I-O-越少" class="headerlink" title="这里你设置越大,你在存取表里面数据时所需要的磁盘 I/O 越少."></a>这里你设置越大,你在存取表里面数据时所需要的磁盘 I/O 越少.</h1><h1 id="在一个独立使用的数据库服务器上-你可以设置这个变量到服务器物理内存大小的-80"><a href="#在一个独立使用的数据库服务器上-你可以设置这个变量到服务器物理内存大小的-80" class="headerlink" title="在一个独立使用的数据库服务器上,你可以设置这个变量到服务器物理内存大小的 80%"></a>在一个独立使用的数据库服务器上,你可以设置这个变量到服务器物理内存大小的 80%</h1><h1 id="不要设置过大-否则-由于物理内存的竞争可能导致操作系统的换页颠簸"><a href="#不要设置过大-否则-由于物理内存的竞争可能导致操作系统的换页颠簸" class="headerlink" title="不要设置过大,否则,由于物理内存的竞争可能导致操作系统的换页颠簸."></a>不要设置过大,否则,由于物理内存的竞争可能导致操作系统的换页颠簸.</h1><h1 id="注意在-32-位系统上你每个进程可能被限制在-2-3-5G-用户层面内存限制"><a href="#注意在-32-位系统上你每个进程可能被限制在-2-3-5G-用户层面内存限制" class="headerlink" title="注意在 32 位系统上你每个进程可能被限制在 2-3.5G 用户层面内存限制,"></a>注意在 32 位系统上你每个进程可能被限制在 2-3.5G 用户层面内存限制,</h1><h1 id="所以不要设置的太高"><a href="#所以不要设置的太高" class="headerlink" title="所以不要设置的太高."></a>所以不要设置的太高.</h1><p>innodb_buffer_pool_size = 2G</p>
<h1 id="InnoDB-将数据保存在一个或者多个数据文件中成为表空间"><a href="#InnoDB-将数据保存在一个或者多个数据文件中成为表空间" class="headerlink" title="InnoDB 将数据保存在一个或者多个数据文件中成为表空间."></a>InnoDB 将数据保存在一个或者多个数据文件中成为表空间.</h1><h1 id="如果你只有单个逻辑驱动保存你的数据-一个单个的自增文件就足够好了"><a href="#如果你只有单个逻辑驱动保存你的数据-一个单个的自增文件就足够好了" class="headerlink" title="如果你只有单个逻辑驱动保存你的数据,一个单个的自增文件就足够好了."></a>如果你只有单个逻辑驱动保存你的数据,一个单个的自增文件就足够好了.</h1><h1 id="其他情况下-每个设备一个文件一般都是个好的选择"><a href="#其他情况下-每个设备一个文件一般都是个好的选择" class="headerlink" title="其他情况下.每个设备一个文件一般都是个好的选择."></a>其他情况下.每个设备一个文件一般都是个好的选择.</h1><h1 id="你也可以配置-InnoDB-来使用裸盘分区-请参考手册来获取更多相关内容"><a href="#你也可以配置-InnoDB-来使用裸盘分区-请参考手册来获取更多相关内容" class="headerlink" title="你也可以配置 InnoDB 来使用裸盘分区 - 请参考手册来获取更多相关内容"></a>你也可以配置 InnoDB 来使用裸盘分区 - 请参考手册来获取更多相关内容</h1><p>innodb_data_file_path = ibdata1:10M:autoextend</p>
<h1 id="设置此选项如果你希望-InnoDB-表空间文件被保存在其他分区"><a href="#设置此选项如果你希望-InnoDB-表空间文件被保存在其他分区" class="headerlink" title="设置此选项如果你希望 InnoDB 表空间文件被保存在其他分区."></a>设置此选项如果你希望 InnoDB 表空间文件被保存在其他分区.</h1><h1 id="默认保存在-MySQL-的-datadir-中"><a href="#默认保存在-MySQL-的-datadir-中" class="headerlink" title="默认保存在 MySQL 的 datadir 中."></a>默认保存在 MySQL 的 datadir 中.</h1><p>#innodb_data_home_dir =</p>
<h1 id="用来同步-IO-操作的-IO-线程的数量-This-value-is"><a href="#用来同步-IO-操作的-IO-线程的数量-This-value-is" class="headerlink" title="用来同步 IO 操作的 IO 线程的数量. This value is"></a>用来同步 IO 操作的 IO 线程的数量. This value is</h1><h1 id="此值在-Unix-下被硬编码为-4-但是在-Windows-磁盘-I-O-可能在一个大数值下表现的更好"><a href="#此值在-Unix-下被硬编码为-4-但是在-Windows-磁盘-I-O-可能在一个大数值下表现的更好" class="headerlink" title="此值在 Unix 下被硬编码为 4,但是在 Windows 磁盘 I/O 可能在一个大数值下表现的更好."></a>此值在 Unix 下被硬编码为 4,但是在 Windows 磁盘 I/O 可能在一个大数值下表现的更好.</h1><p>innodb_file_io_threads = 4</p>
<h1 id="如果你发现-InnoDB-表空间损坏-设置此值为一个非零值可能帮助你导出你的表"><a href="#如果你发现-InnoDB-表空间损坏-设置此值为一个非零值可能帮助你导出你的表" class="headerlink" title="如果你发现 InnoDB 表空间损坏, 设置此值为一个非零值可能帮助你导出你的表."></a>如果你发现 InnoDB 表空间损坏, 设置此值为一个非零值可能帮助你导出你的表.</h1><h1 id="从-1-开始并且增加此值知道你能够成功的导出表"><a href="#从-1-开始并且增加此值知道你能够成功的导出表" class="headerlink" title="从 1 开始并且增加此值知道你能够成功的导出表."></a>从 1 开始并且增加此值知道你能够成功的导出表.</h1><p>#innodb_force_recovery=1</p>
<h1 id="在-InnoDb-核心内的允许线程数量"><a href="#在-InnoDb-核心内的允许线程数量" class="headerlink" title="在 InnoDb 核心内的允许线程数量."></a>在 InnoDb 核心内的允许线程数量.</h1><h1 id="最优值依赖于应用程序-硬件以及操作系统的调度方式"><a href="#最优值依赖于应用程序-硬件以及操作系统的调度方式" class="headerlink" title="最优值依赖于应用程序,硬件以及操作系统的调度方式."></a>最优值依赖于应用程序,硬件以及操作系统的调度方式.</h1><h1 id="过高的值可能导致线程的互斥颠簸"><a href="#过高的值可能导致线程的互斥颠簸" class="headerlink" title="过高的值可能导致线程的互斥颠簸."></a>过高的值可能导致线程的互斥颠簸.</h1><p>innodb_thread_concurrency = 16</p>
<h1 id="如果设置为-1-InnoDB-会在每次提交后刷新-fsync-事务日志到磁盘上"><a href="#如果设置为-1-InnoDB-会在每次提交后刷新-fsync-事务日志到磁盘上" class="headerlink" title="如果设置为 1 ,InnoDB 会在每次提交后刷新(fsync)事务日志到磁盘上,"></a>如果设置为 1 ,InnoDB 会在每次提交后刷新(fsync)事务日志到磁盘上,</h1><h1 id="这提供了完整的-ACID-行为"><a href="#这提供了完整的-ACID-行为" class="headerlink" title="这提供了完整的 ACID 行为."></a>这提供了完整的 ACID 行为.</h1><h1 id="如果你愿意对事务安全折衷-并且你正在运行一个小的食物-你可以设置此值到-0-或者-2-来减少由事务日志引起的磁盘-I-O"><a href="#如果你愿意对事务安全折衷-并且你正在运行一个小的食物-你可以设置此值到-0-或者-2-来减少由事务日志引起的磁盘-I-O" class="headerlink" title="如果你愿意对事务安全折衷, 并且你正在运行一个小的食物, 你可以设置此值到 0 或者 2 来减少由事务日志引起的磁盘 I/O"></a>如果你愿意对事务安全折衷, 并且你正在运行一个小的食物, 你可以设置此值到 0 或者 2 来减少由事务日志引起的磁盘 I/O</h1><h1 id="0-代表日志只大约每秒写入日志文件并且日志文件刷新到磁盘"><a href="#0-代表日志只大约每秒写入日志文件并且日志文件刷新到磁盘" class="headerlink" title="0 代表日志只大约每秒写入日志文件并且日志文件刷新到磁盘."></a>0 代表日志只大约每秒写入日志文件并且日志文件刷新到磁盘.</h1><h1 id="2-代表日志写入日志文件在每次提交后-但是日志文件只有大约每秒才会刷新到磁盘上"><a href="#2-代表日志写入日志文件在每次提交后-但是日志文件只有大约每秒才会刷新到磁盘上" class="headerlink" title="2 代表日志写入日志文件在每次提交后,但是日志文件只有大约每秒才会刷新到磁盘上."></a>2 代表日志写入日志文件在每次提交后,但是日志文件只有大约每秒才会刷新到磁盘上.</h1><p>innodb_flush_log_at_trx_commit = 1</p>
<h1 id="加速-InnoDB-的关闭-这会阻止-InnoDB-在关闭时做全清除以及插入缓冲合并"><a href="#加速-InnoDB-的关闭-这会阻止-InnoDB-在关闭时做全清除以及插入缓冲合并" class="headerlink" title="加速 InnoDB 的关闭. 这会阻止 InnoDB 在关闭时做全清除以及插入缓冲合并."></a>加速 InnoDB 的关闭. 这会阻止 InnoDB 在关闭时做全清除以及插入缓冲合并.</h1><h1 id="这可能极大增加关机时间-但是取而代之的是-InnoDB-可能在下次启动时做这些操作"><a href="#这可能极大增加关机时间-但是取而代之的是-InnoDB-可能在下次启动时做这些操作" class="headerlink" title="这可能极大增加关机时间, 但是取而代之的是 InnoDB 可能在下次启动时做这些操作."></a>这可能极大增加关机时间, 但是取而代之的是 InnoDB 可能在下次启动时做这些操作.</h1><p>#innodb_fast_shutdown</p>
<h1 id="用来缓冲日志数据的缓冲区的大小"><a href="#用来缓冲日志数据的缓冲区的大小" class="headerlink" title="用来缓冲日志数据的缓冲区的大小."></a>用来缓冲日志数据的缓冲区的大小.</h1><h1 id="当此值快满时-InnoDB-将必须刷新数据到磁盘上"><a href="#当此值快满时-InnoDB-将必须刷新数据到磁盘上" class="headerlink" title="当此值快满时, InnoDB 将必须刷新数据到磁盘上."></a>当此值快满时, InnoDB 将必须刷新数据到磁盘上.</h1><h1 id="由于基本上每秒都会刷新一次-所以没有必要将此值设置的太大-甚至对于长事务而言"><a href="#由于基本上每秒都会刷新一次-所以没有必要将此值设置的太大-甚至对于长事务而言" class="headerlink" title="由于基本上每秒都会刷新一次,所以没有必要将此值设置的太大(甚至对于长事务而言)"></a>由于基本上每秒都会刷新一次,所以没有必要将此值设置的太大(甚至对于长事务而言)</h1><p>innodb_log_buffer_size = 8M</p>
<h1 id="在日志组中每个日志文件的大小"><a href="#在日志组中每个日志文件的大小" class="headerlink" title="在日志组中每个日志文件的大小."></a>在日志组中每个日志文件的大小.</h1><h1 id="你应该设置日志文件总合大小到你缓冲池大小的-25-100"><a href="#你应该设置日志文件总合大小到你缓冲池大小的-25-100" class="headerlink" title="你应该设置日志文件总合大小到你缓冲池大小的 25%~100%"></a>你应该设置日志文件总合大小到你缓冲池大小的 25%~100%</h1><h1 id="来避免在日志文件覆写上不必要的缓冲池刷新行为"><a href="#来避免在日志文件覆写上不必要的缓冲池刷新行为" class="headerlink" title="来避免在日志文件覆写上不必要的缓冲池刷新行为."></a>来避免在日志文件覆写上不必要的缓冲池刷新行为.</h1><h1 id="不论如何-请注意一个大的日志文件大小会增加恢复进程所需要的时间"><a href="#不论如何-请注意一个大的日志文件大小会增加恢复进程所需要的时间" class="headerlink" title="不论如何, 请注意一个大的日志文件大小会增加恢复进程所需要的时间."></a>不论如何, 请注意一个大的日志文件大小会增加恢复进程所需要的时间.</h1><p>innodb_log_file_size = 256M</p>
<h1 id="在日志组中的文件总数"><a href="#在日志组中的文件总数" class="headerlink" title="在日志组中的文件总数."></a>在日志组中的文件总数.</h1><h1 id="通常来说-2-3-是比较好的"><a href="#通常来说-2-3-是比较好的" class="headerlink" title="通常来说 2~3 是比较好的."></a>通常来说 2~3 是比较好的.</h1><p>innodb_log_files_in_group = 3</p>
<h1 id="InnoDB-的日志文件所在位置-默认是-MySQL-的-datadir"><a href="#InnoDB-的日志文件所在位置-默认是-MySQL-的-datadir" class="headerlink" title="InnoDB 的日志文件所在位置. 默认是 MySQL 的 datadir."></a>InnoDB 的日志文件所在位置. 默认是 MySQL 的 datadir.</h1><h1 id="你可以将其指定到一个独立的硬盘上或者一个-RAID1-卷上来提高其性能"><a href="#你可以将其指定到一个独立的硬盘上或者一个-RAID1-卷上来提高其性能" class="headerlink" title="你可以将其指定到一个独立的硬盘上或者一个 RAID1 卷上来提高其性能"></a>你可以将其指定到一个独立的硬盘上或者一个 RAID1 卷上来提高其性能</h1><p>#innodb_log_group_home_dir</p>
<h1 id="在-InnoDB-缓冲池中最大允许的脏页面的比例"><a href="#在-InnoDB-缓冲池中最大允许的脏页面的比例" class="headerlink" title="在 InnoDB 缓冲池中最大允许的脏页面的比例."></a>在 InnoDB 缓冲池中最大允许的脏页面的比例.</h1><h1 id="如果达到限额-InnoDB-会开始刷新他们防止他们妨碍到干净数据页面"><a href="#如果达到限额-InnoDB-会开始刷新他们防止他们妨碍到干净数据页面" class="headerlink" title="如果达到限额, InnoDB 会开始刷新他们防止他们妨碍到干净数据页面."></a>如果达到限额, InnoDB 会开始刷新他们防止他们妨碍到干净数据页面.</h1><h1 id="这是一个软限制-不被保证绝对执行"><a href="#这是一个软限制-不被保证绝对执行" class="headerlink" title="这是一个软限制,不被保证绝对执行."></a>这是一个软限制,不被保证绝对执行.</h1><p>innodb_max_dirty_pages_pct = 90</p>
<h1 id="InnoDB-用来刷新日志的方法"><a href="#InnoDB-用来刷新日志的方法" class="headerlink" title="InnoDB 用来刷新日志的方法."></a>InnoDB 用来刷新日志的方法.</h1><h1 id="表空间总是使用双重写入刷新方法"><a href="#表空间总是使用双重写入刷新方法" class="headerlink" title="表空间总是使用双重写入刷新方法"></a>表空间总是使用双重写入刷新方法</h1><h1 id="默认值是-“fdatasync”-另一个是-“O-DSYNC”"><a href="#默认值是-“fdatasync”-另一个是-“O-DSYNC”" class="headerlink" title="默认值是 “fdatasync”, 另一个是 “O_DSYNC”."></a>默认值是 “fdatasync”, 另一个是 “O_DSYNC”.</h1><p>#innodb_flush_method=O_DSYNC</p>
<h1 id="在被回滚前-一个-InnoDB-的事务应该等待一个锁被批准多久"><a href="#在被回滚前-一个-InnoDB-的事务应该等待一个锁被批准多久" class="headerlink" title="在被回滚前,一个 InnoDB 的事务应该等待一个锁被批准多久."></a>在被回滚前,一个 InnoDB 的事务应该等待一个锁被批准多久.</h1><h1 id="InnoDB-在其拥有的锁表中自动检测事务死锁并且回滚事务"><a href="#InnoDB-在其拥有的锁表中自动检测事务死锁并且回滚事务" class="headerlink" title="InnoDB 在其拥有的锁表中自动检测事务死锁并且回滚事务."></a>InnoDB 在其拥有的锁表中自动检测事务死锁并且回滚事务.</h1><h1 id="如果你使用-LOCK-TABLES-指令-或者在同样事务中使用除了-InnoDB-以外的其他事务安全的存储引擎"><a href="#如果你使用-LOCK-TABLES-指令-或者在同样事务中使用除了-InnoDB-以外的其他事务安全的存储引擎" class="headerlink" title="如果你使用 LOCK TABLES 指令, 或者在同样事务中使用除了 InnoDB 以外的其他事务安全的存储引擎"></a>如果你使用 LOCK TABLES 指令, 或者在同样事务中使用除了 InnoDB 以外的其他事务安全的存储引擎</h1><h1 id="那么一个死锁可能发生而-InnoDB-无法注意到"><a href="#那么一个死锁可能发生而-InnoDB-无法注意到" class="headerlink" title="那么一个死锁可能发生而 InnoDB 无法注意到."></a>那么一个死锁可能发生而 InnoDB 无法注意到.</h1><h1 id="这种情况下这个-timeout-值对于解决这种问题就非常有帮助"><a href="#这种情况下这个-timeout-值对于解决这种问题就非常有帮助" class="headerlink" title="这种情况下这个 timeout 值对于解决这种问题就非常有帮助."></a>这种情况下这个 timeout 值对于解决这种问题就非常有帮助.</h1><p>innodb_lock_wait_timeout = 120</p>
<p>[mysqldump]</p>
<h1 id="不要在将内存中的整个结果写入磁盘之前缓存-在导出非常巨大的表时需要此项"><a href="#不要在将内存中的整个结果写入磁盘之前缓存-在导出非常巨大的表时需要此项" class="headerlink" title="不要在将内存中的整个结果写入磁盘之前缓存. 在导出非常巨大的表时需要此项"></a>不要在将内存中的整个结果写入磁盘之前缓存. 在导出非常巨大的表时需要此项</h1><p>quick<br>max_allowed_packet = 16M<br>[mysql]<br>no-auto-rehash</p>
<h1 id="仅仅允许使用键值的-UPDATEs-和-DELETEs"><a href="#仅仅允许使用键值的-UPDATEs-和-DELETEs" class="headerlink" title="仅仅允许使用键值的 UPDATEs 和 DELETEs ."></a>仅仅允许使用键值的 UPDATEs 和 DELETEs .</h1><p>#safe-updates<br>[isamchk]<br>key_buffer = 512M<br>sort_buffer_size = 512M<br>read_buffer = 8M<br>write_buffer = 8M<br>[myisamchk]<br>key_buffer = 512M<br>sort_buffer_size = 512M<br>read_buffer = 8M<br>write_buffer = 8M<br>[mysqlhotcopy]<br>interactive-timeout<br>[mysqld_safe]</p>
<h1 id="增加每个进程的可打开文件数量"><a href="#增加每个进程的可打开文件数量" class="headerlink" title="增加每个进程的可打开文件数量."></a>增加每个进程的可打开文件数量.</h1><h1 id="警告-确认你已经将全系统限制设定的足够高"><a href="#警告-确认你已经将全系统限制设定的足够高" class="headerlink" title="警告: 确认你已经将全系统限制设定的足够高!"></a>警告: 确认你已经将全系统限制设定的足够高!</h1><h1 id="打开大量表需要将此值设高"><a href="#打开大量表需要将此值设高" class="headerlink" title="打开大量表需要将此值设高"></a>打开大量表需要将此值设高</h1><p>open-files-limit = 8192</p>
<h2 id="MongoDB"><a href="#MongoDB" class="headerlink" title="MongoDB"></a>MongoDB</h2><p>官网<br><a target="_blank" rel="noopener" href="https://www.mongodb.com/">https://www.mongodb.com/</a><br><a target="_blank" rel="noopener" href="https://www.mongodb.org.cn/">https://www.mongodb.org.cn/</a></p>
<h3 id="windows-15"><a href="#windows-15" class="headerlink" title="windows"></a>windows</h3><h4 id="msi-安装"><a href="#msi-安装" class="headerlink" title="msi 安装"></a>msi 安装</h4><p>// 下载 msi 文件直接进行安装，注意安装过程中要取消安装 mongodb compass</p>
<p>// 配置环境变量<br>MONGODB_HOME=\local\mongoDB\Server\4.4<br>path=%MONGODB_HOME%\bin</p>
<h4 id="zip-安装"><a href="#zip-安装" class="headerlink" title="zip 安装"></a>zip 安装</h4><p>// 下载 zip 的包</p>
<p>// 解压到安装的目录下</p>
<p>// 创建 data 目录和 log 目录</p>
<p>// 执行命令<br>mongod –dbpath D:\local\mongoDB\data –logpath D:\localmongoDB\mongodb\logs\mongo.log –install –serviceName “MongoDB”<br>–dbpath:指定数据路径<br>–logpath:指定日志文件路径<br>–serviceName（可选）:这个命令是为了创建一个名为 MongoDB 的服务名，这样我们每次启动就可以使用 net start MongoDB 命令启动 mongoDB,当然这个命令是可选的，因为我们也可以将 D:\local\mongoDB\bin 添加到环境变量 path 中,这样我们在任何路径下都可以使用 mongo –dbpath D:\local\mongoDB\data 命令来启动</p>
<p>// 配置完成后启动 mongodb 服务<br>net start MongoDB</p>
<p>// 或者使用配置文件的方式来进行安装服务<br>// 在安装目录下新建 mongodb.conf<br>dbpath=D:\local\mongoDB\data # 数据库文件<br>logpath=D:\local\mongoDB\logs\mongodb.log # 日志文件<br>logappend=true # 日志采用追加模式，配置后 mongodb 日志会追加到现有的日志文件，不会重新创建一个新文件<br>journal=true # 启用日志文件，默认启用<br>quiet=true # 这个选项可以过滤掉一些无用的日志信息，调试模式下设置为 false<br>port=27017 # 端口号 默认为 27017</p>
<p>// 使用安装配置命令<br>mongod –config D:\local\mongoDB\mongodb.conf</p>
<p>// 启动服务后进行验证<br><a target="_blank" rel="noopener" href="http://localhost:27017/">http://localhost:27017</a></p>
<h3 id="Linux-15"><a href="#Linux-15" class="headerlink" title="Linux"></a>Linux</h3><p>使用 rpm 包进行安装<br>// 下载官网上的 rpm 包<br>// 部署集群环境需要安装<br>mongodb-org-mongos-4.4.0-1.el7.x86_64.rpm<br>// mongod 服务<br>mongodb-org-server-4.4.0-1.el7.x86_64.rpm<br>// shell 交互需要<br>mongodb-org-shell-4.4.0-1.el7.x86_64.rpm</p>
<p>// 安装完成之后会生成一个默认的配置文件/etc/mongod.conf</p>
<h1 id="mongod-conf"><a href="#mongod-conf" class="headerlink" title="mongod.conf"></a>mongod.conf</h1><h1 id="for-documentation-of-all-options-see"><a href="#for-documentation-of-all-options-see" class="headerlink" title="for documentation of all options, see:"></a>for documentation of all options, see:</h1><h1 id="http-docs-mongodb-org-manual-reference-configuration-options"><a href="#http-docs-mongodb-org-manual-reference-configuration-options" class="headerlink" title="http://docs.mongodb.org/manual/reference/configuration-options/"></a><a target="_blank" rel="noopener" href="http://docs.mongodb.org/manual/reference/configuration-options/">http://docs.mongodb.org/manual/reference/configuration-options/</a></h1><h1 id="where-to-write-logging-data"><a href="#where-to-write-logging-data" class="headerlink" title="where to write logging data."></a>where to write logging data.</h1><p>systemLog:<br>destination: file<br>logAppend: true<br>path: /var/log/mongodb/mongod.log</p>
<h1 id="Where-and-how-to-store-data"><a href="#Where-and-how-to-store-data" class="headerlink" title="Where and how to store data."></a>Where and how to store data.</h1><p>storage:<br>dbPath: /var/lib/mongo<br>journal:<br>enabled: true</p>
<h1 id="engine"><a href="#engine" class="headerlink" title="engine:"></a>engine:</h1><h1 id="wiredTiger"><a href="#wiredTiger" class="headerlink" title="wiredTiger:"></a>wiredTiger:</h1><h1 id="how-the-process-runs"><a href="#how-the-process-runs" class="headerlink" title="how the process runs"></a>how the process runs</h1><p>processManagement:<br>fork: true # fork and run in background<br>pidFilePath: /var/run/mongodb/mongod.pid # location of pidfile<br>timeZoneInfo: /usr/share/zoneinfo</p>
<h1 id="network-interfaces"><a href="#network-interfaces" class="headerlink" title="network interfaces"></a>network interfaces</h1><p>net:<br>port: 27017<br>bindIp: 127.0.0.1 # Enter 0.0.0.0,:: to bind to all IPv4 and IPv6 addresses or, alternatively, use the net.bindIpAll setting.</p>
<p>#security:</p>
<p>#operationProfiling:</p>
<p>#replication:</p>
<p>#sharding:</p>
<h2 id="Enterprise-Only-Options"><a href="#Enterprise-Only-Options" class="headerlink" title="Enterprise-Only Options"></a>Enterprise-Only Options</h2><p>#auditLog:</p>
<p>#snmp:</p>
<h2 id="虚拟机配置"><a href="#虚拟机配置" class="headerlink" title="虚拟机配置"></a>虚拟机配置</h2><h3 id="软件版本"><a href="#软件版本" class="headerlink" title="软件版本"></a>软件版本</h3><ul>
<li>宿主机：windows10</li>
<li>虚拟机：vmware15.5.6</li>
<li>linux 镜像：centos1708_x64</li>
<li>ssh：xshell、securecrt</li>
<li>sftp：xftp、winscp</li>
</ul>
<h3 id="安装系统"><a href="#安装系统" class="headerlink" title="安装系统"></a>安装系统</h3><h4 id="配置网络"><a href="#配置网络" class="headerlink" title="配置网络"></a>配置网络</h4><p>因为选择使用桥接的模式来进行配置网络，所以我们需要桥接到哪一块的网卡上，这里选择主机的无线网卡<br><img src="https://cdn.nlark.com/yuque/0/2021/png/1430920/1618929168915-e0793457-702b-4608-9d7e-aa9cdb6236ac.png#clientId=u3f79bcc4-559b-4&from=paste&height=774&id=ua42eb338&margin=%5Bobject%20Object%5D&originHeight=774&originWidth=898&originalType=url&status=done&style=none&taskId=u9b795330-6108-4f18-b7fa-40a45d35944&width=898"></p>
<h4 id="镜像安装"><a href="#镜像安装" class="headerlink" title="镜像安装"></a>镜像安装</h4><ul>
<li>点击新建虚拟机，选择自定义安装</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2021/png/1430920/1618929168979-1097f88a-47d4-42f2-8cc3-5cdf45aa5a9a.png#clientId=u3f79bcc4-559b-4&from=paste&height=664&id=u6dcb6e42&margin=%5Bobject%20Object%5D&originHeight=664&originWidth=708&originalType=url&status=done&style=none&taskId=ufc947ff7-7668-40b0-8632-1a2b7a7c846&width=708"></p>
<ul>
<li>默认即可，可以选择硬件兼容更早的版本</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2021/png/1430920/1618929168968-0361aa5b-46f4-43ac-b3dd-bd4856ae17d8.png#clientId=u3f79bcc4-559b-4&from=paste&height=672&id=u684267c7&margin=%5Bobject%20Object%5D&originHeight=672&originWidth=711&originalType=url&status=done&style=none&taskId=ueb02c941-83ed-401d-915e-63c61e182a9&width=711"></p>
<ul>
<li>选择需要安装的系统的 iso 文件</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2021/png/1430920/1618929168963-84a62e5d-f9ac-4a07-bd3c-87a192d22fb2.png#clientId=u3f79bcc4-559b-4&from=paste&height=672&id=u4a79dfec&margin=%5Bobject%20Object%5D&originHeight=672&originWidth=705&originalType=url&status=done&style=none&taskId=ucfcb0802-ddf7-4ab8-89b2-d77fe2e030a&width=705"></p>
<ul>
<li>虚拟机命名以及存放位置</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2021/png/1430920/1618929168980-f16492e8-aba5-4c4e-a074-205a9c992e5e.png#clientId=u3f79bcc4-559b-4&from=paste&height=670&id=u884703c6&margin=%5Bobject%20Object%5D&originHeight=670&originWidth=707&originalType=url&status=done&style=none&taskId=uf4d226ae-1de8-4a0d-9052-b1eee5754db&width=707"></p>
<ul>
<li>设置处理器的数量和内核的数量</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2021/png/1430920/1618929169508-22329ec6-0071-49c6-ac90-01e738a92a22.png#clientId=u3f79bcc4-559b-4&from=paste&height=668&id=u2f4ebed4&margin=%5Bobject%20Object%5D&originHeight=668&originWidth=706&originalType=url&status=done&style=none&taskId=u73d06363-8f55-45c4-bd7b-8197c638c48&width=706"></p>
<ul>
<li>设置占用内存的大小</li>
<li>设置使用桥接网络，使得虚拟机中的系统和主机能够互通</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2021/png/1430920/1618929169560-422a0d60-45e8-4fff-ab49-a5a2152cbb2d.png#clientId=u3f79bcc4-559b-4&from=paste&height=667&id=u0f6b0657&margin=%5Bobject%20Object%5D&originHeight=667&originWidth=708&originalType=url&status=done&style=none&taskId=u88891987-555a-41f7-9fe0-29d934ecde5&width=708"></p>
<ul>
<li>默认即可</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2021/png/1430920/1618929169555-4a87f174-35b1-4a3d-84fe-4d9789b3f298.png#clientId=u3f79bcc4-559b-4&from=paste&height=673&id=u10bb24d3&margin=%5Bobject%20Object%5D&originHeight=673&originWidth=712&originalType=url&status=done&style=none&taskId=u879272ba-4276-48f3-9faf-f335475bf92&width=712"></p>
<ul>
<li>默认即可</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2021/png/1430920/1618929169562-38f640c6-9ca9-4a6d-8ade-5d41efecdcba.png#clientId=u3f79bcc4-559b-4&from=paste&height=676&id=u53086bc5&margin=%5Bobject%20Object%5D&originHeight=676&originWidth=709&originalType=url&status=done&style=none&taskId=u9165552d-253a-4aad-913c-4ff9e16125b&width=709"></p>
<ul>
<li>创建新的虚拟磁盘</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2021/png/1430920/1618929169662-e0eef2a2-7ad1-42a5-8763-efc7fd1eb70d.png#clientId=u3f79bcc4-559b-4&from=paste&height=676&id=ud6571532&margin=%5Bobject%20Object%5D&originHeight=676&originWidth=720&originalType=url&status=done&style=none&taskId=u12bca789-ffb4-4df0-b2aa-8e4aed545cd&width=720"></p>
<ul>
<li>设置磁盘的大小</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2021/png/1430920/1618929170086-1b309beb-3144-4785-8b03-78376c01a7b9.png#clientId=u3f79bcc4-559b-4&from=paste&height=666&id=u1fe601c8&margin=%5Bobject%20Object%5D&originHeight=666&originWidth=713&originalType=url&status=done&style=none&taskId=ue14399b7-d0e2-48ef-95b6-75e5a7f4422&width=713"></p>
<ul>
<li>命名磁盘的文件</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2021/png/1430920/1618929170081-efd88f0d-1b71-4dcd-821a-9d549b9250e8.png#clientId=u3f79bcc4-559b-4&from=paste&height=671&id=ua8e56e87&margin=%5Bobject%20Object%5D&originHeight=671&originWidth=712&originalType=url&status=done&style=none&taskId=u146ba902-6fce-4f09-8007-7477b118ab7&width=712"></p>
<ul>
<li>检查配置是否有误</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2021/png/1430920/1618929170090-757fa171-0709-435c-b3dc-9553d9c5849d.png#clientId=u3f79bcc4-559b-4&from=paste&height=676&id=u37d67583&margin=%5Bobject%20Object%5D&originHeight=676&originWidth=707&originalType=url&status=done&style=none&taskId=ua8161296-b49b-4968-8f5a-a27af7866dc&width=707"></p>
<ul>
<li>Enter 键开始安装</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2021/png/1430920/1618929170118-65cd429e-8e8d-44a7-b81f-c524282ea875.png#clientId=u3f79bcc4-559b-4&from=paste&height=503&id=u056eac5a&margin=%5Bobject%20Object%5D&originHeight=503&originWidth=863&originalType=url&status=done&style=none&taskId=uc6ec5ff5-d780-4b66-bd27-df97305f7ba&width=863"></p>
<ul>
<li>选择语言</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2021/png/1430920/1618929170257-987a54f3-f0eb-4891-968d-24031d4d6a99.png#clientId=u3f79bcc4-559b-4&from=paste&height=605&id=u8b3b5df5&margin=%5Bobject%20Object%5D&originHeight=605&originWidth=808&originalType=url&status=done&style=none&taskId=uc9a20d83-94c0-4d66-a5c8-52c133d002b&width=808"></p>
<ul>
<li>设置时间，开启网络，自动设置时间</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2021/png/1430920/1618929170572-b4214281-9706-4b5d-8ea3-658c267ddf6c.png#clientId=u3f79bcc4-559b-4&from=paste&height=606&id=u227faa7b&margin=%5Bobject%20Object%5D&originHeight=606&originWidth=808&originalType=url&status=done&style=none&taskId=u600b4b13-4549-412a-8d5c-f82220d3d89&width=808"></p>
<ul>
<li>选择安装后的初始环境，由于镜像内只有最小的环境所以选择最小的安装环境</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2021/png/1430920/1618929170597-ebd7eed3-722c-4a0d-92d8-d99203e97c3a.png#clientId=u3f79bcc4-559b-4&from=paste&height=601&id=u1e4e9d19&margin=%5Bobject%20Object%5D&originHeight=601&originWidth=803&originalType=url&status=done&style=none&taskId=u0eae5720-0218-4d2e-8f6d-28e9ee40bb2&width=803"></p>
<ul>
<li>配置磁盘</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2021/png/1430920/1618929170627-a484e76d-a267-47dd-91c2-2e3e0325d126.png#clientId=u3f79bcc4-559b-4&from=paste&height=602&id=u6c770117&margin=%5Bobject%20Object%5D&originHeight=602&originWidth=812&originalType=url&status=done&style=none&taskId=u981b1e3e-4794-428a-a4ae-634757df458&width=812"></p>
<ul>
<li>配置网络连接</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2021/png/1430920/1618929170613-9298f73d-3053-43e2-9a16-88c6a73ab0ab.png#clientId=u3f79bcc4-559b-4&from=paste&height=596&id=ub750e0e0&margin=%5Bobject%20Object%5D&originHeight=596&originWidth=811&originalType=url&status=done&style=none&taskId=uede80458-b920-4d0a-b15c-da7f6d62b6a&width=811"></p>
<ul>
<li>设置 root 密码和创建普通用户</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2021/png/1430920/1618929170912-caef3def-a3ce-4dbc-813f-bf5f7488528c.png#clientId=u3f79bcc4-559b-4&from=paste&height=602&id=u29d5feaf&margin=%5Bobject%20Object%5D&originHeight=602&originWidth=801&originalType=url&status=done&style=none&taskId=ud3c1c89a-876a-415b-98bb-1a8cc12e6ac&width=801"></p>
<h4 id="初始化设置"><a href="#初始化设置" class="headerlink" title="初始化设置"></a>初始化设置</h4><p>// 因为是桥接需要我们手动为系统分配一个 ip 地址，输入以下的命令：<br>dhclient</p>
<p>// 将分配到的 ip 地址配置进虚拟机的网卡中去</p>
<p>// 使用命令<br>vim /etc/sysconfig/network-scripts/ifcfg-ens33</p>
<p>// 修改新的配置如下<br>TYPE=Ethernet<br>PROXY_METHOD=none<br>BROWSER_ONLY=no<br>BOOTPROTO=static<br>DEFROUTE=yes<br>IPV4_FAILURE_FATAL=no<br>IPV6INIT=yes<br>IPV6_AUTOCONF=yes<br>IPV6_DEFROUTE=yes<br>IPV6_FAILURE_FATAL=no<br>IPV6_ADDR_GEN_MODE=stable-privacy<br>NAME=ens33<br>UUID=824ec4bd-a9ae-4410-8346-17ce7f3dd111<br>DEVICE=ens33<br>ONBOOT=yes<br>IPADDR=192.168.31.21<br>NETMASK=255.255.255.0<br>GATEWAY=192.168.31.1<br>DNS1=119.29.29.29</p>
<p>// 最后检查虚拟机和物理宿主机的相互连通性，以及虚拟机能够正常连接网络，如果发现虚拟机无法 ping 通宿主机，关闭宿主机的防火墙即可</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/04/20/yuque/local_config/" data-id="ckowcdwn0000bngnednr0atis" data-title="local_config" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-yuque/test_two" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/04/20/yuque/test_two/" class="article-date">
  <time class="dt-published" datetime="2021-04-20T04:19:09.000Z" itemprop="datePublished">2021-04-20</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/04/20/yuque/test_two/">test_two</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>this is two</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/04/20/yuque/test_two/" data-id="ckowcdwms0008ngnecke3hn6d" data-title="test_two" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  


  <nav id="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">Next &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">May 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">April 2021</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2021/05/20/hello-world/">Hello World</a>
          </li>
        
          <li>
            <a href="/2021/05/20/yuque/homebrew/">homebrew</a>
          </li>
        
          <li>
            <a href="/2021/05/17/yuque/software/">software</a>
          </li>
        
          <li>
            <a href="/2021/05/17/yuque/11_java_unit_testing/">11_java_unit_testing</a>
          </li>
        
          <li>
            <a href="/2021/05/17/yuque/unit_testing/">unit_testing</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2021 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>